<!DOCTYPE html><html lang=en><head><title>LanceDB - lancedb</title><meta charset=utf-8><meta name=viewport content="width=device-width"><style>@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-normal-400.woff2");font-family:gg sans;font-weight:400;font-style:normal}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-normal-500.woff2");font-family:gg sans;font-weight:500;font-style:normal}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-normal-600.woff2");font-family:gg sans;font-weight:600;font-style:normal}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-normal-700.woff2");font-family:gg sans;font-weight:700;font-style:normal}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-normal-800.woff2");font-family:gg sans;font-weight:800;font-style:normal}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-italic-400.woff2");font-family:gg sans;font-weight:400;font-style:italic}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-italic-500.woff2");font-family:gg sans;font-weight:500;font-style:italic}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-italic-600.woff2");font-family:gg sans;font-weight:600;font-style:italic}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-italic-700.woff2");font-family:gg sans;font-weight:700;font-style:italic}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-italic-800.woff2");font-family:gg sans;font-weight:800;font-style:italic}html,body{margin:0;padding:0;background-color:#36393e;color:#dcddde;font-family:"gg sans","Helvetica Neue",Helvetica,Arial,sans-serif;font-size:17px;font-weight:400;scroll-behavior:smooth}a{color:#00aff4;text-decoration:none}a:hover{text-decoration:underline}img{object-fit:contain;image-rendering:high-quality;image-rendering:-webkit-optimize-contrast}.preamble{display:grid;grid-template-columns:auto 1fr;max-width:100%;padding:1rem}.preamble__guild-icon-container{grid-column:1}.preamble__guild-icon{max-width:88px;max-height:88px}.preamble__entries-container{grid-column:2;margin-left:1rem}.preamble__entry{margin-bottom:0.15rem;color:#ffffff;font-size:1.4rem}.preamble__entry--small{font-size:1rem}.chatlog{padding:1rem 0;width:100%;border-top:1px solid rgba(255,255,255,0.1);border-bottom:1px solid rgba(255,255,255,0.1)}.chatlog__message-group{margin-bottom:1rem}.chatlog__message-container{background-color:transparent;transition:background-color 1s ease}.chatlog__message-container--highlighted{background-color:rgba(114,137,218,0.2)}.chatlog__message-container--pinned{background-color:rgba(249,168,37,0.05)}.chatlog__message{display:grid;grid-template-columns:auto 1fr;padding:0.15rem 0;direction:ltr;unicode-bidi:bidi-override}.chatlog__message:hover{background-color:#32353b}.chatlog__message:hover .chatlog__short-timestamp{display:block}.chatlog__message-aside{grid-column:1;width:72px;padding:0.15rem 0.15rem 0 0.15rem;text-align:center}.chatlog__reply-symbol{height:10px;margin:6px 4px 4px 36px;border-left:2px solid #4f545c;border-top:2px solid #4f545c;border-radius:8px 0 0 0}.chatlog__avatar{width:40px;height:40px;border-radius:50%}.chatlog__short-timestamp{display:none;color:#a3a6aa;font-size:0.75rem;font-weight:500;direction:ltr;unicode-bidi:bidi-override}.chatlog__message-primary{grid-column:2;min-width:0}.chatlog__reply{display:flex;margin-bottom:0.15rem;align-items:center;color:#b5b6b8;font-size:0.875rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.chatlog__reply-avatar{width:16px;height:16px;margin-right:0.25rem;border-radius:50%}.chatlog__reply-author{margin-right:0.3rem;font-weight:600}.chatlog__reply-content{overflow:hidden;text-overflow:ellipsis}.chatlog__reply-link{cursor:pointer}.chatlog__reply-link *{display:inline;pointer-events:none}.chatlog__reply-link .chatlog__markdown-quote{display:inline}.chatlog__reply-link .chatlog__markdown-pre{display:inline}.chatlog__reply-link:hover{color:#ffffff}.chatlog__reply-link:hover *:not(.chatlog__markdown-spoiler){color:inherit}.chatlog__reply-edited-timestamp{margin-left:0.25rem;color:#a3a6aa;font-size:0.75rem;font-weight:500;direction:ltr;unicode-bidi:bidi-override}.chatlog__system-notification-icon{width:18px;height:18px}.chatlog__system-notification-author{font-weight:500;color:#ffffff}.chatlog__system-notification-content{color:#96989d}.chatlog__system-notification-link{font-weight:500;color:#ffffff}.chatlog__system-notification-timestamp{margin-left:0.3rem;color:#a3a6aa;font-size:0.75rem;font-weight:500;direction:ltr;unicode-bidi:bidi-override}.chatlog__system-notification-timestamp a{color:inherit}.chatlog__header{margin-bottom:0.1rem}.chatlog__author{font-weight:500;color:#ffffff}.chatlog__author-tag{position:relative;top:-0.1rem;margin-left:0.3rem;padding:0.05rem 0.3rem;border-radius:3px;background-color:#5865F2;color:#ffffff;font-size:0.625rem;font-weight:500;line-height:1.3}.chatlog__timestamp{margin-left:0.3rem;color:#a3a6aa;font-size:0.75rem;font-weight:500;direction:ltr;unicode-bidi:bidi-override}.chatlog__timestamp a{color:inherit}.chatlog__content{padding-right:1rem;font-size:0.95rem;word-wrap:break-word}.chatlog__edited-timestamp{margin-left:0.15rem;color:#a3a6aa;font-size:0.75rem;font-weight:500}.chatlog__attachment{position:relative;width:fit-content;margin-top:0.3rem;border-radius:3px;overflow:hidden}.chatlog__attachment--hidden{cursor:pointer;box-shadow:0 0 1px 1px rgba(0,0,0,0.1)}.chatlog__attachment--hidden *{pointer-events:none}.chatlog__attachment-spoiler-caption{display:none;position:absolute;left:50%;top:50%;z-index:999;padding:0.4rem 0.8rem;border-radius:20px;transform:translate(-50%,-50%);background-color:rgba(0,0,0,0.9);color:#dcddde;font-size:0.9rem;font-weight:600;letter-spacing:0.05rem}.chatlog__attachment--hidden .chatlog__attachment-spoiler-caption{display:block}.chatlog__attachment--hidden:hover .chatlog__attachment-spoiler-caption{color:#fff}.chatlog__attachment-media{max-width:45vw;max-height:500px;vertical-align:top;border-radius:3px}.chatlog__attachment--hidden .chatlog__attachment-media{filter:blur(44px)}.chatlog__attachment-generic{max-width:520px;width:100%;height:40px;padding:10px;border:1px solid #292b2f;border-radius:3px;background-color:#2f3136;overflow:hidden}.chatlog__attachment--hidden .chatlog__attachment-generic{filter:blur(44px)}.chatlog__attachment-generic-icon{float:left;width:30px;height:100%;margin-right:10px}.chatlog__attachment-generic-size{color:#72767d;font-size:12px}.chatlog__attachment-generic-name{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.chatlog__embed{display:flex;margin-top:0.3rem;max-width:520px}.chatlog__embed-color-pill{flex-shrink:0;width:0.25rem;border-top-left-radius:3px;border-bottom-left-radius:3px}.chatlog__embed-color-pill--default{background-color:#202225}.chatlog__embed-content-container{display:flex;flex-direction:column;padding:0.5rem 0.6rem;border:1px solid rgba(46,48,54,0.6);border-top-right-radius:3px;border-bottom-right-radius:3px;background-color:rgba(46,48,54,0.3)}.chatlog__embed-content{display:flex;width:100%}.chatlog__embed-text{flex:1}.chatlog__embed-author-container{display:flex;margin-bottom:0.5rem;align-items:center}.chatlog__embed-author-icon{width:20px;height:20px;margin-right:0.5rem;border-radius:50%}.chatlog__embed-author{color:#ffffff;font-size:0.875rem;font-weight:600;direction:ltr;unicode-bidi:bidi-override}.chatlog__embed-author-link{color:#ffffff}.chatlog__embed-title{margin-bottom:0.5rem;color:#ffffff;font-size:0.875rem;font-weight:600}.chatlog__embed-description{color:#dcddde;font-weight:500;font-size:0.85rem}.chatlog__embed-fields{display:flex;flex-wrap:wrap;gap:0 0.5rem}.chatlog__embed-field{flex:0;min-width:100%;max-width:506px;padding-top:0.6rem;font-size:0.875rem}.chatlog__embed-field--inline{flex:1;flex-basis:auto;min-width:50px}.chatlog__embed-field-name{margin-bottom:0.2rem;color:#ffffff;font-weight:600}.chatlog__embed-field-value{color:#dcddde;font-weight:500}.chatlog__embed-thumbnail{flex:0;max-width:80px;max-height:80px;margin-left:1.2rem;border-radius:3px}.chatlog__embed-images{display:grid;margin-top:0.6rem;grid-template-columns:repeat(2,1fr);gap:0.25rem}.chatlog__embed-images--single{display:block}.chatlog__embed-image{object-fit:cover;object-position:center;max-width:500px;max-height:400px;width:100%;height:100%;border-radius:3px}.chatlog__embed-footer{margin-top:0.6rem;color:#dcddde}.chatlog__embed-footer-icon{width:20px;height:20px;margin-right:0.2rem;border-radius:50%;vertical-align:middle}.chatlog__embed-footer-text{vertical-align:middle;font-size:0.75rem;font-weight:500}.chatlog__embed-invite-container{min-width:320px;padding:0.6rem 0.7rem;border:1px solid rgba(46,48,54,0.6);border-radius:3px;background-color:rgba(46,48,54,0.3)}.chatlog__embed-invite-title{margin:0 0 0.8rem 0;color:#b9bbbe;font-size:0.75rem;font-weight:700;text-transform:uppercase}.chatlog__embed-invite{display:flex}.chatlog__embed-invite-guild-icon{width:50px;height:50px;border-radius:0.85rem}.chatlog__embed-invite-info{margin-left:1rem}.chatlog__embed-invite-guild-name{color:#ffffff;font-weight:600}.chatlog__embed-invite-guild-name a{color:inherit}.chatlog__embed-invite-channel-icon{width:18px;height:18px;vertical-align:bottom}.chatlog__embed-invite-channel-name{font-size:0.9rem;font-weight:600}.chatlog__embed-generic-image{object-fit:contain;object-position:left;max-width:45vw;max-height:500px;vertical-align:top;border-radius:3px}.chatlog__embed-generic-video{object-fit:contain;object-position:left;max-width:45vw;max-height:500px;vertical-align:top;border-radius:3px}.chatlog__embed-generic-gifv{object-fit:contain;object-position:left;max-width:45vw;max-height:500px;vertical-align:top;border-radius:3px}.chatlog__embed-spotify{border:0}.chatlog__embed-twitch{border:0}.chatlog__embed-youtube-container{margin-top:0.6rem}.chatlog__embed-youtube{border:0;border-radius:3px}.chatlog__sticker{width:180px;height:180px}.chatlog__sticker--media{max-width:100%;max-height:100%}.chatlog__reactions{display:flex}.chatlog__reaction{display:flex;margin:0.35rem 0.1rem 0.1rem 0;padding:0.125rem 0.375rem;border:1px solid transparent;border-radius:8px;background-color:#2f3136;align-items:center}.chatlog__reaction:hover{border:1px solid hsla(0,0%,100%,.2);background-color:transparent}.chatlog__reaction-count{min-width:9px;margin-left:0.35rem;color:#b9bbbe;font-size:0.875rem}.chatlog__reaction:hover .chatlog__reaction-count{color:#dcddde}.chatlog__markdown{max-width:100%;line-height:1.3;overflow-wrap:break-word}.chatlog__markdown h1{margin:1rem 0 0.5rem;color:#f2f3f5;font-size:1.5rem;line-height:1}.chatlog__markdown h2{margin:1rem 0 0.5rem;color:#f2f3f5;font-size:1.25rem;line-height:1}.chatlog__markdown h3{margin:1rem 0 0.5rem;color:#f2f3f5;font-size:1rem;line-height:1}.chatlog__markdown h1:first-child,h2:first-child,h3:first-child{margin-top:0.5rem}.chatlog__markdown ul,ol{margin:0 0 0 1rem;padding:0}.chatlog__markdown-preserve{white-space:pre-wrap}.chatlog__markdown-spoiler{background-color:rgba(255,255,255,0.1);padding:0 2px;border-radius:3px}.chatlog__markdown-spoiler--hidden{cursor:pointer;background-color:#202225;color:rgba(0,0,0,0)}.chatlog__markdown-spoiler--hidden:hover{background-color:rgba(32,34,37,0.8)}.chatlog__markdown-spoiler--hidden::selection{color:rgba(0,0,0,0)}.chatlog__markdown-quote{display:flex;margin:0.05rem 0}.chatlog__markdown-quote-border{margin-right:0.5rem;border:2px solid #4f545c;border-radius:3px}.chatlog__markdown-pre{background-color:#2f3136;font-family:"Consolas","Courier New",Courier,monospace;font-size:0.85rem;text-decoration:inherit}.chatlog__markdown-pre--multiline{display:block;margin-top:0.25rem;padding:0.5rem;border:2px solid #282b30;border-radius:5px;color:#b9bbbe}.chatlog__markdown-pre--multiline.hljs{background-color:#2f3136;color:#b9bbbe}.chatlog__markdown-pre--inline{display:inline-block;padding:2px;border-radius:3px}.chatlog__markdown-mention{border-radius:3px;padding:0 2px;background-color:rgba(88,101,242,.3);color:#dee0fc;font-weight:500}.chatlog__markdown-mention:hover{background-color:#5865f2;color:#ffffff}.chatlog__markdown-timestamp{background-color:rgba(255,255,255,0.1);padding:0 2px;border-radius:3px}.chatlog__emoji{width:1.325rem;height:1.325rem;margin:0 0.06rem;vertical-align:-0.4rem}.chatlog__emoji--small{width:1rem;height:1rem}.chatlog__emoji--large{width:2.8rem;height:2.8rem}.postamble{padding:1.25rem}.postamble__entry{color:#ffffff}</style><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/solarized-dark.min.css><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js></script><script>document.addEventListener('DOMContentLoaded',()=>{document.querySelectorAll('.chatlog__markdown-pre--multiline').forEach(e=>hljs.highlightBlock(e));});</script><script src=https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.8.1/lottie.min.js></script><script>document.addEventListener('DOMContentLoaded',()=>{document.querySelectorAll('.chatlog__sticker--media[data-source]').forEach(e=>{const anim=lottie.loadAnimation({container:e,renderer:'svg',loop:true,autoplay:true,path:e.getAttribute('data-source')});anim.addEventListener('data_failed',()=>e.innerHTML='<strong>[Sticker cannot be rendered]</strong>');});});</script><script>function scrollToMessage(event,id){const element=document.getElementById('chatlog__message-container-'+id);if(!element)
return;event.preventDefault();element.classList.add('chatlog__message-container--highlighted');window.scrollTo({top:element.getBoundingClientRect().top-document.body.getBoundingClientRect().top-(window.innerHeight/2),behavior:'smooth'});window.setTimeout(()=>element.classList.remove('chatlog__message-container--highlighted'),2000);}
function showSpoiler(event,element){if(!element)
return;if(element.classList.contains('chatlog__attachment--hidden')){event.preventDefault();element.classList.remove('chatlog__attachment--hidden');}
if(element.classList.contains('chatlog__markdown-spoiler--hidden')){event.preventDefault();element.classList.remove('chatlog__markdown-spoiler--hidden');}}</script><svg style=display:none xmlns=http://www.w3.org/2000/svg><defs><symbol id=attachment-icon viewBox="0 0 720 960"><path fill=#f4f5fb d=M50,935a25,25,0,0,1-25-25V50A25,25,0,0,1,50,25H519.6L695,201.32V910a25,25,0,0,1-25,25Z /><path fill=#7789c4 d=M509.21,50,670,211.63V910H50V50H509.21M530,0H50A50,50,0,0,0,0,50V910a50,50,0,0,0,50,50H670a50,50,0,0,0,50-50h0V191Z /><path fill=#f4f5fb d=M530,215a25,25,0,0,1-25-25V50a25,25,0,0,1,16.23-23.41L693.41,198.77A25,25,0,0,1,670,215Z /><path fill=#7789c4 d=M530,70.71,649.29,190H530V70.71M530,0a50,50,0,0,0-50,50V190a50,50,0,0,0,50,50H670a50,50,0,0,0,50-50Z /></symbol><symbol id=join-icon viewBox="0 0 18 18"><path fill=#3ba55c d="m0 8h14.2l-3.6-3.6 1.4-1.4 6 6-6 6-1.4-1.4 3.6-3.6h-14.2" /></symbol><symbol id=leave-icon viewBox="0 0 18 18"><path fill=#ed4245 d="m3.8 8 3.6-3.6-1.4-1.4-6 6 6 6 1.4-1.4-3.6-3.6h14.2v-2" /></symbol><symbol id=call-icon viewBox="0 0 18 18"><path fill=#3ba55c fill-rule=evenodd d="M17.7163041 15.36645368c-.0190957.02699568-1.9039523 2.6680735-2.9957762 2.63320406-3.0676659-.09785935-6.6733809-3.07188394-9.15694343-5.548738C3.08002193 9.9740657.09772497 6.3791404 0 3.3061316v-.024746C0 2.2060575 2.61386252.3152347 2.64082114.2972376c.7110335-.4971705 1.4917101-.3149497 1.80959713.1372281.19320342.2744561 2.19712724 3.2811005 2.42290565 3.6489167.09884826.1608492.14714912.3554431.14714912.5702838 0 .2744561-.07975258.5770327-.23701117.8751101-.1527655.2902036-.65262318 1.1664385-.89862055 1.594995.2673396.3768148.94804468 1.26429792 2.351016 2.66357424 1.39173858 1.39027775 2.28923588 2.07641807 2.67002628 2.34187563.4302146-.2452108 1.3086162-.74238132 1.5972981-.89423205.5447887-.28682915 1.0907006-.31944893 1.4568885-.08661115.3459689.2182151 3.3383754 2.21027167 3.6225641 2.41611376.2695862.19234426.4144887.5399137.4144887.91672846 0 .2969525-.089862.61190215-.2808189.88523346" /></symbol><symbol id=pencil-icon viewBox="0 0 18 18"><path fill=#99aab5 d="m0 14.25v3.75h3.75l11.06-11.06-3.75-3.75zm17.71-10.21c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75z" /></symbol><symbol id=pin-icon viewBox="0 0 18 18"><path fill=#b9bbbe d="m16.908 8.39684-8.29587-8.295827-1.18584 1.184157 1.18584 1.18584-4.14834 4.1475v.00167l-1.18583-1.18583-1.185 1.18583 3.55583 3.55502-4.740831 4.74 1.185001 1.185 4.74083-4.74 3.55581 3.555 1.185-1.185-1.185-1.185 4.1475-4.14836h.0009l1.185 1.185z" /></symbol><symbol id=channel-icon viewBox="0 0 24 24"><path fill=#b9bbbe d="M5.88657 21C5.57547 21 5.3399 20.7189 5.39427 20.4126L6.00001 17H2.59511C2.28449 17 2.04905 16.7198 2.10259 16.4138L2.27759 15.4138C2.31946 15.1746 2.52722 15 2.77011 15H6.35001L7.41001 9H4.00511C3.69449 9 3.45905 8.71977 3.51259 8.41381L3.68759 7.41381C3.72946 7.17456 3.93722 7 4.18011 7H7.76001L8.39677 3.41262C8.43914 3.17391 8.64664 3 8.88907 3H9.87344C10.1845 3 10.4201 3.28107 10.3657 3.58738L9.76001 7H15.76L16.3968 3.41262C16.4391 3.17391 16.6466 3 16.8891 3H17.8734C18.1845 3 18.4201 3.28107 18.3657 3.58738L17.76 7H21.1649C21.4755 7 21.711 7.28023 21.6574 7.58619L21.4824 8.58619C21.4406 8.82544 21.2328 9 20.9899 9H17.41L16.35 15H19.7549C20.0655 15 20.301 15.2802 20.2474 15.5862L20.0724 16.5862C20.0306 16.8254 19.8228 17 19.5799 17H16L15.3632 20.5874C15.3209 20.8261 15.1134 21 14.8709 21H13.8866C13.5755 21 13.3399 20.7189 13.3943 20.4126L14 17H8.00001L7.36325 20.5874C7.32088 20.8261 7.11337 21 6.87094 21H5.88657ZM9.41045 9L8.35045 15H14.3504L15.4104 9H9.41045Z" /></symbol><symbol id=thread-icon viewBox="0 0 24 24"><path fill=#b9bbbe d="M5.43309 21C5.35842 21 5.30189 20.9325 5.31494 20.859L5.99991 17H2.14274C2.06819 17 2.01168 16.9327 2.02453 16.8593L2.33253 15.0993C2.34258 15.0419 2.39244 15 2.45074 15H6.34991L7.40991 9H3.55274C3.47819 9 3.42168 8.93274 3.43453 8.85931L3.74253 7.09931C3.75258 7.04189 3.80244 7 3.86074 7H7.75991L8.45234 3.09903C8.46251 3.04174 8.51231 3 8.57049 3H10.3267C10.4014 3 10.4579 3.06746 10.4449 3.14097L9.75991 7H15.7599L16.4523 3.09903C16.4625 3.04174 16.5123 3 16.5705 3H18.3267C18.4014 3 18.4579 3.06746 18.4449 3.14097L17.7599 7H21.6171C21.6916 7 21.7481 7.06725 21.7353 7.14069L21.4273 8.90069C21.4172 8.95811 21.3674 9 21.3091 9H17.4099L17.0495 11.04H15.05L15.4104 9H9.41035L8.35035 15H10.5599V17H7.99991L7.30749 20.901C7.29732 20.9583 7.24752 21 7.18934 21H5.43309Z" /><path fill=#b9bbbe d="M13.4399 12.96C12.9097 12.96 12.4799 13.3898 12.4799 13.92V20.2213C12.4799 20.7515 12.9097 21.1813 13.4399 21.1813H14.3999C14.5325 21.1813 14.6399 21.2887 14.6399 21.4213V23.4597C14.6399 23.6677 14.8865 23.7773 15.0408 23.6378L17.4858 21.4289C17.6622 21.2695 17.8916 21.1813 18.1294 21.1813H22.5599C23.0901 21.1813 23.5199 20.7515 23.5199 20.2213V13.92C23.5199 13.3898 23.0901 12.96 22.5599 12.96H13.4399Z" /></symbol></defs></svg><body><div class=preamble><div class=preamble__guild-icon-container><img class=preamble__guild-icon src="https://cdn.discordapp.com/icons/1030247538198061086/3b63f3695230f74fda100de956749b12.png?size=512" alt="Guild icon" loading=lazy></div><div class=preamble__entries-container><div class=preamble__entry>LanceDB</div><div class=preamble__entry>Archived channels / lancedb</div></div></div>
<div class="chatlog">

<div class=chatlog__message-group><div id=chatlog__message-container-1103369180138442754 class=chatlog__message-container data-message-id=1103369180138442754><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=zhenyu.sha data-user-id=806695738054148116>zhenyu.sha</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 5:15â€¯PM"><a href=#chatlog__message-container-1103369180138442754>5/3/2023 5:15â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>May I ask the relationship between lance and lancedb</span></div></div></div></div><div id=chatlog__message-container-1103369187231019059 class=chatlog__message-container data-message-id=1103369187231019059><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 5:15â€¯PM">5:15â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103369363937038386 class=chatlog__message-container data-message-id=1103369363937038386><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 5:15â€¯PM"><a href=#chatlog__message-container-1103369363937038386>5/3/2023 5:15â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>lance is the columnar data format and lancedb is the vector database built around the data format</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103370337489531060 class=chatlog__message-container data-message-id=1103370337489531060><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=zhenyu.sha data-user-id=806695738054148116>zhenyu.sha</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 5:19â€¯PM"><a href=#chatlog__message-container-1103370337489531060>5/3/2023 5:19â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Got it. Thanks</span></div></div></div></div><div id=chatlog__message-container-1103370415151263764 class=chatlog__message-container data-message-id=1103370415151263764><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 5:20â€¯PM">5:20â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I think you guys hide the duckdb detail from the user <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"></span></div></div></div></div><div id=chatlog__message-container-1103370446352678912 class=chatlog__message-container data-message-id=1103370446352678912><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 5:20â€¯PM">5:20â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Let me take a good study</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103370745721135145 class=chatlog__message-container data-message-id=1103370745721135145><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 5:21â€¯PM"><a href=#chatlog__message-container-1103370745721135145>5/3/2023 5:21â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>we don&#39;t use duckdb under the hood</span></div></div></div></div><div id=chatlog__message-container-1103370763207188643 class=chatlog__message-container data-message-id=1103370763207188643><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 5:21â€¯PM">5:21â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>it&#39;s not a wrapper</span></div></div></div></div><div id=chatlog__message-container-1103370834090930307 class=chatlog__message-container data-message-id=1103370834090930307><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 5:21â€¯PM">5:21â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>lance format is compatible with duckdb so you can use duckdb with lance datasets</span></div></div></div></div><div id=chatlog__message-container-1103370901568884887 class=chatlog__message-container data-message-id=1103370901568884887><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 5:22â€¯PM">5:22â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>but lancedb/lance doesn&#39;t rely on duckdb for anything</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103371366218092596 class=chatlog__message-container data-message-id=1103371366218092596><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=zhenyu.sha data-user-id=806695738054148116>zhenyu.sha</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 5:23â€¯PM"><a href=#chatlog__message-container-1103371366218092596>5/3/2023 5:23â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>nice!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103371529535889408 class=chatlog__message-container data-message-id=1103371529535889408><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 5:24â€¯PM"><a href=#chatlog__message-container-1103371529535889408>5/3/2023 5:24â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>happy to chat more if you have questions!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103391855468609546 class=chatlog__message-container data-message-id=1103391855468609546><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=zhenyu.sha data-user-id=806695738054148116>zhenyu.sha</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 6:45â€¯PM"><a href=#chatlog__message-container-1103391855468609546>5/3/2023 6:45â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>LanceError(I/O): Object at location /Users/zsha/workspace/plus/sequence_labeling_data/tools/testdata/feature_stores/features_3d.lance/_latest.manifest not found: No such file or directory (os error 2)
  File &quot;/Users/zsha/workspace/plus/sequence_labeling_data/tools/feature_store/3d_object_detection.py&quot;, line 38, in _update_feature_store
    features_3d.add(df)
  File &quot;/Users/zsha/workspace/plus/sequence_labeling_data/tools/feature_store/3d_object_detection.py&quot;, line 57, in extract_from_sequence_groundtruth
    _update_feature_store(features=features, mode=mode)
  File &quot;/Users/zsha/workspace/plus/sequence_labeling_data/tools/feature_store/3d_object_detection.py&quot;, line 72, in &lt;module&gt;
    extract_from_sequence_groundtruth()
ValueError: LanceError(I/O): Object at location /Users/zsha/workspace/plus/sequence_labeling_data/tools/testdata/feature_stores/features_3d.lance/_latest.manifest not found: No such file or directory (os error 2)</span></div></div></div></div><div id=chatlog__message-container-1103391944752771072 class=chatlog__message-container data-message-id=1103391944752771072><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 6:45â€¯PM">6:45â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>feature_stores = lancedb.connect(url)
    if _3D_OBJECT_DETECTION_FEATURES_TABLE not in feature_stores.table_names():
        features_3d = feature_stores.create_table(
            _3D_OBJECT_DETECTION_FEATURES_TABLE)
    else:
        features_3d = feature_stores.open_table(
            _3D_OBJECT_DETECTION_FEATURES_TABLE)
    df = pd.DataFrame.from_records(features)
    features_3d.add(df)</span></div></div></div></div><div id=chatlog__message-container-1103392400996573214 class=chatlog__message-container data-message-id=1103392400996573214><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 6:47â€¯PM">6:47â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>May I know what I did wrong?</span></div></div></div></div><div id=chatlog__message-container-1103392494873477190 class=chatlog__message-container data-message-id=1103392494873477190><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 6:47â€¯PM">6:47â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>It happened when I create a table without dataframe, then just add</span></div></div></div></div><div id=chatlog__message-container-1103394005749870723 class=chatlog__message-container data-message-id=1103394005749870723><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 6:53â€¯PM">6:53â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>when I switch to create with data, then   File &quot;/Users/zsha/opt/anaconda3/lib/python3.9/site-packages/lancedb/table.py&quot;, line 188, in create
    data = _sanitize_data(data, schema)
  File &quot;/Users/zsha/opt/anaconda3/lib/python3.9/site-packages/lancedb/table.py&quot;, line 38, in _sanitize_data
    data = _sanitize_schema(data, schema=schema)
  File &quot;/Users/zsha/opt/anaconda3/lib/python3.9/site-packages/lancedb/table.py&quot;, line 214, in _sanitize_schema
    return _sanitize_vector_column(data, vector_column_name=VECTOR_COLUMN_NAME)
  File &quot;/Users/zsha/opt/anaconda3/lib/python3.9/site-packages/lancedb/table.py&quot;, line 228, in _sanitize_vector_column
    i = data.column_names.index(vector_column_name)
ValueError: &#39;vector&#39; is not in list</span></div></div></div></div><div id=chatlog__message-container-1103394084908957737 class=chatlog__message-container data-message-id=1103394084908957737><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 6:54â€¯PM">6:54â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Must I create a literal &#39;vector&#39; Column?</span></div></div></div></div><div id=chatlog__message-container-1103394949422141442 class=chatlog__message-container data-message-id=1103394949422141442><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 6:57â€¯PM">6:57â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>check the source coded</span></div></div></div></div><div id=chatlog__message-container-1103394954656620624 class=chatlog__message-container data-message-id=1103394954656620624><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 6:57â€¯PM">6:57â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yes</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103395002073239653 class=chatlog__message-container data-message-id=1103395002073239653><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=majestic_raccoon_31617 data-user-id=1073376390075908126>gc</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 6:57â€¯PM"><a href=#chatlog__message-container-1103395002073239653>5/3/2023 6:57â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey <span class="chatlog__markdown-mention" title="zhenyu.sha">@zhenyu.sha</span> for now the embedding column needs to be named &quot;vector&quot;</span></div></div></div></div><div id=chatlog__message-container-1103395034641993728 class=chatlog__message-container data-message-id=1103395034641993728><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 6:57â€¯PM">6:57â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>we are working on making this more flexbile</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103395107350265856 class=chatlog__message-container data-message-id=1103395107350265856><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=zhenyu.sha data-user-id=806695738054148116>zhenyu.sha</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 6:58â€¯PM"><a href=#chatlog__message-container-1103395107350265856>5/3/2023 6:58â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>What if I do not have the embedded column?</span></div></div></div></div><div id=chatlog__message-container-1103395234546712677 class=chatlog__message-container data-message-id=1103395234546712677><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 6:58â€¯PM">6:58â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I just create my labels and images and have not generated the vector yet</span></div></div></div></div><div id=chatlog__message-container-1103395352368918558 class=chatlog__message-container data-message-id=1103395352368918558><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 6:59â€¯PM">6:59â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>although I can make a placeholder, but seems like wired to me</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103395556723789980 class=chatlog__message-container data-message-id=1103395556723789980><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=majestic_raccoon_31617 data-user-id=1073376390075908126>gc</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 7:00â€¯PM"><a href=#chatlog__message-container-1103395556723789980>5/3/2023 7:00â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Interesting, I feel like that would work inserting a placeholder vector with the same dimension and appending data later</span></div></div></div></div><div id=chatlog__message-container-1103395706171047947 class=chatlog__message-container data-message-id=1103395706171047947><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 7:00â€¯PM">7:00â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>or just creating the lancedb file after you have the vectors created</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103396300034166795 class=chatlog__message-container data-message-id=1103396300034166795><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=zhenyu.sha data-user-id=806695738054148116>zhenyu.sha</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 7:02â€¯PM"><a href=#chatlog__message-container-1103396300034166795>5/3/2023 7:02â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I prefer only put meaningful data, something like dont put unused code in your source code, use git to track. That is the meaning for a version control system</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103396990555009084 class=chatlog__message-container data-message-id=1103396990555009084><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=majestic_raccoon_31617 data-user-id=1073376390075908126>gc</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 7:05â€¯PM"><a href=#chatlog__message-container-1103396990555009084>5/3/2023 7:05â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>right, is creating the lancedb after embedding are created an option?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103416959053340896 class=chatlog__message-container data-message-id=1103416959053340896><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 8:25â€¯PM"><a href=#chatlog__message-container-1103416959053340896>5/3/2023 8:25â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>right now we don&#39;t support adding columns, but that should ship soon</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103418936650911917 class=chatlog__message-container data-message-id=1103418936650911917><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 8:32â€¯PM"><a href=#chatlog__message-container-1103418936650911917>5/3/2023 8:32â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>if you have an embedding function you can use lance.vectors.with_embeddings to append the vectors to the input data</span></div></div></div></div><div id=chatlog__message-container-1103419173637472287 class=chatlog__message-container data-message-id=1103419173637472287><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 8:33â€¯PM">8:33â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>and then just add that to the table</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103431667294687382 class=chatlog__message-container data-message-id=1103431667294687382><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1081257804578426921/3b0f49d1904bd503d71c1bc3cec51e22.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rjuro data-user-id=1081257804578426921>RJuro</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 9:23â€¯PM"><a href=#chatlog__message-container-1103431667294687382>5/3/2023 9:23â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Related problem. I think I made some stupid choices. Stored my embeddings (that donâ€™t fit in RAM) as parquet along with the metadata in a separate parquet. Any good not painful suggestion for bringing them into lancedb? 
Tried dask to speed things up but fastparquet not collaborating. 
Plan B would be to convert the embeddings to a different format thatâ€™s easier to chunk/iterate and then ingesting 500k at a time or something.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103432019599446117 class=chatlog__message-container data-message-id=1103432019599446117><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 9:24â€¯PM"><a href=#chatlog__message-container-1103432019599446117>5/3/2023 9:24â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>is your metadata file small enough to fit in memory?</span></div></div></div></div><div id=chatlog__message-container-1103432161090085066 class=chatlog__message-container data-message-id=1103432161090085066><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 9:25â€¯PM">9:25â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>so since lance and parquet are all pyarrow compatible, you can stream read one and write to the other</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103432653488799766 class=chatlog__message-container data-message-id=1103432653488799766><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1081257804578426921/3b0f49d1904bd503d71c1bc3cec51e22.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=lei.xu>lei</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1103432019599446117')"> is your metadata file small enough to fit in memory? </span></div></div><div class=chatlog__header><span class=chatlog__author title=rjuro data-user-id=1081257804578426921>RJuro</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 9:27â€¯PM"><a href=#chatlog__message-container-1103432653488799766>5/3/2023 9:27â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yes,</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103432698279759897 class=chatlog__message-container data-message-id=1103432698279759897><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 9:27â€¯PM"><a href=#chatlog__message-container-1103432698279759897>5/3/2023 9:27â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>import pyarrow as pa</span></div></div></div></div><div id=chatlog__message-container-1103432796124483654 class=chatlog__message-container data-message-id=1103432796124483654><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 9:27â€¯PM">9:27â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>tbl = pa.read_parquet(...)</span></div></div></div></div><div id=chatlog__message-container-1103432834183598180 class=chatlog__message-container data-message-id=1103432834183598180><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 9:28â€¯PM">9:28â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>lancedb_table.add(tbl)</span></div></div></div></div><div id=chatlog__message-container-1103432859060019222 class=chatlog__message-container data-message-id=1103432859060019222><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 9:28â€¯PM">9:28â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>or something similar</span></div></div></div></div><div id=chatlog__message-container-1103432991746834484 class=chatlog__message-container data-message-id=1103432991746834484><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 9:28â€¯PM">9:28â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>if your embeddings column is not a fixed size list array, it might take a little more futzing to convert the datatype</span></div></div></div></div><div id=chatlog__message-container-1103433115541712906 class=chatlog__message-container data-message-id=1103433115541712906><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 9:29â€¯PM">9:29â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>if you have parquet schema, i can give a code snippet to do the transformation</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103433221871513650 class=chatlog__message-container data-message-id=1103433221871513650><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1081257804578426921/3b0f49d1904bd503d71c1bc3cec51e22.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rjuro data-user-id=1081257804578426921>RJuro</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 9:29â€¯PM"><a href=#chatlog__message-container-1103433221871513650>5/3/2023 9:29â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yeah. Thatâ€™s the stupid part. It wrote it as a 768 column monster. Should have thought better about that one <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ˜…"
    title="sweat_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f605.svg"></span></div></div></div></div><div id=chatlog__message-container-1103433393775050832 class=chatlog__message-container data-message-id=1103433393775050832><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 9:30â€¯PM">9:30â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Will probably have to batch-read and rewrite that one into something more useful</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103433543243272263 class=chatlog__message-container data-message-id=1103433543243272263><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 9:30â€¯PM"><a href=#chatlog__message-container-1103433543243272263>5/3/2023 9:30â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>oh that&#39;s not a problem, if you have enough ram, you can convert that into numpy/pandas first and then do it that way</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103433668736860200 class=chatlog__message-container data-message-id=1103433668736860200><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1081257804578426921/3b0f49d1904bd503d71c1bc3cec51e22.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rjuro data-user-id=1081257804578426921>RJuro</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 9:31â€¯PM"><a href=#chatlog__message-container-1103433668736860200>5/3/2023 9:31â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Or that. But would it be ok with 100k at a time or something like that</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103433983682957422 class=chatlog__message-container data-message-id=1103433983682957422><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 9:32â€¯PM"><a href=#chatlog__message-container-1103433983682957422>5/3/2023 9:32â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yeah, that should be fine. You can create a lazy RecordBatch loader that does this</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103434047100829737 class=chatlog__message-container data-message-id=1103434047100829737><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1081257804578426921/3b0f49d1904bd503d71c1bc3cec51e22.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rjuro data-user-id=1081257804578426921>RJuro</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 9:32â€¯PM"><a href=#chatlog__message-container-1103434047100829737>5/3/2023 9:32â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Cool. Will try. Thx</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103434269134692392 class=chatlog__message-container data-message-id=1103434269134692392><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 9:33â€¯PM"><a href=#chatlog__message-container-1103434269134692392>5/3/2023 9:33â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I can come up with an example gist if you&#39;d like. We can add it to lance docs or smth as a recipe</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103440752652058734 class=chatlog__message-container data-message-id=1103440752652058734><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1081257804578426921/3b0f49d1904bd503d71c1bc3cec51e22.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rjuro data-user-id=1081257804578426921>RJuro</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 9:59â€¯PM"><a href=#chatlog__message-container-1103440752652058734>5/3/2023 9:59â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>That would be cool. If things work out perhaps I can also put it together as a notebook tutorial or somethingâ€¦huge text collection embed and add to DB.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103443377241985144 class=chatlog__message-container data-message-id=1103443377241985144><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, May 3, 2023 10:10â€¯PM"><a href=#chatlog__message-container-1103443377241985144>5/3/2023 10:10â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>try this</span></div><div class=chatlog__attachment><div class=chatlog__attachment-generic><svg class=chatlog__attachment-generic-icon><use href=#attachment-icon /></svg><div class=chatlog__attachment-generic-name><a href="https://cdn.discordapp.com/attachments/1101154357778591824/1103443376877097050/parquet_to_lancedb_1.ipynb?ex=698a5b3a&amp;is=698909ba&amp;hm=2d9411ff044d59ca073abcbfbe0da85309196c9b0ce1d85cdd84953ddf5b1f7b&amp;"> parquet_to_lancedb_1.ipynb </a></div><div class=chatlog__attachment-generic-size>27.27 KB</div></div></div></div></div></div><div id=chatlog__message-container-1103443404706287626 class=chatlog__message-container data-message-id=1103443404706287626><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 3, 2023 10:10â€¯PM">10:10â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>lmk if that works for you</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103682808662200360 class=chatlog__message-container data-message-id=1103682808662200360><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1081257804578426921/3b0f49d1904bd503d71c1bc3cec51e22.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1103443377241985144')"> try this </span></div></div><div class=chatlog__header><span class=chatlog__author title=rjuro data-user-id=1081257804578426921>RJuro</span> <span class=chatlog__timestamp title="Thursday, May 4, 2023 2:01â€¯PM"><a href=#chatlog__message-container-1103682808662200360>5/4/2023 2:01â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Thanks again. Didnâ€™t manage to try that today but heading out for a long hiking weekend. Will run next Week and let you know <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™ƒ"
    title="upside_down"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f643.svg"></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1103687297267941466 class=chatlog__message-container data-message-id=1103687297267941466><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, May 4, 2023 2:19â€¯PM"><a href=#chatlog__message-container-1103687297267941466>5/4/2023 2:19â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hiking sounds fun <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ¤©"
    title="star_struck"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f929.svg"> have a good weekend!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1104154822799786096 class=chatlog__message-container data-message-id=1104154822799786096><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/250905565566468096/3b22e019f5d0af3ded36462597628156.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=chopsjx data-user-id=250905565566468096>chop</span> <span class=chatlog__timestamp title="Friday, May 5, 2023 9:17â€¯PM"><a href=#chatlog__message-container-1104154822799786096>5/5/2023 9:17â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>0.1.2 is out! you can now store/query tables remotely directly on S3/GCS: <a href="https://github.com/lancedb/lancedb/releases/tag/v0.1.2">https://github.com/lancedb/lancedb/releases/tag/v0.1.2</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/releases/tag/v0.1.2><div class="chatlog__markdown chatlog__markdown-preserve">Release v0.1.2 Docs, cloud storage, and rust &#183; lancedb/lancedb</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">In this release we&#39;ve enabled support for cloud storage. Now you can store the LanceDB table directly on S3 or GS buckets.
We&#39;ve also begun work on a Rust core in LanceDB as well for improv...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/5ixloj_29Yhz6LffIBoBT0O5nPckycezzrpu96Gxd-s/https/opengraph.githubassets.com/0f7f7bd11cbe5f79c5c316b5bf1932375a9b8c56ac098559270fc3fd830ef31d/lancedb/lancedb/releases/tag/v0.1.2> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/5ixloj_29Yhz6LffIBoBT0O5nPckycezzrpu96Gxd-s/https/opengraph.githubassets.com/0f7f7bd11cbe5f79c5c316b5bf1932375a9b8c56ac098559270fc3fd830ef31d/lancedb/lancedb/releases/tag/v0.1.2 alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=fire><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ”¥ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div><div class=chatlog__reaction title=thumbsup_tone1><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ðŸ» src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d-1f3fb.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1104378030614388736 class=chatlog__message-container data-message-id=1104378030614388736><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=tiagoefreitas data-user-id=796728530451955742>Tiago Freitas</span> <span class=chatlog__timestamp title="Saturday, May 6, 2023 12:04â€¯PM"><a href=#chatlog__message-container-1104378030614388736>5/6/2023 12:04â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>are you supporting azure anytime soon?</span></div></div></div></div><div id=chatlog__message-container-1104378697844265010 class=chatlog__message-container data-message-id=1104378697844265010><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, May 6, 2023 12:06â€¯PM">12:06â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>also is it easy to implement SVM to benchmark against knn?</span></div></div></div></div><div id=chatlog__message-container-1104380308238897233 class=chatlog__message-container data-message-id=1104380308238897233><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, May 6, 2023 12:13â€¯PM">12:13â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>thanks!</span></div></div></div></div><div id=chatlog__message-container-1104381179622326292 class=chatlog__message-container data-message-id=1104381179622326292><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, May 6, 2023 12:16â€¯PM">12:16â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>if itâ€™s serverless what is the advantage of using your upcoming cloud?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1104381361399271444 class=chatlog__message-container data-message-id=1104381361399271444><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, May 6, 2023 12:17â€¯PM"><a href=#chatlog__message-container-1104381361399271444>5/6/2023 12:17â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi there</span></div></div></div></div><div id=chatlog__message-container-1104381646897160265 class=chatlog__message-container data-message-id=1104381646897160265><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, May 6, 2023 12:18â€¯PM">12:18â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We donâ€™t have a set timeline for Azure support but itâ€™s definitely a priority item for the roadmap</span></div></div></div></div><div id=chatlog__message-container-1104381892993753159 class=chatlog__message-container data-message-id=1104381892993753159><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, May 6, 2023 12:19â€¯PM">12:19â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>SVM: for now you can prolly use the pyarrow interface and hook it into an existing SVM library to try it out? Would love to see your results if you get around to it</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1104382153778790411 class=chatlog__message-container data-message-id=1104382153778790411><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=tiagoefreitas data-user-id=796728530451955742>Tiago Freitas</span> <span class=chatlog__timestamp title="Saturday, May 6, 2023 12:20â€¯PM"><a href=#chatlog__message-container-1104382153778790411>5/6/2023 12:20â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>if I mount storage on azure and expose it as a local file I guess it would work?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1104382321047633920 class=chatlog__message-container data-message-id=1104382321047633920><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, May 6, 2023 12:21â€¯PM"><a href=#chatlog__message-container-1104382321047633920>5/6/2023 12:21â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Cloud : basically if youâ€™d rather have us manage the vectors, provide and product grade service end point, take care of caching, continuous reindexing, data expiration, etc etc</span></div></div></div></div><div id=chatlog__message-container-1104382461393256449 class=chatlog__message-container data-message-id=1104382461393256449><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, May 6, 2023 12:21â€¯PM">12:21â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Itâ€™s basically like running sentence-transformer yourself vs using the cohere/openai api</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1104382517336866926 class=chatlog__message-container data-message-id=1104382517336866926><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=tiagoefreitas data-user-id=796728530451955742>Tiago Freitas</span> <span class=chatlog__timestamp title="Saturday, May 6, 2023 12:21â€¯PM"><a href=#chatlog__message-container-1104382517336866926>5/6/2023 12:21â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>will you have BYOC? with azure</span></div></div></div></div><div id=chatlog__message-container-1104382561444171807 class=chatlog__message-container data-message-id=1104382561444171807><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, May 6, 2023 12:22â€¯PM">12:22â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>for enterprise apps I need that</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1104382707745685605 class=chatlog__message-container data-message-id=1104382707745685605><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=tiagoefreitas>Tiago Freitas</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1104382153778790411')"> if I mount storage on azure and expose it as a local file I guess it would work? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, May 6, 2023 12:22â€¯PM"><a href=#chatlog__message-container-1104382707745685605>5/6/2023 12:22â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yes that will definitely work. Performance might be an issue since the latency will be high but certainly should work fine</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1104382798174892052 class=chatlog__message-container data-message-id=1104382798174892052><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=tiagoefreitas data-user-id=796728530451955742>Tiago Freitas</span> <span class=chatlog__timestamp title="Saturday, May 6, 2023 12:22â€¯PM"><a href=#chatlog__message-container-1104382798174892052>5/6/2023 12:22â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>thats fine for prototyping</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1104383407795998851 class=chatlog__message-container data-message-id=1104383407795998851><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=tiagoefreitas>Tiago Freitas</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1104382517336866926')"> will you have BYOC? with azure </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, May 6, 2023 12:25â€¯PM"><a href=#chatlog__message-container-1104383407795998851>5/6/2023 12:25â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>For sure, but the details arenâ€™t finalized yet. Happy to chat more if you know what you need there</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1104384110866219099 class=chatlog__message-container data-message-id=1104384110866219099><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=tiagoefreitas data-user-id=796728530451955742>Tiago Freitas</span> <span class=chatlog__timestamp title="Saturday, May 6, 2023 12:28â€¯PM"><a href=#chatlog__message-container-1104384110866219099>5/6/2023 12:28â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I need the data to be on the client azure subscription. compute doesnâ€™t matter</span></div></div></div></div><div id=chatlog__message-container-1104384451196231731 class=chatlog__message-container data-message-id=1104384451196231731><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, May 6, 2023 12:29â€¯PM">12:29â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>need to support EU region, frankfurt preferred or west eu</span></div></div></div></div><div id=chatlog__message-container-1104384694159687821 class=chatlog__message-container data-message-id=1104384694159687821><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, May 6, 2023 12:30â€¯PM">12:30â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>if I understood correctly, lance is good to store embeddings + metadata + data or data should be separate?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1104384818046849075 class=chatlog__message-container data-message-id=1104384818046849075><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, May 6, 2023 12:30â€¯PM"><a href=#chatlog__message-container-1104384818046849075>5/6/2023 12:30â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Right thatâ€™s actually what makes LanceDB diff from other vector stores</span></div></div></div></div><div id=chatlog__message-container-1104384872568598651 class=chatlog__message-container data-message-id=1104384872568598651><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, May 6, 2023 12:31â€¯PM">12:31â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is you can store the data next to embeddings and metadata</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1104385536594022400 class=chatlog__message-container data-message-id=1104385536594022400><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=tiagoefreitas data-user-id=796728530451955742>Tiago Freitas</span> <span class=chatlog__timestamp title="Saturday, May 6, 2023 12:33â€¯PM"><a href=#chatlog__message-container-1104385536594022400>5/6/2023 12:33â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>this is great for privacy and not needing a server running, hope you succeed, so much competition right now</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1104391396795875338 class=chatlog__message-container data-message-id=1104391396795875338><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, May 6, 2023 12:57â€¯PM"><a href=#chatlog__message-container-1104391396795875338>5/6/2023 12:57â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><img
    loading="lazy"
    class="chatlog__emoji chatlog__emoji--large"
    alt="ðŸ™"
    title="pray"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg"></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110905004585402440 class=chatlog__message-container data-message-id=1110905004585402440><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/395745049868238848/9c10d7f39de3a6a58c76d9582c4a7ae6.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=mmalex data-user-id=395745049868238848>mmalex</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 12:19â€¯PM"><a href=#chatlog__message-container-1110905004585402440>5/24/2023 12:19â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hi all! sorry for the noob question; if I build &amp; train a vector index over a largish table using <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">tbl.create_index</code>, say, with num_partitions=8192 or whatever; if I then add new data to the table, will it immediately &amp; incrementally be added to the vector index? ie will future tbl.search() calls find the new data? I do not expect the pre-trained partitions to move/change in any way, I just want the new rows to be added to the closest partition. I had a quick look around the rust lance codebase but I&#39;m not familiar with it so I didnt immediately see the update code path.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110911023516483635 class=chatlog__message-container data-message-id=1110911023516483635><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/395745049868238848/9c10d7f39de3a6a58c76d9582c4a7ae6.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/395745049868238848/9c10d7f39de3a6a58c76d9582c4a7ae6.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=mmalex>mmalex</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1110905004585402440')"> hi all! sorry for the noob question; if I build &amp; train a vector index over a largish table using <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">tbl.create_index</code>, say, with num_partitions=8192 or whatever; if I then add new data to the table, will it immediately &amp; incrementally be added to the vector index? ie will future tbl.search() calls find the new data? I do not expect the pre-trained partitions to move/change in any way, I just want the new rows to be added to the closest partition. I had a quick look around the rust lance codebase but I&#39;m not familiar with it so I didnt immediately see the update code path. </span></div></div><div class=chatlog__header><span class=chatlog__author title=mmalex data-user-id=395745049868238848>mmalex</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 12:43â€¯PM"><a href=#chatlog__message-container-1110911023516483635>5/24/2023 12:43â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I tried this on a variant of the &#39;indexing&#39; example from the docs, and I found that the example search worked fine with the 10_000 random vectors against the generated index, until I &#39;added&#39; two more new rows; after that, search only returns results from the new (presumably unindexed?) data. I cannot call tbl.create_index again (it errors complaining that the index already exists), and I dont see an api to remove it; the len(tbl) correctly returns the full size (10_002 rows). so is this just a misuse of lancedb, and the datasets are intended to be immutable post-indexing? or does it amount to a feature request, or even a bug <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"> thanks.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110965730079424592 class=chatlog__message-container data-message-id=1110965730079424592><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:21â€¯PM"><a href=#chatlog__message-container-1110965730079424592>5/24/2023 4:21â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="mmalex">@mmalex</span> 

<div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">hi all! sorry for the noob question; if I build &amp; train a vector index over a largish table using tbl.create_index, say, with num_partitions=8192 or whatever; if I then add new data to the table, will it immediately &amp; incrementally be added to the vector index? ie will future tbl.search() calls find the new data?
</div></div>yes, adding new data will immediately searchable.  They are not add to the index immediately, but we do a &quot;index snapshot + flat search on new data&quot; approach, to merge the results.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=eyes><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘€ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f440.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110965945138155581 class=chatlog__message-container data-message-id=1110965945138155581><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/395745049868238848/9c10d7f39de3a6a58c76d9582c4a7ae6.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=lei.xu>lei</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1110965730079424592')"> <span class="chatlog__markdown-mention" title="mmalex">@mmalex</span> 

<div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">hi all! sorry for the noob question; if I build &amp; train a vector index over a largish table using tbl.create_index, say, with num_partitions=8192 or whatever; if I then add new data to the table, will it immediately &amp; incrementally be added to the vector index? ie will future tbl.search() calls find the new data?
</div></div>yes, adding new data will immediately searchable.  They are not add to the index immediately, but we do a &quot;index snapshot + flat search on new data&quot; approach, to merge the results. </span></div></div><div class=chatlog__header><span class=chatlog__author title=mmalex data-user-id=395745049868238848>mmalex</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:22â€¯PM"><a href=#chatlog__message-container-1110965945138155581>5/24/2023 4:22â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>awesome! I think in that case, either there&#39;s a bug in my testing notebook, or a bug in this merging process. I was only seeing results from the flat part.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110966014155444244 class=chatlog__message-container data-message-id=1110966014155444244><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:22â€¯PM"><a href=#chatlog__message-container-1110966014155444244>5/24/2023 4:22â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">til I &#39;added&#39; two more new rows; after that, search only returns results from the new (presumably unindexed?) data. 
</div></div>it sounds like a bug. let us take a look today</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110966090479190100 class=chatlog__message-container data-message-id=1110966090479190100><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/395745049868238848/9c10d7f39de3a6a58c76d9582c4a7ae6.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=mmalex data-user-id=395745049868238848>mmalex</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:22â€¯PM"><a href=#chatlog__message-container-1110966090479190100>5/24/2023 4:22â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>thankyou! it is not a high time priority, I was just evaluating a particular use case. congrats on a nice library!</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=pray><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ™ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110966227960070144 class=chatlog__message-container data-message-id=1110966227960070144><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:23â€¯PM"><a href=#chatlog__message-container-1110966227960070144>5/24/2023 4:23â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">I cannot call tbl.create_index again (it errors complaining that the index already exists),
</div></div>we need some api improvement, but you can create the index with another &quot;index name&quot; as workaround. I feel we are too restrict on the index name checks</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110966930447282246 class=chatlog__message-container data-message-id=1110966930447282246><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/395745049868238848/9c10d7f39de3a6a58c76d9582c4a7ae6.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=mmalex data-user-id=395745049868238848>mmalex</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:25â€¯PM"><a href=#chatlog__message-container-1110966930447282246>5/24/2023 4:25â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>if it&#39;s not too cheeky, I have two followup questions about the same setup <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"> 1) will there be a mechanism to fold the flat delta into the index? I do not need re-partitioning, so algorithmically it could be quite efficient I think? 2) is there a benchmark of the speed and maybe O(N??) complexity for index creation and merging? I am running <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">tbl.create_index(num_partitions=8192,metric=&#39;cosine&#39;,num_sub_vectors=96)</code> on a table with ~10m rows and input dimensionality of 768, and it has been running for 6 hours and is still going <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"> (also - progress callback would be amazing!) ok this is veering into feature request territory, sorry. to turn it into a question - how long would you expect such an index build to take? is it an unreasonable size? does the index process train on a subset of the rows if it is &gt;&gt; num_partitions, or does it always use all? thanks.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110967274069831793 class=chatlog__message-container data-message-id=1110967274069831793><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:27â€¯PM"><a href=#chatlog__message-container-1110967274069831793>5/24/2023 4:27â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>oh yea, so for <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">IVF_PQ</code> it is approximately <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">O(n_partitions^2 + num_sub_vectors) </code></span></div></div></div></div><div id=chatlog__message-container-1110967942826434620 class=chatlog__message-container data-message-id=1110967942826434620><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 24, 2023 4:29â€¯PM">4:29â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">) will there be a mechanism to fold the flat delta into the index? I do not need re-partitioning, so algorithmically it could be quite efficient I think?
</div></div>this is something we are thinking of today. we dont have it implemented yet.  for some transparency, the next 2-3 weeks we are working continuously update / deletion of data &amp; index.  This is one of the approach we are evaluating at the moment.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div><div id=chatlog__message-container-1110968192622399588 class=chatlog__message-container data-message-id=1110968192622399588><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 24, 2023 4:30â€¯PM">4:30â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>the training samples up to 256 * num_partition vectors, and do a kmeans over them with <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">num_partition</code> centroids (for IVF)</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110968432167497809 class=chatlog__message-container data-message-id=1110968432167497809><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/395745049868238848/9c10d7f39de3a6a58c76d9582c4a7ae6.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=mmalex data-user-id=395745049868238848>mmalex</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:31â€¯PM"><a href=#chatlog__message-container-1110968432167497809>5/24/2023 4:31â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>awesome! I am also evaluating some faiss based stuff, and they seem to have some interesting building blocks for this in the form of HStacked IVFs and merge operations for memmaped IVF lists-of-lists. happy to chat/brainstorm more on DM some time, but I suspect you already have enough ideas of how you want to proceed. sounds exciting.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110968780189872258 class=chatlog__message-container data-message-id=1110968780189872258><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:33â€¯PM"><a href=#chatlog__message-container-1110968780189872258>5/24/2023 4:33â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i have to admit that we are way from a optimized kmeans now. we&#39;ve learnt a lot from faiss implementation, and there are a few interesting papers in recent years to better kmeans than floyd as well. I really hope that i can jump into them in early summer.</span></div></div></div></div><div id=chatlog__message-container-1110968848544440403 class=chatlog__message-container data-message-id=1110968848544440403><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 24, 2023 4:33â€¯PM">4:33â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>for example, we do the same sampling / pq as faiss <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ˜‰"
    title="wink"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f609.svg"></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=partyblob><img class="chatlog__emoji chatlog__emoji--small" alt=partyblob src=https://cdn.discordapp.com/emojis/1004638051047309393.gif loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div><div id=chatlog__message-container-1110969147770282125 class=chatlog__message-container data-message-id=1110969147770282125><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 24, 2023 4:34â€¯PM">4:34â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>mostly we optimized I/O path from cloud storage to read those indices. like we did benchmark a few weeks ago, that we can do 100 QPS vector search directly from S3 for a IVF64,PQ96</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=clap><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44f.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div><div class=chatlog__reaction title=fire><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ”¥ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110969153298374798 class=chatlog__message-container data-message-id=1110969153298374798><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/395745049868238848/9c10d7f39de3a6a58c76d9582c4a7ae6.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=mmalex data-user-id=395745049868238848>mmalex</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:34â€¯PM"><a href=#chatlog__message-container-1110969153298374798>5/24/2023 4:34â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>HNSW graph walk seems helpful there for them too</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110969278187974687 class=chatlog__message-container data-message-id=1110969278187974687><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:35â€¯PM"><a href=#chatlog__message-container-1110969278187974687>5/24/2023 4:35â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>oh yea totally, we are in progress to impl a diskann actually.</span></div></div></div></div><div id=chatlog__message-container-1110969404415549551 class=chatlog__message-container data-message-id=1110969404415549551><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 24, 2023 4:35â€¯PM">4:35â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>so the main design concerns we have in lance is how to optimize I/O for vector index OVER CLOUD STORAGE</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110969411986268270 class=chatlog__message-container data-message-id=1110969411986268270><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/395745049868238848/9c10d7f39de3a6a58c76d9582c4a7ae6.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=mmalex data-user-id=395745049868238848>mmalex</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:35â€¯PM"><a href=#chatlog__message-container-1110969411986268270>5/24/2023 4:35â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>sounds like im just a few weeks ahead of when it is all more ready <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110969458333319178 class=chatlog__message-container data-message-id=1110969458333319178><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:35â€¯PM"><a href=#chatlog__message-container-1110969458333319178>5/24/2023 4:35â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>like you dont need to hold everything in memory</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110969497109663806 class=chatlog__message-container data-message-id=1110969497109663806><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/395745049868238848/9c10d7f39de3a6a58c76d9582c4a7ae6.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=mmalex data-user-id=395745049868238848>mmalex</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:36â€¯PM"><a href=#chatlog__message-container-1110969497109663806>5/24/2023 4:36â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yup! its a great design constraint.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=muscle><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ’ª src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f4aa.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110969649119637606 class=chatlog__message-container data-message-id=1110969649119637606><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:36â€¯PM"><a href=#chatlog__message-container-1110969649119637606>5/24/2023 4:36â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>there a bunch of graph re-ordering , layout to fit the beam search path and etc need to be done in diskann to make it performant enough for public use.</span></div></div></div></div><div id=chatlog__message-container-1110969680279113939 class=chatlog__message-container data-message-id=1110969680279113939><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 24, 2023 4:36â€¯PM">4:36â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>summer would be exciting ;p</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110969856683147305 class=chatlog__message-container data-message-id=1110969856683147305><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/395745049868238848/9c10d7f39de3a6a58c76d9582c4a7ae6.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=mmalex data-user-id=395745049868238848>mmalex</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:37â€¯PM"><a href=#chatlog__message-container-1110969856683147305>5/24/2023 4:37â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>IVF64 meaning 64 partitions?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110969873670086736 class=chatlog__message-container data-message-id=1110969873670086736><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:37â€¯PM"><a href=#chatlog__message-container-1110969873670086736>5/24/2023 4:37â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yea</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110970265225150636 class=chatlog__message-container data-message-id=1110970265225150636><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/395745049868238848/9c10d7f39de3a6a58c76d9582c4a7ae6.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=mmalex data-user-id=395745049868238848>mmalex</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:39â€¯PM"><a href=#chatlog__message-container-1110970265225150636>5/24/2023 4:39â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>its a bold move to be able to keep the actual index on S3, I guess you must fetch each query&#39;s n_probe partitions using byte range queries, and then some clever caching? i am new to thinking about this design space, but have done some distributed db stuff; it seems to me that many users might end up with quite random access, causing more or less all the partition&#39;s lists to end up being pulled locally? I guess you have some secret sauce in mind... <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"> nice one.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110970379100504215 class=chatlog__message-container data-message-id=1110970379100504215><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:39â€¯PM"><a href=#chatlog__message-container-1110970379100504215>5/24/2023 4:39â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yea, 

&gt;I guess you must fetch each query&#39;s n_probe partitions using byte range queries, and then some clever caching?

done and done already today</span></div></div></div></div><div id=chatlog__message-container-1110970673700024440 class=chatlog__message-container data-message-id=1110970673700024440><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 24, 2023 4:40â€¯PM">4:40â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>so for example in your case 768 dimension, with 96PQ, it is. like 768 * 4 =&gt; 96 byte compression , so the IVF_PQ index is relatively small ,and easily cache-able</span></div></div></div></div><div id=chatlog__message-container-1110970782395416637 class=chatlog__message-container data-message-id=1110970782395416637><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 24, 2023 4:41â€¯PM">4:41â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>also we are going to use memory + local nvme to cache s3, so... so much faster than S3 anyway</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110970842839535688 class=chatlog__message-container data-message-id=1110970842839535688><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/395745049868238848/9c10d7f39de3a6a58c76d9582c4a7ae6.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=mmalex data-user-id=395745049868238848>mmalex</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:41â€¯PM"><a href=#chatlog__message-container-1110970842839535688>5/24/2023 4:41â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I guess 8192 partitions is too high in my test, given O(N^2) in partition count. should I terminate my 6h+ index build, and try again with a smaller partition count, or leave it to run overnight? without progress callback, I have no idea how close it is to competion... if its gonna be &gt;100 hours, I want to cancel. if &lt;24, I can leave it...</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110970872812027924 class=chatlog__message-container data-message-id=1110970872812027924><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:41â€¯PM"><a href=#chatlog__message-container-1110970872812027924>5/24/2023 4:41â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yea pls</span></div></div></div></div><div id=chatlog__message-container-1110970943590891581 class=chatlog__message-container data-message-id=1110970943590891581><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 24, 2023 4:41â€¯PM">4:41â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>w.r.t. of the callback, we do have an issue there, wait a sec</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110970987232637018 class=chatlog__message-container data-message-id=1110970987232637018><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/395745049868238848/9c10d7f39de3a6a58c76d9582c4a7ae6.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=mmalex data-user-id=395745049868238848>mmalex</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:42â€¯PM"><a href=#chatlog__message-container-1110970987232637018>5/24/2023 4:42â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>ok! I&#39;ll cancel it.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110971026277421209 class=chatlog__message-container data-message-id=1110971026277421209><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:42â€¯PM"><a href=#chatlog__message-container-1110971026277421209>5/24/2023 4:42â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://github.com/eto-ai/lance/issues/855">https://github.com/eto-ai/lance/issues/855</a>. so basically this</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/eto-ai/lance/issues/855.><div class="chatlog__markdown chatlog__markdown-preserve">Issues &#183; eto-ai/lance</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Modern columnar data format for ML and LLMs implemented in Rust. Convert from parquet in 2 lines of code for 100x faster random access, vector index, and data versioning. Compatible with Pandas, Du...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/eFvu9gDUzbm1utvJHf1EoZHCoPLDPRUmkdH_2_arhgY/https/opengraph.githubassets.com/c0cd7cfaf8dadb105a6f098ab955ed05374a9406ff8fff3f8ecd54e84b87aefb/eto-ai/lance> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/eFvu9gDUzbm1utvJHf1EoZHCoPLDPRUmkdH_2_arhgY/https/opengraph.githubassets.com/c0cd7cfaf8dadb105a6f098ab955ed05374a9406ff8fff3f8ecd54e84b87aefb/eto-ai/lance alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div><div id=chatlog__message-container-1110971118157840467 class=chatlog__message-container data-message-id=1110971118157840467><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 24, 2023 4:42â€¯PM">4:42â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>we have ppl on it, should be done in 1-2 weeks</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110971173212262441 class=chatlog__message-container data-message-id=1110971173212262441><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/395745049868238848/9c10d7f39de3a6a58c76d9582c4a7ae6.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=mmalex data-user-id=395745049868238848>mmalex</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:42â€¯PM"><a href=#chatlog__message-container-1110971173212262441>5/24/2023 4:42â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yes that looks awesome. nice one</span></div></div></div></div><div id=chatlog__message-container-1110971418608406528 class=chatlog__message-container data-message-id=1110971418608406528><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 24, 2023 4:43â€¯PM">4:43â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>you mention in some presentation that &#39;production scale&#39; can mean even 1bn rows; and elsewhere that num_partitions should be chosen to give ~5k points per partition; that would imply a very large number of partitions at that scale <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"> I am guessing that that is a goal, but not currently practical? or just use fewer partitions in that case for now. (in which case, what would be a good guideline number)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110971463843971155 class=chatlog__message-container data-message-id=1110971463843971155><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:43â€¯PM"><a href=#chatlog__message-container-1110971463843971155>5/24/2023 4:43â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>the benchmark we had before,  IVF32,PQ64 on sift-1m is like 25 seconds on my AMD 5900X machine</span></div></div></div></div><div id=chatlog__message-container-1110971600926425118 class=chatlog__message-container data-message-id=1110971600926425118><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 24, 2023 4:44â€¯PM">4:44â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yea for that, it is actually a few lance datasets instance combined</span></div></div></div></div><div id=chatlog__message-container-1110971818250092605 class=chatlog__message-container data-message-id=1110971818250092605><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 24, 2023 4:45â€¯PM">4:45â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>we are working on pushing single dataset scale up at the moment</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110972183498457199 class=chatlog__message-container data-message-id=1110972183498457199><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/395745049868238848/9c10d7f39de3a6a58c76d9582c4a7ae6.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=mmalex data-user-id=395745049868238848>mmalex</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 4:46â€¯PM"><a href=#chatlog__message-container-1110972183498457199>5/24/2023 4:46â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>thanks for all the details! sounds exciting.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=tada><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸŽ‰ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f389.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1111474890755813417 class=chatlog__message-container data-message-id=1111474890755813417><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/844187556006723585/3533e954aaedc64015f7352ab0c51058.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=maxlin0507 data-user-id=844187556006723585>MaxLin</span> <span class=chatlog__timestamp title="Friday, May 26, 2023 2:04â€¯AM"><a href=#chatlog__message-container-1111474890755813417>5/26/2023 2:04â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="lei.xu">@lei</span> Is there any reader/viewer for lancedb?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1111478917992296488 class=chatlog__message-container data-message-id=1111478917992296488><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/250905565566468096/3b22e019f5d0af3ded36462597628156.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=chopsjx data-user-id=250905565566468096>chop</span> <span class=chatlog__timestamp title="Friday, May 26, 2023 2:20â€¯AM"><a href=#chatlog__message-container-1111478917992296488>5/26/2023 2:20â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="maxlin0507">@MaxLin</span> there&#39;s no reader/viewer as of yet, but we have had some requests for one. is this a high need from you? what are you looking to visualize, and what type of data are you using? cc: <span class="chatlog__markdown-mention" title="lei.xu">@lei</span></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1111480759438540890 class=chatlog__message-container data-message-id=1111480759438540890><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/844187556006723585/3533e954aaedc64015f7352ab0c51058.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/250905565566468096/3b22e019f5d0af3ded36462597628156.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=chopsjx>chop</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1111478917992296488')"> <span class="chatlog__markdown-mention" title="maxlin0507">@MaxLin</span> there&#39;s no reader/viewer as of yet, but we have had some requests for one. is this a high need from you? what are you looking to visualize, and what type of data are you using? cc: <span class="chatlog__markdown-mention" title="lei.xu">@lei</span> </span></div></div><div class=chatlog__header><span class=chatlog__author title=maxlin0507 data-user-id=844187556006723585>MaxLin</span> <span class=chatlog__timestamp title="Friday, May 26, 2023 2:27â€¯AM"><a href=#chatlog__message-container-1111480759438540890>5/26/2023 2:27â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Since I&#39;ve never used a vector database before, but I&#39;ve used an offline database such as sqlite (it has many db viwers) , I&#39;m curious if lancedb has a browser to use</span></div></div></div></div><div id=chatlog__message-container-1111481620562710578 class=chatlog__message-container data-message-id=1111481620562710578><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, May 26, 2023 2:31â€¯AM">2:31â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I have use the dbs such as: mysql, firebase, bigquery...etc</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1111482059446300743 class=chatlog__message-container data-message-id=1111482059446300743><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/250905565566468096/3b22e019f5d0af3ded36462597628156.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/844187556006723585/3533e954aaedc64015f7352ab0c51058.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=maxlin0507>MaxLin</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1111480759438540890')"> Since I&#39;ve never used a vector database before, but I&#39;ve used an offline database such as sqlite (it has many db viwers) , I&#39;m curious if lancedb has a browser to use </span></div></div><div class=chatlog__header><span class=chatlog__author title=chopsjx data-user-id=250905565566468096>chop</span> <span class=chatlog__timestamp title="Friday, May 26, 2023 2:32â€¯AM"><a href=#chatlog__message-container-1111482059446300743>5/26/2023 2:32â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Got it. Perhaps in the future we&#39;ll build one if we have enough requests for it. Its a bit of an annoying workaround, but because the underlying data is Apache Arrow compatible you could convert to parquet and view it in any parquet compatible UI, for example: <a href="https://duckdb.org/docs/guides/data_viewers/tad.html">https://duckdb.org/docs/guides/data_viewers/tad.html</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(255,255,255,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://duckdb.org/docs/guides/data_viewers/tad.html><div class="chatlog__markdown chatlog__markdown-preserve">Tad - A Tabular Data Viewer</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">DuckDB is an in-process database management system focused on analytical query processing. It is designed to be easy to install and easy to use. DuckDB has no external dependencies. DuckDB has bindings for C/C++, Python and R.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/5T9xsomFY0fXqfa0Cfx7id530FeWj1ZvUaAY4F7t5dM/https/duckdb.org/images/sharingduckdb.jpg> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/5T9xsomFY0fXqfa0Cfx7id530FeWj1ZvUaAY4F7t5dM/https/duckdb.org/images/sharingduckdb.jpg alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1111482285175353394 class=chatlog__message-container data-message-id=1111482285175353394><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/844187556006723585/3533e954aaedc64015f7352ab0c51058.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/250905565566468096/3b22e019f5d0af3ded36462597628156.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=chopsjx>chop</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1111482059446300743')"> Got it. Perhaps in the future we&#39;ll build one if we have enough requests for it. Its a bit of an annoying workaround, but because the underlying data is Apache Arrow compatible you could convert to parquet and view it in any parquet compatible UI, for example: <a href="https://duckdb.org/docs/guides/data_viewers/tad.html">https://duckdb.org/docs/guides/data_viewers/tad.html</a> </span></div></div><div class=chatlog__header><span class=chatlog__author title=maxlin0507 data-user-id=844187556006723585>MaxLin</span> <span class=chatlog__timestamp title="Friday, May 26, 2023 2:33â€¯AM"><a href=#chatlog__message-container-1111482285175353394>5/26/2023 2:33â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>ha, i just install this tool. Thanks</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=snowboarder><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‚ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f3c2.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1111484106069512312 class=chatlog__message-container data-message-id=1111484106069512312><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/844187556006723585/3533e954aaedc64015f7352ab0c51058.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=maxlin0507 data-user-id=844187556006723585>MaxLin</span> <span class=chatlog__timestamp title="Friday, May 26, 2023 2:41â€¯AM"><a href=#chatlog__message-container-1111484106069512312>5/26/2023 2:41â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>According to my current imagination, I think lancedb is  similar to sqlite (both are offline, light and powerful), both are great inventions</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1111484774977122364 class=chatlog__message-container data-message-id=1111484774977122364><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/250905565566468096/3b22e019f5d0af3ded36462597628156.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=chopsjx data-user-id=250905565566468096>chop</span> <span class=chatlog__timestamp title="Friday, May 26, 2023 2:43â€¯AM"><a href=#chatlog__message-container-1111484774977122364>5/26/2023 2:43â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>precisely! most other vector databases are in-memory. LanceDB, much like SQLite, is in-process and runs in your app runtime. this means theres no additional server to deploy/maintain. data can be stored locally or on cloud</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1111485279673520170 class=chatlog__message-container data-message-id=1111485279673520170><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/844187556006723585/3533e954aaedc64015f7352ab0c51058.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=maxlin0507 data-user-id=844187556006723585>MaxLin</span> <span class=chatlog__timestamp title="Friday, May 26, 2023 2:45â€¯AM"><a href=#chatlog__message-container-1111485279673520170>5/26/2023 2:45â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>as shown in the website of lancedb, the db can be stored in AWS s3, and be connected to the client site apps, can it be stored in Google storage and be connected to the client site apps?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1111485666648408215 class=chatlog__message-container data-message-id=1111485666648408215><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/250905565566468096/3b22e019f5d0af3ded36462597628156.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=chopsjx data-user-id=250905565566468096>chop</span> <span class=chatlog__timestamp title="Friday, May 26, 2023 2:47â€¯AM"><a href=#chatlog__message-container-1111485666648408215>5/26/2023 2:47â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yep it can work on google cloud too</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1111485945963892766 class=chatlog__message-container data-message-id=1111485945963892766><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/844187556006723585/3533e954aaedc64015f7352ab0c51058.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=maxlin0507 data-user-id=844187556006723585>MaxLin</span> <span class=chatlog__timestamp title="Friday, May 26, 2023 2:48â€¯AM"><a href=#chatlog__message-container-1111485945963892766>5/26/2023 2:48â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Does it first download the storage db file to the local side for operation? Or is it directly connected?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1111486742831321190 class=chatlog__message-container data-message-id=1111486742831321190><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/250905565566468096/3b22e019f5d0af3ded36462597628156.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=chopsjx data-user-id=250905565566468096>chop</span> <span class=chatlog__timestamp title="Friday, May 26, 2023 2:51â€¯AM"><a href=#chatlog__message-container-1111486742831321190>5/26/2023 2:51â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>the index is stored in the cloud + it will only download what is needed based on the query, so attempts to limit what is sent through the wire</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=yum><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ˜‹ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f60b.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1111486903364112426 class=chatlog__message-container data-message-id=1111486903364112426><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Friday, May 26, 2023 2:52â€¯AM"><a href=#chatlog__message-container-1111486903364112426>5/26/2023 2:52â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>It does not manually download anything . We just do some cache internally to speed things up. <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=laughing><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ˜† src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f606.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1111487297804828765 class=chatlog__message-container data-message-id=1111487297804828765><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/844187556006723585/3533e954aaedc64015f7352ab0c51058.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=maxlin0507 data-user-id=844187556006723585>MaxLin</span> <span class=chatlog__timestamp title="Friday, May 26, 2023 2:53â€¯AM"><a href=#chatlog__message-container-1111487297804828765>5/26/2023 2:53â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>magic!</span></div></div></div></div><div id=chatlog__message-container-1111488239556112514 class=chatlog__message-container data-message-id=1111488239556112514><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, May 26, 2023 2:57â€¯AM">2:57â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Thanks a lot. I will study more about lance and lancedb, and it may be applied to the new prodcuts.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=clap><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44f.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div><div class=chatlog__reaction title=partying_face><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ¥³ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f973.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1113793799156674601 class=chatlog__message-container data-message-id=1113793799156674601><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=tiagoefreitas data-user-id=796728530451955742>Tiago Freitas</span> <span class=chatlog__timestamp title="Thursday, June 1, 2023 11:38â€¯AM"><a href=#chatlog__message-container-1113793799156674601>6/1/2023 11:38â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>can you compare lancedb with supabase postgresql offering?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1113834934969307256 class=chatlog__message-container data-message-id=1113834934969307256><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/844187556006723585/3533e954aaedc64015f7352ab0c51058.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=maxlin0507 data-user-id=844187556006723585>MaxLin</span> <span class=chatlog__timestamp title="Thursday, June 1, 2023 2:22â€¯PM"><a href=#chatlog__message-container-1113834934969307256>6/1/2023 2:22â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>s3://eto-public/datasets/sift/vec_data.lance [file can not be download]</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1113854616979906560 class=chatlog__message-container data-message-id=1113854616979906560><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/844187556006723585/3533e954aaedc64015f7352ab0c51058.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=maxlin0507>MaxLin</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1113834934969307256')"> s3://eto-public/datasets/sift/vec_data.lance [file can not be download] </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, June 1, 2023 3:40â€¯PM"><a href=#chatlog__message-container-1113854616979906560>6/1/2023 3:40â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi <span class="chatlog__markdown-mention" title="maxlin0507">@MaxLin</span> i think you might be missing the --recursive parameter. <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">aws s3 cp --recursive s3://eto-public/datasets/sift/vec_data.lance vec_data.lance</code> works fine for me locally</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1113855063048331435 class=chatlog__message-container data-message-id=1113855063048331435><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=tiagoefreitas>Tiago Freitas</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1113793799156674601')"> can you compare lancedb with supabase postgresql offering? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, June 1, 2023 3:42â€¯PM"><a href=#chatlog__message-container-1113855063048331435>6/1/2023 3:42â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hi <span class="chatlog__markdown-mention" title="tiagoefreitas">@Tiago Freitas</span> pgvector is the postgresql plug in that offers vector search which you can use with supabase. Here are a few differences:</span></div></div></div></div><div id=chatlog__message-container-1113855157046890506 class=chatlog__message-container data-message-id=1113855157046890506><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, June 1, 2023 3:42â€¯PM">3:42â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>1. lancedb runs in-process so you don&#39;t need to worry about credentials / connectivity etc</span></div></div></div></div><div id=chatlog__message-container-1113855195496058890 class=chatlog__message-container data-message-id=1113855195496058890><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, June 1, 2023 3:42â€¯PM">3:42â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>2. your data doesn&#39;t leave your premises</span></div></div></div></div><div id=chatlog__message-container-1113855270658002945 class=chatlog__message-container data-message-id=1113855270658002945><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, June 1, 2023 3:43â€¯PM">3:43â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>3. LanceDB is way more scalable and performance way better at scale</span></div></div></div></div><div id=chatlog__message-container-1113855402178777148 class=chatlog__message-container data-message-id=1113855402178777148><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, June 1, 2023 3:43â€¯PM">3:43â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>4. LanceDB makes it super easy to experiment locally and move to production in the cloud</span></div></div></div></div><div id=chatlog__message-container-1113855485129527306 class=chatlog__message-container data-message-id=1113855485129527306><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, June 1, 2023 3:44â€¯PM">3:44â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>5. IMO the syntax is much easier to read/understand, but that&#39;s a matter of taste</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1113967607851262085 class=chatlog__message-container data-message-id=1113967607851262085><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/844187556006723585/3533e954aaedc64015f7352ab0c51058.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=maxlin0507 data-user-id=844187556006723585>MaxLin</span> <span class=chatlog__timestamp title="Thursday, June 1, 2023 11:09â€¯PM"><a href=#chatlog__message-container-1113967607851262085>6/1/2023 11:09â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><img
    loading="lazy"
    class="chatlog__emoji chatlog__emoji--large"
    alt="ðŸ«¡"
    title="ðŸ«¡"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1fae1.svg"></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1119661018063319064 class=chatlog__message-container data-message-id=1119661018063319064><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=tiagoefreitas data-user-id=796728530451955742>Tiago Freitas</span> <span class=chatlog__timestamp title="Saturday, June 17, 2023 4:13â€¯PM"><a href=#chatlog__message-container-1119661018063319064>6/17/2023 4:13â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>is there a reason not to use lancedb for the rest of app data other than embeddings?</span></div></div></div></div><div id=chatlog__message-container-1119661058798387230 class=chatlog__message-container data-message-id=1119661058798387230><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, June 17, 2023 4:13â€¯PM">4:13â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>replacing postgres?</span></div></div></div></div><div id=chatlog__message-container-1119661175928529006 class=chatlog__message-container data-message-id=1119661175928529006><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, June 17, 2023 4:13â€¯PM">4:13â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>do you have an ORM for python?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1119683771730505768 class=chatlog__message-container data-message-id=1119683771730505768><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Saturday, June 17, 2023 5:43â€¯PM"><a href=#chatlog__message-container-1119683771730505768>6/17/2023 5:43â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We dont yet have ORM in python. Lancedb can serve well on read-most workloads, but it does not have high write throughput or ACID as postgres.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1121009661055873044 class=chatlog__message-container data-message-id=1121009661055873044><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/188480232964096000/63c27880ab8e52a8b04f2b935a2c2a3d.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=michael.su data-user-id=188480232964096000>msu</span> <span class=chatlog__timestamp title="Wednesday, June 21, 2023 9:32â€¯AM"><a href=#chatlog__message-container-1121009661055873044>6/21/2023 9:32â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Any tips on this in a docker deploy?
Error: libgfortran.so.5: cannot open shared object file: No such file or directory</span></div></div></div></div><div id=chatlog__message-container-1121009662796505099 class=chatlog__message-container data-message-id=1121009662796505099><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, June 21, 2023 9:32â€¯AM">9:32â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I tried installing libgfortan in the docker image but it still can&#39;t find the so file</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1139768687004491807 class=chatlog__message-container data-message-id=1139768687004491807><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/655808024421597225/4a37ae523d9f8ae92afde16f6ec42654.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=ashiskumarnaik data-user-id=655808024421597225>Ashis K. Naik</span> <span class=chatlog__timestamp title="Saturday, August 12, 2023 3:53â€¯AM"><a href=#chatlog__message-container-1139768687004491807>8/12/2023 3:53â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="lei.xu">@lei</span> I have updated the requested changes. Can you please review it : <a href="https://github.com/lancedb/lancedb/pull/418">https://github.com/lancedb/lancedb/pull/418</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/pull/418><div class="chatlog__markdown chatlog__markdown-preserve">implementation of drop_database by ashiskumarnaik &#183; Pull Request #4...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">#416 Fixed.
added drop_database() method . This deletes all the tables from the database with a single command.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/UzLvSJKGC-T-RwXPRqqcAYyZ9J7T5sxSvlIFIbGLwL4/https/opengraph.githubassets.com/205089e0a4e6a0a5de896cf341ac2ae8401ed800a45461876f63466d17769ead/lancedb/lancedb/pull/418> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/UzLvSJKGC-T-RwXPRqqcAYyZ9J7T5sxSvlIFIbGLwL4/https/opengraph.githubassets.com/205089e0a4e6a0a5de896cf341ac2ae8401ed800a45461876f63466d17769ead/lancedb/lancedb/pull/418 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1139770179895709776 class=chatlog__message-container data-message-id=1139770179895709776><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Saturday, August 12, 2023 3:59â€¯AM"><a href=#chatlog__message-container-1139770179895709776>8/12/2023 3:59â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>LGTM . Approved</span></div></div></div></div><div id=chatlog__message-container-1139770444354957312 class=chatlog__message-container data-message-id=1139770444354957312><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, August 12, 2023 4:00â€¯AM">4:00â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>we will do a new release very soon! Thanks for contribution <span class="chatlog__markdown-mention" title="ashiskumarnaik">@Ashis K. Naik</span> !</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1139943474859364484 class=chatlog__message-container data-message-id=1139943474859364484><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/655808024421597225/4a37ae523d9f8ae92afde16f6ec42654.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=ashiskumarnaik data-user-id=655808024421597225>Ashis K. Naik</span> <span class=chatlog__timestamp title="Saturday, August 12, 2023 3:28â€¯PM"><a href=#chatlog__message-container-1139943474859364484>8/12/2023 3:28â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span> Can you elaborate, what you wanted to be done in this issue : <a href="https://github.com/lancedb/lancedb/issues/323">https://github.com/lancedb/lancedb/issues/323</a>
I can see you have implemented the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">ignore_missing=True</code> in the drop_table. But I am wondering what more could be added?</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/issues/323><div class="chatlog__markdown chatlog__markdown-preserve">CRUD conveniences &#183; Issue #323 &#183; lancedb/lancedb</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Currently if you drop a table that doesn&#39;t exist an exception is raised. And if you try to create a table that does exist an exception is raised as well. Instead we should allow the user to not...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/PBpqcVVEljxYwN-ZpDhlEj478ewsU-LPGkhV9Pd70Qo/https/opengraph.githubassets.com/8131c76544e5ea89865c2a7437e4ad6eefd82bb005cc994f41930c97e0d20ee4/lancedb/lancedb/issues/323> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/PBpqcVVEljxYwN-ZpDhlEj478ewsU-LPGkhV9Pd70Qo/https/opengraph.githubassets.com/8131c76544e5ea89865c2a7437e4ad6eefd82bb005cc994f41930c97e0d20ee4/lancedb/lancedb/issues/323 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1140828662959177768 class=chatlog__message-container data-message-id=1140828662959177768><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/655808024421597225/4a37ae523d9f8ae92afde16f6ec42654.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=ashiskumarnaik>Ashis K. Naik</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1139943474859364484')"> <span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span> Can you elaborate, what you wanted to be done in this issue : <a href="https://github.com/lancedb/lancedb/issues/323">https://github.com/lancedb/lancedb/issues/323</a>
I can see you have implemented the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">ignore_missing=True</code> in the drop_table. But I am wondering what more could be added? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Tuesday, August 15, 2023 2:05â€¯AM"><a href=#chatlog__message-container-1140828662959177768>8/15/2023 2:05â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>sorry, been sick all weekend. i think this can probably be closed for now</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1140829002098016387 class=chatlog__message-container data-message-id=1140829002098016387><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/655808024421597225/4a37ae523d9f8ae92afde16f6ec42654.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1140828662959177768')"> sorry, been sick all weekend. i think this can probably be closed for now </span></div></div><div class=chatlog__header><span class=chatlog__author title=ashiskumarnaik data-user-id=655808024421597225>Ashis K. Naik</span> <span class=chatlog__timestamp title="Tuesday, August 15, 2023 2:07â€¯AM"><a href=#chatlog__message-container-1140829002098016387>8/15/2023 2:07â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Okay</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1140833217792983082 class=chatlog__message-container data-message-id=1140833217792983082><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Tuesday, August 15, 2023 2:23â€¯AM"><a href=#chatlog__message-container-1140833217792983082>8/15/2023 2:23â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>sorry i needed that urgently for something i was working on</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1141639919199076362 class=chatlog__message-container data-message-id=1141639919199076362><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=yotam_fine_75501 data-user-id=1138139168174776332>Yotam Haran</span> <span class=chatlog__timestamp title="Thursday, August 17, 2023 7:49â€¯AM"><a href=#chatlog__message-container-1141639919199076362>8/17/2023 7:49â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey there, was having a look at the docs here <a href="https://lancedb.github.io/lancedb/ann_indexes/">https://lancedb.github.io/lancedb/ann_indexes/</a> and had some trouble figuring out - is there a way to carry out a KNN search?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1141657526048411771 class=chatlog__message-container data-message-id=1141657526048411771><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/759852698907574272/db4ab0ff5f6ef1afcad5774e9986538a.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=dinoelt data-user-id=759852698907574272>dinoelT</span> <span class=chatlog__timestamp title="Thursday, August 17, 2023 8:59â€¯AM"><a href=#chatlog__message-container-1141657526048411771>8/17/2023 8:59â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello guys, I&#39;m new to lancedb and I have a question. I already have a vector database with data. Can anyone point me in the direction of how to update 1 row if I have the &quot;id&quot;. I am using the python library, but any suggestions are welcome.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1141762387901419534 class=chatlog__message-container data-message-id=1141762387901419534><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=majestic_raccoon_31617 data-user-id=1073376390075908126>gc</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, August 17, 2023 3:56â€¯PM"> <a href=#chatlog__message-container-1141762387901419534>8/17/2023 3:56â€¯PM</a> </span></div></div></div><div id=chatlog__message-container-1141763040468017218 class=chatlog__message-container data-message-id=1141763040468017218><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=majestic_raccoon_31617 data-user-id=1073376390075908126>gc</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, August 17, 2023 3:58â€¯PM"> <a href=#chatlog__message-container-1141763040468017218>8/17/2023 3:58â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1142962764864823296 class=chatlog__message-container data-message-id=1142962764864823296><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=__vmg data-user-id=138497924542758912>vmg</span> <span class=chatlog__timestamp title="Sunday, August 20, 2023 11:25â€¯PM"><a href=#chatlog__message-container-1142962764864823296>8/20/2023 11:25â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is there a plan to release lancedb on cratesio?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1143022073355190283 class=chatlog__message-container data-message-id=1143022073355190283><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Monday, August 21, 2023 3:21â€¯AM"><a href=#chatlog__message-container-1143022073355190283>8/21/2023 3:21â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>lancedb is published under the name <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">vectordb</code> on crates.io. <a href="https://crates.io/crates/vectordb">https://crates.io/crates/vectordb</a>
We should probably add a readme file to make this clearer <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1145750595689533460 class=chatlog__message-container data-message-id=1145750595689533460><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/655808024421597225/4a37ae523d9f8ae92afde16f6ec42654.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=ashiskumarnaik data-user-id=655808024421597225>Ashis K. Naik</span> <span class=chatlog__timestamp title="Monday, August 28, 2023 4:03â€¯PM"><a href=#chatlog__message-container-1145750595689533460>8/28/2023 4:03â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, is there any plan for lanceDB to be a distributed database in future ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1145791237664817162 class=chatlog__message-container data-message-id=1145791237664817162><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/655808024421597225/4a37ae523d9f8ae92afde16f6ec42654.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=ashiskumarnaik>Ashis K. Naik</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1145750595689533460')"> Hi, is there any plan for lanceDB to be a distributed database in future ? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Monday, August 28, 2023 6:45â€¯PM"><a href=#chatlog__message-container-1145791237664817162>8/28/2023 6:45â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>There&#39;s definetely pieces we want to be able to run in a distributed fashion. For example, ANN index training is one of the most expensive operations, and we might implement a distributed version to make that more performant.
LanceDB is also designed to horizontally scan for things that can be run in parallel, so queries can be distributed across nodes. Each query is executed by a particular node, though. That could change in the future.
There&#39;s some operations that a full distributed database would do like distributed joins and sorts, and we don&#39;t yet have any plans for those right now.
Is there a particular operation you need that you think could benefit from being distributed?</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=100><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ’¯ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f4af.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1146108046293094410 class=chatlog__message-container data-message-id=1146108046293094410><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/655808024421597225/4a37ae523d9f8ae92afde16f6ec42654.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wjones127>Will Jones</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1145791237664817162')"> There&#39;s definetely pieces we want to be able to run in a distributed fashion. For example, ANN index training is one of the most expensive operations, and we might implement a distributed version to make that more performant.
LanceDB is also designed to horizontally scan for things that can be run in parallel, so queries can be distributed across nodes. Each query is executed by a particular node, though. That could change in the future.
There&#39;s some operations that a full distributed database would do like distributed joins and sorts, and we don&#39;t yet have any plans for those right now.
Is there a particular operation you need that you think could benefit from being distributed? </span></div></div><div class=chatlog__header><span class=chatlog__author title=ashiskumarnaik data-user-id=655808024421597225>Ashis K. Naik</span> <span class=chatlog__timestamp title="Tuesday, August 29, 2023 3:44â€¯PM"><a href=#chatlog__message-container-1146108046293094410>8/29/2023 3:44â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Thanks for clarifying. I was using this project and curiously going through the codebase of lance , so I thought to ask <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"> .</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1146169870464065646 class=chatlog__message-container data-message-id=1146169870464065646><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1048206991773945926/6fab3e8893f8e101feaabba4399f240a.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=triwine data-user-id=1048206991773945926>Jourdelune</span> <span class=chatlog__timestamp title="Tuesday, August 29, 2023 7:49â€¯PM"><a href=#chatlog__message-container-1146169870464065646>8/29/2023 7:49â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hey</span></div></div></div></div><div id=chatlog__message-container-1146169987963306084 class=chatlog__message-container data-message-id=1146169987963306084><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, August 29, 2023 7:50â€¯PM">7:50â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I have save of dataset of sentence with their embedings representation in a dataset (165M sentences)</span></div></div></div></div><div id=chatlog__message-container-1146170026186002473 class=chatlog__message-container data-message-id=1146170026186002473><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, August 29, 2023 7:50â€¯PM">7:50â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>how can I speed up the research?</span></div></div></div></div><div id=chatlog__message-container-1146170140635955304 class=chatlog__message-container data-message-id=1146170140635955304><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, August 29, 2023 7:50â€¯PM">7:50â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I have tried this but I obtain an error:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-py">from laserembeddings import Laser

import numpy as np
import lancedb


laser = Laser()
db = lancedb.connect(&quot;data/sample-lancedb&quot;)
tbl = db.open_table(&quot;table&quot;)

test = laser.embed_sentences([&#39;SHIT  CAN I CHANGE IT WITHT A SUPERSCORE&#39;], lang=[&#39;en&#39;]) 


tbl.create_index(metric=&#39;cosine&#39;)

df = tbl.search(test[0]).metric(&quot;cosine&quot;).limit(1).to_df()
print(df)</code></span> <span class=chatlog__edited-timestamp title="Tuesday, August 29, 2023 7:51â€¯PM">(edited)</span></div></div></div></div><div id=chatlog__message-container-1146170222764634203 class=chatlog__message-container data-message-id=1146170222764634203><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, August 29, 2023 7:51â€¯PM">7:51â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">Traceback (most recent call last):
  File &quot;/home/jourdelune/Bureau/dev/translation-engine/test.py&quot;, line 14, in &lt;module&gt;
    tbl.create_index(metric=&#39;cosine&#39;)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/home/jourdelune/Bureau/dev/translation-engine/venv/lib/python3.11/site-packages/lancedb/table.py&quot;, line 436, in create_index
    self._dataset.create_index(
  File &quot;/home/jourdelune/Bureau/dev/translation-engine/venv/lib/python3.11/site-packages/lance/dataset.py&quot;, line 668, in create_index
    self._ds.create_index(column, index_type, name, metric, kwargs)
pyo3_runtime.PanicException: assertion failed: data.num_columns() % self.num_sub_vectors == 0</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1146172178560200724 class=chatlog__message-container data-message-id=1146172178560200724><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Tuesday, August 29, 2023 7:59â€¯PM"><a href=#chatlog__message-container-1146172178560200724>8/29/2023 7:59â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>how many dimensions is the vector?</span></div></div></div></div><div id=chatlog__message-container-1146172485503561789 class=chatlog__message-container data-message-id=1146172485503561789><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, August 29, 2023 8:00â€¯PM">8:00â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>and you said there&#39;s 165M vectors in the table?</span></div></div></div></div><div id=chatlog__message-container-1146173107896340620 class=chatlog__message-container data-message-id=1146173107896340620><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, August 29, 2023 8:02â€¯PM">8:02â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>just FYI the index creation on 165M vectors will take some time (O(hours)). We&#39;re going to be working on hardware acceleration and distributed indexing in the future.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1146173651109040169 class=chatlog__message-container data-message-id=1146173651109040169><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1048206991773945926/6fab3e8893f8e101feaabba4399f240a.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=triwine data-user-id=1048206991773945926>Jourdelune</span> <span class=chatlog__timestamp title="Tuesday, August 29, 2023 8:04â€¯PM"><a href=#chatlog__message-container-1146173651109040169>8/29/2023 8:04â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>1024 d</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1146173691361775656 class=chatlog__message-container data-message-id=1146173691361775656><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1048206991773945926/6fab3e8893f8e101feaabba4399f240a.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1146172485503561789')"> and you said there&#39;s 165M vectors in the table? </span></div></div><div class=chatlog__header><span class=chatlog__author title=triwine data-user-id=1048206991773945926>Jourdelune</span> <span class=chatlog__timestamp title="Tuesday, August 29, 2023 8:05â€¯PM"><a href=#chatlog__message-container-1146173691361775656>8/29/2023 8:05â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yes</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1146173756805488731 class=chatlog__message-container data-message-id=1146173756805488731><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1048206991773945926/6fab3e8893f8e101feaabba4399f240a.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1146173107896340620')"> just FYI the index creation on 165M vectors will take some time (O(hours)). We&#39;re going to be working on hardware acceleration and distributed indexing in the future. </span></div></div><div class=chatlog__header><span class=chatlog__author title=triwine data-user-id=1048206991773945926>Jourdelune</span> <span class=chatlog__timestamp title="Tuesday, August 29, 2023 8:05â€¯PM"><a href=#chatlog__message-container-1146173756805488731>8/29/2023 8:05â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>okay, nice^^</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1146178689005002902 class=chatlog__message-container data-message-id=1146178689005002902><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1048206991773945926/6fab3e8893f8e101feaabba4399f240a.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=triwine>Jourdelune</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1146173651109040169')"> 1024 d </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Tuesday, August 29, 2023 8:24â€¯PM"><a href=#chatlog__message-container-1146178689005002902>8/29/2023 8:24â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>try it with num_sub_vectors=64 and num_partitions=8192</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150178549676900442 class=chatlog__message-container data-message-id=1150178549676900442><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:18â€¯PM"><a href=#chatlog__message-container-1150178549676900442>9/9/2023 9:18â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hey guys, is there any reason to believe using duckdb while querying will incur a performance hit? we have a chat history method that&#39;s consistently taking &gt; 1.5s to finish</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150179045028413520 class=chatlog__message-container data-message-id=1150179045028413520><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:20â€¯PM"><a href=#chatlog__message-container-1150179045028413520>9/9/2023 9:20â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hi, can you give us some details and help us repro?</span></div></div></div></div><div id=chatlog__message-container-1150179123751301260 class=chatlog__message-container data-message-id=1150179123751301260><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:21â€¯PM">9:21â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>size/shape of the data, what&#39;s the duckdb query etc</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150179178755411969 class=chatlog__message-container data-message-id=1150179178755411969><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:21â€¯PM"><a href=#chatlog__message-container-1150179178755411969>9/9/2023 9:21â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>so my setup is I have 3GB of data stored via lance in total, but all the lance dbs are sharded by user (it&#39;s for a privacy conscious chat app)</span></div></div></div></div><div id=chatlog__message-container-1150179277480935424 class=chatlog__message-container data-message-id=1150179277480935424><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:21â€¯PM">9:21â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>the largest user folder is 750MB</span></div></div></div></div><div id=chatlog__message-container-1150179329066672159 class=chatlog__message-container data-message-id=1150179329066672159><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:22â€¯PM">9:22â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i&#39;m storing in a single document format for all folders</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150179388453830759 class=chatlog__message-container data-message-id=1150179388453830759><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:22â€¯PM"><a href=#chatlog__message-container-1150179388453830759>9/9/2023 9:22â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>gotcha. how many rows is that largest dataset of 750MB ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150179423702745118 class=chatlog__message-container data-message-id=1150179423702745118><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:22â€¯PM"><a href=#chatlog__message-container-1150179423702745118>9/9/2023 9:22â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>this is the schema</span></div><div class=chatlog__attachment><a href="https://cdn.discordapp.com/attachments/1101154357778591824/1150179423409152101/Screenshot_2023-09-09_at_2.22.13_PM.png?ex=698a500f&amp;is=6988fe8f&amp;hm=960381507178b8188ccd096d2a419bd61333910598914a111697d098ec20afe6&amp;"> <img class=chatlog__attachment-media src="https://cdn.discordapp.com/attachments/1101154357778591824/1150179423409152101/Screenshot_2023-09-09_at_2.22.13_PM.png?ex=698a500f&amp;is=6988fe8f&amp;hm=960381507178b8188ccd096d2a419bd61333910598914a111697d098ec20afe6&amp;" alt="Image attachment" title="Image: Screenshot_2023-09-09_at_2.22.13_PM.png (48.08 KB)" loading=lazy> </a></div></div></div></div><div id=chatlog__message-container-1150179657354838167 class=chatlog__message-container data-message-id=1150179657354838167><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:23â€¯PM">9:23â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>there are no indices</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150179680557736057 class=chatlog__message-container data-message-id=1150179680557736057><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1150179388453830759')"> gotcha. how many rows is that largest dataset of 750MB ? </span></div></div><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:23â€¯PM"><a href=#chatlog__message-container-1150179680557736057>9/9/2023 9:23â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>lemme check</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150179700950442095 class=chatlog__message-container data-message-id=1150179700950442095><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:23â€¯PM"><a href=#chatlog__message-container-1150179700950442095>9/9/2023 9:23â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>and also what&#39;s the duckdb query you&#39;re running?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150179792310763541 class=chatlog__message-container data-message-id=1150179792310763541><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:23â€¯PM"><a href=#chatlog__message-container-1150179792310763541>9/9/2023 9:23â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">sql = f&quot;SELECT * from &#39;arrow_table&#39; WHERE user_id={user_id} AND role != &#39;group_history&#39; ORDER BY created_at DESC, external_message_id DESC LIMIT {limit}&quot;</code></span></div></div></div></div><div id=chatlog__message-container-1150179814108573726 class=chatlog__message-container data-message-id=1150179814108573726><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:23â€¯PM">9:23â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>variations of this with start/end time</span></div></div></div></div><div id=chatlog__message-container-1150179891246010399 class=chatlog__message-container data-message-id=1150179891246010399><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:24â€¯PM">9:24â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>and then i&#39;m <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">results = results.loc[:, [&#39;user_id&#39;, &#39;role&#39;, &#39;content&#39;, &#39;document_type&#39;, &#39;created_at&#39;, &#39;external_message_id&#39;, &#39;external_parent_message_id&#39;, &#39;name&#39;]]</code></span></div></div></div></div><div id=chatlog__message-container-1150179969880830063 class=chatlog__message-container data-message-id=1150179969880830063><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:24â€¯PM">9:24â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i&#39;m not so familiar with python/pandas where i can see where i&#39;m doing something wrong here</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150180260801958020 class=chatlog__message-container data-message-id=1150180260801958020><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:25â€¯PM"><a href=#chatlog__message-container-1150180260801958020>9/9/2023 9:25â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>lmk how many rows you&#39;re looking at there. any chance you&#39;d be able to DM me the dataset itself?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150180310349258772 class=chatlog__message-container data-message-id=1150180310349258772><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:25â€¯PM"><a href=#chatlog__message-container-1150180310349258772>9/9/2023 9:25â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>probably can&#39;t DM</span></div></div></div></div><div id=chatlog__message-container-1150180327294255145 class=chatlog__message-container data-message-id=1150180327294255145><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:25â€¯PM">9:25â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>how do i get num of rows again?</span></div></div></div></div><div id=chatlog__message-container-1150180569439805440 class=chatlog__message-container data-message-id=1150180569439805440><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:26â€¯PM">9:26â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>can just use duckdb i guess</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150180674691661955 class=chatlog__message-container data-message-id=1150180674691661955><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:27â€¯PM"><a href=#chatlog__message-container-1150180674691661955>9/9/2023 9:27â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lance_table.to_lance().count_rows()</code></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150181543424307281 class=chatlog__message-container data-message-id=1150181543424307281><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:30â€¯PM"><a href=#chatlog__message-container-1150181543424307281>9/9/2023 9:30â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">s.to_lance().count_rows()
4727</div></div></span></div></div></div></div><div id=chatlog__message-container-1150181709166428261 class=chatlog__message-container data-message-id=1150181709166428261><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:31â€¯PM">9:31â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>and here&#39;s the code running the actual query</span></div><div class=chatlog__attachment><a href="https://cdn.discordapp.com/attachments/1101154357778591824/1150181708948312074/Screenshot_2023-09-09_at_2.31.14_PM.png?ex=698a5230&amp;is=698900b0&amp;hm=5c3da4dd32a0844817c7c5fa71d08b912b5470f52c8a00d63bd5868bea179fa0&amp;"> <img class=chatlog__attachment-media src="https://cdn.discordapp.com/attachments/1101154357778591824/1150181708948312074/Screenshot_2023-09-09_at_2.31.14_PM.png?ex=698a5230&amp;is=698900b0&amp;hm=5c3da4dd32a0844817c7c5fa71d08b912b5470f52c8a00d63bd5868bea179fa0&amp;" alt="Image attachment" title="Image: Screenshot_2023-09-09_at_2.31.14_PM.png (33.74 KB)" loading=lazy> </a></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150182036074668073 class=chatlog__message-container data-message-id=1150182036074668073><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:32â€¯PM"><a href=#chatlog__message-container-1150182036074668073>9/9/2023 9:32â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>the data is stored locally right? is it on an HDD or SSD?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150182108002783304 class=chatlog__message-container data-message-id=1150182108002783304><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:33â€¯PM"><a href=#chatlog__message-container-1150182108002783304>9/9/2023 9:33â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>using a local fly.io volume, which is an SSD I believe</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150183028254068746 class=chatlog__message-container data-message-id=1150183028254068746><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:36â€¯PM"><a href=#chatlog__message-container-1150183028254068746>9/9/2023 9:36â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>do you see the same 1.5 latency locally?</span></div></div></div></div><div id=chatlog__message-container-1150183234538328126 class=chatlog__message-container data-message-id=1150183234538328126><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:37â€¯PM">9:37â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>to improve query latency you can also change your query so instead of <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">select *</code> you do <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">select user_id, role, content, document_type, created_at, external_message_id, external_parent_message_id, name</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150183243656728617 class=chatlog__message-container data-message-id=1150183243656728617><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:37â€¯PM"><a href=#chatlog__message-container-1150183243656728617>9/9/2023 9:37â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>median 1.75s</span></div><div class=chatlog__attachment><a href="https://cdn.discordapp.com/attachments/1101154357778591824/1150183243426037770/Screenshot_2023-09-09_at_2.37.15_PM.png?ex=698a539e&amp;is=6989021e&amp;hm=61a5cd6c52f50ef7731b57f457834d80e81f734911c84000487b9793532dcaff&amp;"> <img class=chatlog__attachment-media src="https://cdn.discordapp.com/attachments/1101154357778591824/1150183243426037770/Screenshot_2023-09-09_at_2.37.15_PM.png?ex=698a539e&amp;is=6989021e&amp;hm=61a5cd6c52f50ef7731b57f457834d80e81f734911c84000487b9793532dcaff&amp;" alt="Image attachment" title="Image: Screenshot_2023-09-09_at_2.37.15_PM.png (20.52 KB)" loading=lazy> </a></div></div></div></div><div id=chatlog__message-container-1150183316721500170 class=chatlog__message-container data-message-id=1150183316721500170><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:37â€¯PM">9:37â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>OK is it the filter by user_id that&#39;s doing a full table scan?</span></div></div></div></div><div id=chatlog__message-container-1150183338955509772 class=chatlog__message-container data-message-id=1150183338955509772><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:37â€¯PM">9:37â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>the graph is from fly.io</span></div></div></div></div><div id=chatlog__message-container-1150183438205341917 class=chatlog__message-container data-message-id=1150183438205341917><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:38â€¯PM">9:38â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>would adding indicies help here? i need 100% retrieval of records across that timespan</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150183474980991077 class=chatlog__message-container data-message-id=1150183474980991077><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:38â€¯PM"><a href=#chatlog__message-container-1150183474980991077>9/9/2023 9:38â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i just want to eliminate fly.io infrastructure. are you able to run the query locally?</span></div></div></div></div><div id=chatlog__message-container-1150183517028888606 class=chatlog__message-container data-message-id=1150183517028888606><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:38â€¯PM">9:38â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>a vector index won&#39;t help since you&#39;re not making an ANN query</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150183527938265108 class=chatlog__message-container data-message-id=1150183527938265108><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:38â€¯PM"><a href=#chatlog__message-container-1150183527938265108>9/9/2023 9:38â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>potentially, i gotta pull some stuff down</span></div></div></div></div><div id=chatlog__message-container-1150183535559315476 class=chatlog__message-container data-message-id=1150183535559315476><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:38â€¯PM">9:38â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>give me a few mins</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150184566947065957 class=chatlog__message-container data-message-id=1150184566947065957><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:42â€¯PM"><a href=#chatlog__message-container-1150184566947065957>9/9/2023 9:42â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>this is what i see locally (i generated a single colum table with just user id&#39;s) for 10M rows</span></div><div class=chatlog__attachment><a href="https://cdn.discordapp.com/attachments/1101154357778591824/1150184566749937775/image.png?ex=698a54da&amp;is=6989035a&amp;hm=064bd0b6bdcdc270f010116d56487ac818561e05f45a8b168ab1e7c07d56413c&amp;"> <img class=chatlog__attachment-media src="https://cdn.discordapp.com/attachments/1101154357778591824/1150184566749937775/image.png?ex=698a54da&amp;is=6989035a&amp;hm=064bd0b6bdcdc270f010116d56487ac818561e05f45a8b168ab1e7c07d56413c&amp;" alt="Image attachment" title="Image: image.png (93.67 KB)" loading=lazy> </a></div><div class=chatlog__reactions><div class=chatlog__reaction title=heart><img class="chatlog__emoji chatlog__emoji--small" alt=â¤ï¸ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/2764.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150184640305451169 class=chatlog__message-container data-message-id=1150184640305451169><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:43â€¯PM"><a href=#chatlog__message-container-1150184640305451169>9/9/2023 9:43â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span> while it&#39;s downloading, I do also use ANN but without a query</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150184743925719062 class=chatlog__message-container data-message-id=1150184743925719062><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:43â€¯PM"><a href=#chatlog__message-container-1150184743925719062>9/9/2023 9:43â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>for 5K rows, you wouldn&#39;t need an index</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150184786497912914 class=chatlog__message-container data-message-id=1150184786497912914><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:43â€¯PM"><a href=#chatlog__message-container-1150184786497912914>9/9/2023 9:43â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>from fly docs: A Fly Volume is a slice of an NVMe drive on the physical server your Fly App runs on. It&#39;s tied to that hardware.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150184934451986542 class=chatlog__message-container data-message-id=1150184934451986542><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:44â€¯PM"><a href=#chatlog__message-container-1150184934451986542>9/9/2023 9:44â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>do they give you io throughput guarantees or anything like that?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150185107915808939 class=chatlog__message-container data-message-id=1150185107915808939><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:44â€¯PM"><a href=#chatlog__message-container-1150185107915808939>9/9/2023 9:44â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>don&#39;t think so</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150185418969595974 class=chatlog__message-container data-message-id=1150185418969595974><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=skyfallsin>pradeep</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1150181709166428261')"> and here&#39;s the code running the actual query </span></div></div><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:46â€¯PM"><a href=#chatlog__message-container-1150185418969595974>9/9/2023 9:46â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>does the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">.to_arrow()</code> change anything?</span></div></div></div></div><div id=chatlog__message-container-1150185464112889856 class=chatlog__message-container data-message-id=1150185464112889856><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:46â€¯PM">9:46â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>or the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">.to_df()</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150185476058251364 class=chatlog__message-container data-message-id=1150185476058251364><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:46â€¯PM"><a href=#chatlog__message-container-1150185476058251364>9/9/2023 9:46â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>no that just materializes it as a pyarrow table</span></div></div></div></div><div id=chatlog__message-container-1150185687925137499 class=chatlog__message-container data-message-id=1150185687925137499><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:47â€¯PM">9:47â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>any decent NVMe should be able to deliver like 3-4 GB /s read, 1.5s would definitely not be expected</span></div></div></div></div><div id=chatlog__message-container-1150185789376966766 class=chatlog__message-container data-message-id=1150185789376966766><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:47â€¯PM">9:47â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">to_df()</code> does incur a penalty but shouldn&#39;t be that bad for 5K rows</span></div></div></div></div><div id=chatlog__message-container-1150185823287918703 class=chatlog__message-container data-message-id=1150185823287918703><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:47â€¯PM">9:47â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>and i&#39;m assuming the filtered resultset is much smaller</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150185886802259988 class=chatlog__message-container data-message-id=1150185886802259988><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:48â€¯PM"><a href=#chatlog__message-container-1150185886802259988>9/9/2023 9:48â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>100 records is the limit i ask for</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150185905685012490 class=chatlog__message-container data-message-id=1150185905685012490><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:48â€¯PM"><a href=#chatlog__message-container-1150185905685012490>9/9/2023 9:48â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>right</span></div></div></div></div><div id=chatlog__message-container-1150185980649816196 class=chatlog__message-container data-message-id=1150185980649816196><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:48â€¯PM">9:48â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>first thing is try it locally with the column selection as part of the query rather than doing it afterwards</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150186133947437166 class=chatlog__message-container data-message-id=1150186133947437166><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:49â€¯PM"><a href=#chatlog__message-container-1150186133947437166>9/9/2023 9:49â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>the only &quot;large&quot; column here is the vector</span></div></div></div></div><div id=chatlog__message-container-1150186163471138816 class=chatlog__message-container data-message-id=1150186163471138816><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:49â€¯PM">9:49â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>maybe that&#39;s why</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150186244911943803 class=chatlog__message-container data-message-id=1150186244911943803><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:49â€¯PM"><a href=#chatlog__message-container-1150186244911943803>9/9/2023 9:49â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>and that&#39;s not part of your projection right? i didn&#39;t see it in the selection list</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150186606431580180 class=chatlog__message-container data-message-id=1150186606431580180><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:50â€¯PM"><a href=#chatlog__message-container-1150186606431580180>9/9/2023 9:50â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>the SELECT * will pick it up but the .loc will filter it out</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150186754154962965 class=chatlog__message-container data-message-id=1150186754154962965><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:51â€¯PM"><a href=#chatlog__message-container-1150186754154962965>9/9/2023 9:51â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>right don&#39;t do the select *</span></div></div></div></div><div id=chatlog__message-container-1150186794604834867 class=chatlog__message-container data-message-id=1150186794604834867><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:51â€¯PM">9:51â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>put the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">.loc</code> list in the select itself</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150186828205404170 class=chatlog__message-container data-message-id=1150186828205404170><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:51â€¯PM"><a href=#chatlog__message-container-1150186828205404170>9/9/2023 9:51â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>OK let me try that quickly, IIRC there was a reason why i didn&#39;t do that</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150186828989743174 class=chatlog__message-container data-message-id=1150186828989743174><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:51â€¯PM"><a href=#chatlog__message-container-1150186828989743174>9/9/2023 9:51â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>that&#39;s a more efficient query</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150186837466423326 class=chatlog__message-container data-message-id=1150186837466423326><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:51â€¯PM"><a href=#chatlog__message-container-1150186837466423326>9/9/2023 9:51â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>but lemme dig in</span></div></div></div></div><div id=chatlog__message-container-1150186991200251966 class=chatlog__message-container data-message-id=1150186991200251966><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:52â€¯PM">9:52â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>oh yeah i remember now</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150186996933857401 class=chatlog__message-container data-message-id=1150186996933857401><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:52â€¯PM"><a href=#chatlog__message-container-1150186996933857401>9/9/2023 9:52â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>but the biggest difference should be trying to run it locally on your own ssd drive</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150187117444612096 class=chatlog__message-container data-message-id=1150187117444612096><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:52â€¯PM"><a href=#chatlog__message-container-1150187117444612096>9/9/2023 9:52â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>it was the addition of a column post data store creation. at that time, I. was talking to your cofounder and he said it wasn&#39;t possible to retroactively add that column to the old rows</span></div></div></div></div><div id=chatlog__message-container-1150187168761905173 class=chatlog__message-container data-message-id=1150187168761905173><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:53â€¯PM">9:53â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>new column was called &#39;name&#39;</span></div></div></div></div><div id=chatlog__message-container-1150187208939143229 class=chatlog__message-container data-message-id=1150187208939143229><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:53â€¯PM">9:53â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>before i had the * working (but row count was low)</span></div></div></div></div><div id=chatlog__message-container-1150187292930101451 class=chatlog__message-container data-message-id=1150187292930101451><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:53â€¯PM">9:53â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>then I didn&#39;t change because I didn&#39;t want to select &#39;name&#39; and get a crash</span></div></div></div></div><div id=chatlog__message-container-1150187312811094126 class=chatlog__message-container data-message-id=1150187312811094126><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:53â€¯PM">9:53â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>so i did * and filtered using pandas</span></div></div></div></div><div id=chatlog__message-container-1150187370566656091 class=chatlog__message-container data-message-id=1150187370566656091><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:53â€¯PM">9:53â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>has this changed?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150187574950903868 class=chatlog__message-container data-message-id=1150187574950903868><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:54â€¯PM"><a href=#chatlog__message-container-1150187574950903868>9/9/2023 9:54â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>not sure i understand. I see the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">name</code> column in the schema you pasted above</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150187619087564953 class=chatlog__message-container data-message-id=1150187619087564953><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:54â€¯PM"><a href=#chatlog__message-container-1150187619087564953>9/9/2023 9:54â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>right but when the table was first created, there was no &#39;name&#39; column</span></div></div></div></div><div id=chatlog__message-container-1150187655796117524 class=chatlog__message-container data-message-id=1150187655796117524><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:55â€¯PM">9:55â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>then openai announced function_calls and i started a new column</span></div></div></div></div><div id=chatlog__message-container-1150187684636143749 class=chatlog__message-container data-message-id=1150187684636143749><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:55â€¯PM">9:55â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>for all upcoming rows</span></div></div></div></div><div id=chatlog__message-container-1150187770111873035 class=chatlog__message-container data-message-id=1150187770111873035><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:55â€¯PM">9:55â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>but when i queried using <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">select *</code> with <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">name</code>, lance crashed</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150187904593829999 class=chatlog__message-container data-message-id=1150187904593829999><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:56â€¯PM"><a href=#chatlog__message-container-1150187904593829999>9/9/2023 9:56â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yeah, if <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">name</code> doesn&#39;t exist in the lancedb table then you won&#39;t be able to select it out</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150187947212161094 class=chatlog__message-container data-message-id=1150187947212161094><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:56â€¯PM"><a href=#chatlog__message-container-1150187947212161094>9/9/2023 9:56â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>what if only some of the rows have &#39;name&#39; columns</span></div></div></div></div><div id=chatlog__message-container-1150187990556102706 class=chatlog__message-container data-message-id=1150187990556102706><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:56â€¯PM">9:56â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>it&#39;s not a &quot;real&quot; SQL table</span></div></div></div></div><div id=chatlog__message-container-1150188003122229299 class=chatlog__message-container data-message-id=1150188003122229299><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:56â€¯PM">9:56â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>that&#39;s the part that&#39;s confusing to me</span></div></div></div></div><div id=chatlog__message-container-1150188047963533332 class=chatlog__message-container data-message-id=1150188047963533332><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:56â€¯PM">9:56â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>how can i &quot;version&quot; the columns of the table itself</span></div></div></div></div><div id=chatlog__message-container-1150188063658614814 class=chatlog__message-container data-message-id=1150188063658614814><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:56â€¯PM">9:56â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>akin to migrations in db land</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150188169543815259 class=chatlog__message-container data-message-id=1150188169543815259><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:57â€¯PM"><a href=#chatlog__message-container-1150188169543815259>9/9/2023 9:57â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>you can add columns using <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">LanceTable.merge</code></span></div></div></div></div><div id=chatlog__message-container-1150188197058465824 class=chatlog__message-container data-message-id=1150188197058465824><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:57â€¯PM">9:57â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>but let&#39;s actually put that aside right now</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150188218722029571 class=chatlog__message-container data-message-id=1150188218722029571><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:57â€¯PM"><a href=#chatlog__message-container-1150188218722029571>9/9/2023 9:57â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yup, i&#39;ll dig into that</span></div></div></div></div><div id=chatlog__message-container-1150188229618843688 class=chatlog__message-container data-message-id=1150188229618843688><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:57â€¯PM">9:57â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>(still downloading)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150188242503729222 class=chatlog__message-container data-message-id=1150188242503729222><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 9:57â€¯PM"><a href=#chatlog__message-container-1150188242503729222>9/9/2023 9:57â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>gotcha</span></div></div></div></div><div id=chatlog__message-container-1150188501103554610 class=chatlog__message-container data-message-id=1150188501103554610><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 9:58â€¯PM">9:58â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>here&#39;s the merge function: <a href="https://github.com/lancedb/lancedb/blob/main/python/lancedb/table.py#L557">https://github.com/lancedb/lancedb/blob/main/python/lancedb/table.py#L557</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/blob/main/python/lancedb/table.py><div class="chatlog__markdown chatlog__markdown-preserve">lancedb/python/lancedb/table.py at main &#183; lancedb/lancedb</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Developer-friendly, serverless vector database for AI applications. Easily add long-term memory to your LLM apps! - lancedb/lancedb</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/DU3eOfQlN1qhaA4oHuZb2HQJeRJ1IORfxANw8VhVqKc/https/opengraph.githubassets.com/c989024242873d458a964daa2e46d84506c5776ded075c82e47ba244a75bbdea/lancedb/lancedb> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/DU3eOfQlN1qhaA4oHuZb2HQJeRJ1IORfxANw8VhVqKc/https/opengraph.githubassets.com/c989024242873d458a964daa2e46d84506c5776ded075c82e47ba244a75bbdea/lancedb/lancedb alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150188906227179530 class=chatlog__message-container data-message-id=1150188906227179530><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:00â€¯PM"><a href=#chatlog__message-container-1150188906227179530>9/9/2023 10:00â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>got it, but this assumes there&#39;s another table with atleast one join key to start the merge</span></div></div></div></div><div id=chatlog__message-container-1150188987328233612 class=chatlog__message-container data-message-id=1150188987328233612><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:00â€¯PM">10:00â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>and i&#39;m asking if there&#39;s a way to create a column so new data can flow into it, but have the old data&#39;s column field be set to some default or null</span></div></div></div></div><div id=chatlog__message-container-1150189148804747284 class=chatlog__message-container data-message-id=1150189148804747284><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:01â€¯PM">10:01â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>maybe i&#39;m just confused by the example</span></div></div></div></div><div id=chatlog__message-container-1150189191322415245 class=chatlog__message-container data-message-id=1150189191322415245><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:01â€¯PM">10:01â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>which keys off <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">x</code> and has <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">1,2,3</code> in both tables</span></div></div></div></div><div id=chatlog__message-container-1150189229540909086 class=chatlog__message-container data-message-id=1150189229540909086><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:01â€¯PM">10:01â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>if <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">3</code> didn&#39;t exist in the merged table, what happens?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150189462500950067 class=chatlog__message-container data-message-id=1150189462500950067><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:02â€¯PM"><a href=#chatlog__message-container-1150189462500950067>9/9/2023 10:02â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>oh just put a null value for that row</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150189514619359346 class=chatlog__message-container data-message-id=1150189514619359346><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:02â€¯PM"><a href=#chatlog__message-container-1150189514619359346>9/9/2023 10:02â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>it will automatically?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150189890382856293 class=chatlog__message-container data-message-id=1150189890382856293><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:03â€¯PM"><a href=#chatlog__message-container-1150189890382856293>9/9/2023 10:03â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>so let&#39;s say you have column <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">pk</code> that&#39;s the join column, you have original table OrigTable and new table NewTable.</span></div></div></div></div><div id=chatlog__message-container-1150189968115892236 class=chatlog__message-container data-message-id=1150189968115892236><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:04â€¯PM">10:04â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>OrigTable has <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">pk</code> 1,2,3 and NewTable has <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">pk</code> 1,3,4</span></div></div></div></div><div id=chatlog__message-container-1150190008196669531 class=chatlog__message-container data-message-id=1150190008196669531><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:04â€¯PM">10:04â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>the merged table will have <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">pk</code> 1,2,3</span></div></div></div></div><div id=chatlog__message-container-1150190140468244590 class=chatlog__message-container data-message-id=1150190140468244590><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:04â€¯PM">10:04â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>for <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">pk</code>==2, the value of the new columns are NA</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150190201830912090 class=chatlog__message-container data-message-id=1150190201830912090><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:05â€¯PM"><a href=#chatlog__message-container-1150190201830912090>9/9/2023 10:05â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>got it</span></div></div></div></div><div id=chatlog__message-container-1150190263189385287 class=chatlog__message-container data-message-id=1150190263189385287><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:05â€¯PM">10:05â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>when i first encountered create_table, it needed a new row to kick off creation - is that still the case?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150190356101595257 class=chatlog__message-container data-message-id=1150190356101595257><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:05â€¯PM"><a href=#chatlog__message-container-1150190356101595257>9/9/2023 10:05â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>not anymore you can create an empty table without data</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150190364259532870 class=chatlog__message-container data-message-id=1150190364259532870><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:05â€¯PM"><a href=#chatlog__message-container-1150190364259532870>9/9/2023 10:05â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>and for <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">pk</code>==4, the value of the old columns are NA?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150190517829775381 class=chatlog__message-container data-message-id=1150190517829775381><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:06â€¯PM"><a href=#chatlog__message-container-1150190517829775381>9/9/2023 10:06â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">LanceTable.merge</code> only adds new column but not new rows so <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">pk=4</code> will not appear in the merged table</span></div></div></div></div><div id=chatlog__message-container-1150190682623983626 class=chatlog__message-container data-message-id=1150190682623983626><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:07â€¯PM">10:07â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>to add new rows, just use LanceTable.add</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150190929181946046 class=chatlog__message-container data-message-id=1150190929181946046><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:08â€¯PM"><a href=#chatlog__message-container-1150190929181946046>9/9/2023 10:08â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>ok so i need to duplicate OrigTable to NewTable, then add a new row that has new columns, then merge</span></div></div></div></div><div id=chatlog__message-container-1150190997733658664 class=chatlog__message-container data-message-id=1150190997733658664><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:08â€¯PM">10:08â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>that would effectively be a &quot;database migration&quot; in lance terms</span></div></div></div></div><div id=chatlog__message-container-1150191131791986738 class=chatlog__message-container data-message-id=1150191131791986738><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:08â€¯PM">10:08â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>(download complete, checking now)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150191245482795070 class=chatlog__message-container data-message-id=1150191245482795070><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:09â€¯PM"><a href=#chatlog__message-container-1150191245482795070>9/9/2023 10:09â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>(yeah, the design of the base operations of LanceDB is such that the diff between versions of a table is simple to reason about)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150191549502730261 class=chatlog__message-container data-message-id=1150191549502730261><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:10â€¯PM"><a href=#chatlog__message-container-1150191549502730261>9/9/2023 10:10â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i mentioned this to your cofounder a while back, but there are a lot of folks entering vector db land from pure SQL dbs and there isn&#39;t enough to illustrate the differences between the two</span></div></div></div></div><div id=chatlog__message-container-1150191586295156777 class=chatlog__message-container data-message-id=1150191586295156777><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:10â€¯PM">10:10â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i&#39;m happy there&#39;s <em>A</em> option now</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150192171476074547 class=chatlog__message-container data-message-id=1150192171476074547><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:13â€¯PM"><a href=#chatlog__message-container-1150192171476074547>9/9/2023 10:13â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><img
    loading="lazy"
    class="chatlog__emoji chatlog__emoji--large"
    alt="ðŸ˜Š"
    title="blush"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f60a.svg"></span></div></div></div></div><div id=chatlog__message-container-1150192287918329916 class=chatlog__message-container data-message-id=1150192287918329916><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:13â€¯PM">10:13â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>btw, if at anypoint you find that you&#39;ve messed up, you can always rollback</span></div></div></div></div><div id=chatlog__message-container-1150192348085616701 class=chatlog__message-container data-message-id=1150192348085616701><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:13â€¯PM">10:13â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>lance_table.list_versions() shows you the list</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150192378611765280 class=chatlog__message-container data-message-id=1150192378611765280><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:13â€¯PM"><a href=#chatlog__message-container-1150192378611765280>9/9/2023 10:13â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hm actually... i do see a slowdown when the table is converted via <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">to_arrow()</code> step</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150192493124649000 class=chatlog__message-container data-message-id=1150192493124649000><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:14â€¯PM"><a href=#chatlog__message-container-1150192493124649000>9/9/2023 10:14â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yeah the query is not actually executed until you materialize the results somehow</span></div></div></div></div><div id=chatlog__message-container-1150192552193052804 class=chatlog__message-container data-message-id=1150192552193052804><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:14â€¯PM">10:14â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>that&#39;s a duckdb thing</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150192895953997855 class=chatlog__message-container data-message-id=1150192895953997855><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:15â€¯PM"><a href=#chatlog__message-container-1150192895953997855>9/9/2023 10:15â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>but i convert the table to_arrow() on every query</span></div></div></div></div><div id=chatlog__message-container-1150193063755513957 class=chatlog__message-container data-message-id=1150193063755513957><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:16â€¯PM">10:16â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">timeit.timeit(lambda: s.to_arrow(), number=1)
5.356852091994369</div></div></span></div></div></div></div><div id=chatlog__message-container-1150193088304779354 class=chatlog__message-container data-message-id=1150193088304779354><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:16â€¯PM">10:16â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>oof this is locally</span></div></div></div></div><div id=chatlog__message-container-1150193280575881226 class=chatlog__message-container data-message-id=1150193280575881226><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:17â€¯PM">10:17â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span> do you see this too</span></div></div></div></div><div id=chatlog__message-container-1150193542401101944 class=chatlog__message-container data-message-id=1150193542401101944><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:18â€¯PM">10:18â€¯PM</div></div><div class=chatlog__message-primary><div class=chatlog__attachment><a href="https://cdn.discordapp.com/attachments/1101154357778591824/1150193542187208795/Screenshot_2023-09-09_at_3.18.25_PM.png?ex=698a5d36&amp;is=69890bb6&amp;hm=928838e1ed858f52a5db9ddc4948080190e98364aae99da919bcc36f7a2edbc5&amp;"> <img class=chatlog__attachment-media src="https://cdn.discordapp.com/attachments/1101154357778591824/1150193542187208795/Screenshot_2023-09-09_at_3.18.25_PM.png?ex=698a5d36&amp;is=69890bb6&amp;hm=928838e1ed858f52a5db9ddc4948080190e98364aae99da919bcc36f7a2edbc5&amp;" alt="Image attachment" title="Image: Screenshot_2023-09-09_at_3.18.25_PM.png (34.56 KB)" loading=lazy> </a></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150193663297720341 class=chatlog__message-container data-message-id=1150193663297720341><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:18â€¯PM"><a href=#chatlog__message-container-1150193663297720341>9/9/2023 10:18â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>without your dataset i cannot say for sure but locally the filtering runs very quickly for me as you&#39;ve seen</span></div></div></div></div><div id=chatlog__message-container-1150193673796063382 class=chatlog__message-container data-message-id=1150193673796063382><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:19â€¯PM">10:19â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>what is <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">s</code>?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150193728212975717 class=chatlog__message-container data-message-id=1150193728212975717><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:19â€¯PM"><a href=#chatlog__message-container-1150193728212975717>9/9/2023 10:19â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>that&#39;s the lance_table</span></div></div></div></div><div id=chatlog__message-container-1150193789374308403 class=chatlog__message-container data-message-id=1150193789374308403><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:19â€¯PM">10:19â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">LanceTable(-1001048340452)</code></span></div></div></div></div><div id=chatlog__message-container-1150193823121682492 class=chatlog__message-container data-message-id=1150193823121682492><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:19â€¯PM">10:19â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>is there a way to exclude the vectors in this <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">to_arrow()</code> conversion?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150194205205991538 class=chatlog__message-container data-message-id=1150194205205991538><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:21â€¯PM"><a href=#chatlog__message-container-1150194205205991538>9/9/2023 10:21â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>is that 5.35s? or 5.35ms?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150194226903121920 class=chatlog__message-container data-message-id=1150194226903121920><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:21â€¯PM"><a href=#chatlog__message-container-1150194226903121920>9/9/2023 10:21â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>seconds</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150194305579884575 class=chatlog__message-container data-message-id=1150194305579884575><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:21â€¯PM"><a href=#chatlog__message-container-1150194305579884575>9/9/2023 10:21â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>that makes no sense. if you&#39;re just doing table.to_arrow() that&#39;s just reading the table into memory</span></div></div></div></div><div id=chatlog__message-container-1150194475621167208 class=chatlog__message-container data-message-id=1150194475621167208><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:22â€¯PM">10:22â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>and len(lance_table) is ~5K?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150194522391855114 class=chatlog__message-container data-message-id=1150194522391855114><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:22â€¯PM"><a href=#chatlog__message-container-1150194522391855114>9/9/2023 10:22â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>running the actual duckdb query is half a second
<div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">timeit.timeit(lambda: duckdb.query(sql).to_df(), number=1)
0.5380765880108811</div></div></span></div></div></div></div><div id=chatlog__message-container-1150194550606942248 class=chatlog__message-container data-message-id=1150194550606942248><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:22â€¯PM">10:22â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>requesting 100 records</span></div></div></div></div><div id=chatlog__message-container-1150194605132894280 class=chatlog__message-container data-message-id=1150194605132894280><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:22â€¯PM">10:22â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">len(s)
4727</div></div></span></div></div></div></div><div id=chatlog__message-container-1150194653874888784 class=chatlog__message-container data-message-id=1150194653874888784><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:22â€¯PM">10:22â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>&quot;SELECT * from &#39;arrow_table&#39; WHERE user_id=&#39;-1001048340452&#39; AND role != &#39;group_history&#39; ORDER BY created_at DESC, external_message_id DESC LIMIT 100&quot;</span></div></div></div></div><div id=chatlog__message-container-1150194720916656228 class=chatlog__message-container data-message-id=1150194720916656228><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:23â€¯PM">10:23â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i suspect it is indeed the loading into memory in to_arrow()</span></div></div></div></div><div id=chatlog__message-container-1150194790416269342 class=chatlog__message-container data-message-id=1150194790416269342><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:23â€¯PM">10:23â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>didn&#39;t realize it was loading 800MB into memory...</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150194832468365422 class=chatlog__message-container data-message-id=1150194832468365422><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:23â€¯PM"><a href=#chatlog__message-container-1150194832468365422>9/9/2023 10:23â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>but even then it shouldn&#39;t take 5s lol</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150194840684990464 class=chatlog__message-container data-message-id=1150194840684990464><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:23â€¯PM"><a href=#chatlog__message-container-1150194840684990464>9/9/2023 10:23â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>lemme run the timer on the server itself</span></div></div></div></div><div id=chatlog__message-container-1150194873471881246 class=chatlog__message-container data-message-id=1150194873471881246><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:23â€¯PM">10:23â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yes agreed</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150194893407395911 class=chatlog__message-container data-message-id=1150194893407395911><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:23â€¯PM"><a href=#chatlog__message-container-1150194893407395911>9/9/2023 10:23â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yes <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">to_arrow()</code> reads into pyarrow Table which is memory</span></div></div></div></div><div id=chatlog__message-container-1150194906128723990 class=chatlog__message-container data-message-id=1150194906128723990><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:23â€¯PM">10:23â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>that&#39;s expected</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150194944150098080 class=chatlog__message-container data-message-id=1150194944150098080><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:24â€¯PM"><a href=#chatlog__message-container-1150194944150098080>9/9/2023 10:24â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i don&#39;t have heavy CPU or IO going right now on the laptop</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150194955940270191 class=chatlog__message-container data-message-id=1150194955940270191><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:24â€¯PM"><a href=#chatlog__message-container-1150194955940270191>9/9/2023 10:24â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>ok so locally, you see something like 0.5s</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150195012085231767 class=chatlog__message-container data-message-id=1150195012085231767><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:24â€¯PM"><a href=#chatlog__message-container-1150195012085231767>9/9/2023 10:24â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>sorry, there are two separate things locally:</span></div></div></div></div><div id=chatlog__message-container-1150195043165032540 class=chatlog__message-container data-message-id=1150195043165032540><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:24â€¯PM">10:24â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>1. to_arrow() takes 5s</span></div></div></div></div><div id=chatlog__message-container-1150195069542998026 class=chatlog__message-container data-message-id=1150195069542998026><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:24â€¯PM">10:24â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>2. duckdb.query(sql) takes 0.5s</span></div></div></div></div><div id=chatlog__message-container-1150195102531190854 class=chatlog__message-container data-message-id=1150195102531190854><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:24â€¯PM">10:24â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i&#39;m going to run both on production one sec</span></div></div></div></div><div id=chatlog__message-container-1150195485789925506 class=chatlog__message-container data-message-id=1150195485789925506><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:26â€¯PM">10:26â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>on production server:
<div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">timeit.timeit(lambda: s.to_arrow(), number=1)
2.3293169240059797

&gt;&gt;&gt; timeit.timeit(lambda: duckdb.query(sql).to_df(), number=1)
0.6294226919999346</div></div></span></div></div></div></div><div id=chatlog__message-container-1150195550881321020 class=chatlog__message-container data-message-id=1150195550881321020><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:26â€¯PM">10:26â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>all seconds</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150195887038017537 class=chatlog__message-container data-message-id=1150195887038017537><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:27â€¯PM"><a href=#chatlog__message-container-1150195887038017537>9/9/2023 10:27â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>right, the query filters the data and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">to_arrow()</code> will read all 800MB</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150196309496709260 class=chatlog__message-container data-message-id=1150196309496709260><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:29â€¯PM"><a href=#chatlog__message-container-1150196309496709260>9/9/2023 10:29â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>OK, so if the data&#39;s constantly getting updated in the lance table, i need to convert to <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">to_arrow()</code> every time i&#39;m querying it right?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150196495161774182 class=chatlog__message-container data-message-id=1150196495161774182><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:30â€¯PM"><a href=#chatlog__message-container-1150196495161774182>9/9/2023 10:30â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>oh how many files is it?</span></div></div></div></div><div id=chatlog__message-container-1150196577940537477 class=chatlog__message-container data-message-id=1150196577940537477><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:30â€¯PM">10:30â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>what does <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">len(lance_table.list_versions())</code>  show</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150196725668130897 class=chatlog__message-container data-message-id=1150196725668130897><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:31â€¯PM"><a href=#chatlog__message-container-1150196725668130897>9/9/2023 10:31â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">len(s.list_versions())
4727</div></div></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150196755414130708 class=chatlog__message-container data-message-id=1150196755414130708><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:31â€¯PM"><a href=#chatlog__message-container-1150196755414130708>9/9/2023 10:31â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>ahhh</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150196773877465088 class=chatlog__message-container data-message-id=1150196773877465088><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:31â€¯PM"><a href=#chatlog__message-container-1150196773877465088>9/9/2023 10:31â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>is it loading all the versions LOL</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150196816294449283 class=chatlog__message-container data-message-id=1150196816294449283><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:31â€¯PM"><a href=#chatlog__message-container-1150196816294449283>9/9/2023 10:31â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>all ok so you&#39;ve inserted data 1 row at a time</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150196844404678788 class=chatlog__message-container data-message-id=1150196844404678788><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:31â€¯PM"><a href=#chatlog__message-container-1150196844404678788>9/9/2023 10:31â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>oh yeah</span></div></div></div></div><div id=chatlog__message-container-1150196853237887096 class=chatlog__message-container data-message-id=1150196853237887096><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:31â€¯PM">10:31â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>it&#39;s a chat app</span></div></div></div></div><div id=chatlog__message-container-1150196883575275571 class=chatlog__message-container data-message-id=1150196883575275571><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:31â€¯PM">10:31â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>litearlly on every send or receive</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150196921131077633 class=chatlog__message-container data-message-id=1150196921131077633><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:31â€¯PM"><a href=#chatlog__message-container-1150196921131077633>9/9/2023 10:31â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>that&#39;s why it&#39;s so slow because it needs to scan 5K files</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150196982216937614 class=chatlog__message-container data-message-id=1150196982216937614><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:32â€¯PM"><a href=#chatlog__message-container-1150196982216937614>9/9/2023 10:32â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>how do i skip loading all the versions?</span></div></div></div></div><div id=chatlog__message-container-1150197026462634087 class=chatlog__message-container data-message-id=1150197026462634087><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:32â€¯PM">10:32â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>and just use the last version</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150197082238505093 class=chatlog__message-container data-message-id=1150197082238505093><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:32â€¯PM"><a href=#chatlog__message-container-1150197082238505093>9/9/2023 10:32â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>it&#39;s not that it&#39;s loading all the versions</span></div></div></div></div><div id=chatlog__message-container-1150197459662938182 class=chatlog__message-container data-message-id=1150197459662938182><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:34â€¯PM">10:34â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>the issue is that you&#39;re writing 1 row at a time, which results in a lot of small files.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150197546044624997 class=chatlog__message-container data-message-id=1150197546044624997><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=skyfallsin>pradeep</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1150196309496709260')"> OK, so if the data&#39;s constantly getting updated in the lance table, i need to convert to <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">to_arrow()</code> every time i&#39;m querying it right? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:34â€¯PM"><a href=#chatlog__message-container-1150197546044624997>9/9/2023 10:34â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>so this is the main issue. You don&#39;t need to call <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">to_arrow</code> at all</span></div></div></div></div><div id=chatlog__message-container-1150197668396671026 class=chatlog__message-container data-message-id=1150197668396671026><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:34â€¯PM">10:34â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>do <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">arrow_dataset = lance_table.to_lance()</code> then you can use <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">arrow_dataset</code> as the table name in a duckdb query</span></div></div></div></div><div id=chatlog__message-container-1150198169775394887 class=chatlog__message-container data-message-id=1150198169775394887><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:36â€¯PM">10:36â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>if you find that the sql query is really slowing down, the easiest way to work around that is to do <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lance_table.add(lance_table.to_arrow(), mode=&quot;overwrite&quot;)</code> periodically once you hit some threshold (like 3K or 5K rows or smth)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150198283566841958 class=chatlog__message-container data-message-id=1150198283566841958><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:37â€¯PM"><a href=#chatlog__message-container-1150198283566841958>9/9/2023 10:37â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>what does this do? ^</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150198446926598144 class=chatlog__message-container data-message-id=1150198446926598144><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:37â€¯PM"><a href=#chatlog__message-container-1150198446926598144>9/9/2023 10:37â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>this basically compacts all of the files into a single big file and creates a new version</span></div></div></div></div><div id=chatlog__message-container-1150198502861852682 class=chatlog__message-container data-message-id=1150198502861852682><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:38â€¯PM">10:38â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>so then the scan performance should become much much better</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150198574118875216 class=chatlog__message-container data-message-id=1150198574118875216><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:38â€¯PM"><a href=#chatlog__message-container-1150198574118875216>9/9/2023 10:38â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>gotcha</span></div></div></div></div><div id=chatlog__message-container-1150198597502128158 class=chatlog__message-container data-message-id=1150198597502128158><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:38â€¯PM">10:38â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>can i have that happen automatically</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150199013300244572 class=chatlog__message-container data-message-id=1150199013300244572><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:40â€¯PM"><a href=#chatlog__message-container-1150199013300244572>9/9/2023 10:40â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>compaction is on the roadmap we just don&#39;t have a firm date on that yet</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150199116404629604 class=chatlog__message-container data-message-id=1150199116404629604><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:40â€¯PM"><a href=#chatlog__message-container-1150199116404629604>9/9/2023 10:40â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>ok on production:

conversion to_lance() is fast
<div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">timeit.timeit(lambda: s.to_lance(), number=1)
1.4546996681019664e-05

</div></div>
query is much slower:
<div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">`timeit.timeit(lambda: duckdb.query(sql2).to_df(), number=1)
100% â–•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– 
14.856636632001027`</div></div></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150199281609879663 class=chatlog__message-container data-message-id=1150199281609879663><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:41â€¯PM"><a href=#chatlog__message-container-1150199281609879663>9/9/2023 10:41â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>so <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">to_arrow</code> reads everything into memory but <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">to_lance</code> does not</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150199425109606441 class=chatlog__message-container data-message-id=1150199425109606441><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:41â€¯PM"><a href=#chatlog__message-container-1150199425109606441>9/9/2023 10:41â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>and now it&#39;s file scanning?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150199714474627122 class=chatlog__message-container data-message-id=1150199714474627122><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:43â€¯PM"><a href=#chatlog__message-container-1150199714474627122>9/9/2023 10:43â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>can you try creating a new lance table as a copy? <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table = db.create_table(&quot;copy&quot;, schema=orig_table.schema)</code> then <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table.add(orig_table.to_arrow())</code></span></div></div></div></div><div id=chatlog__message-container-1150199829503414372 class=chatlog__message-container data-message-id=1150199829503414372><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:43â€¯PM">10:43â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>then do <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">arrow_dataset = table.to_lance()</code> and then do the same <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">duckdb.query(sql2).to_df()</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150200267648802866 class=chatlog__message-container data-message-id=1150200267648802866><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:45â€¯PM"><a href=#chatlog__message-container-1150200267648802866>9/9/2023 10:45â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>there we go:
<div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">timeit.timeit(lambda: duckdb.query(sql2).to_df(), number=1)
0.1337336210126523</div></div></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150200515850932434 class=chatlog__message-container data-message-id=1150200515850932434><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:46â€¯PM"><a href=#chatlog__message-container-1150200515850932434>9/9/2023 10:46â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yeah so that&#39;s the issue</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150200626513461258 class=chatlog__message-container data-message-id=1150200626513461258><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:46â€¯PM"><a href=#chatlog__message-container-1150200626513461258>9/9/2023 10:46â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>when it&#39;s writing this new data, i&#39;m assuming the table will lock?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150200888821043251 class=chatlog__message-container data-message-id=1150200888821043251><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:47â€¯PM"><a href=#chatlog__message-container-1150200888821043251>9/9/2023 10:47â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>you can still query the table no problem. Once done written, you&#39;ll just have to re-open the table (<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">db.open_table(table_name)</code>) to pick-up the new version</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150200952800956426 class=chatlog__message-container data-message-id=1150200952800956426><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:47â€¯PM"><a href=#chatlog__message-container-1150200952800956426>9/9/2023 10:47â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>ah interesting</span></div></div></div></div><div id=chatlog__message-container-1150201077023641630 class=chatlog__message-container data-message-id=1150201077023641630><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:48â€¯PM">10:48â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i guess my inefficient code that loads the user tables from scratch everytime inadvertently prevented another issue</span></div></div></div></div><div id=chatlog__message-container-1150201128470982657 class=chatlog__message-container data-message-id=1150201128470982657><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:48â€¯PM">10:48â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>thank you so much!</span></div></div></div></div><div id=chatlog__message-container-1150201177724686409 class=chatlog__message-container data-message-id=1150201177724686409><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:48â€¯PM">10:48â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>so you&#39;re saying - every 1k rows or so, have an async job that does this for every table</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150201441307344948 class=chatlog__message-container data-message-id=1150201441307344948><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:49â€¯PM"><a href=#chatlog__message-container-1150201441307344948>9/9/2023 10:49â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>no worries, glad i could help! yeah something like that should work</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150201690486755489 class=chatlog__message-container data-message-id=1150201690486755489><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyfallsin data-user-id=117060055408312320>pradeep</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:50â€¯PM"><a href=#chatlog__message-container-1150201690486755489>9/9/2023 10:50â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>OK, I guess i&#39;m the first one to use this for chat <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"> ?</span></div></div></div></div><div id=chatlog__message-container-1150201698640470117 class=chatlog__message-container data-message-id=1150201698640470117><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:50â€¯PM">10:50â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>sounds unlikely</span></div></div></div></div><div id=chatlog__message-container-1150201792949399613 class=chatlog__message-container data-message-id=1150201792949399613><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, September 9, 2023 10:51â€¯PM">10:51â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>will DM you our project</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1150201878047629432 class=chatlog__message-container data-message-id=1150201878047629432><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, September 9, 2023 10:51â€¯PM"><a href=#chatlog__message-container-1150201878047629432>9/9/2023 10:51â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>great!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1155550660457136258 class=chatlog__message-container data-message-id=1155550660457136258><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Sunday, September 24, 2023 5:05â€¯PM"><a href=#chatlog__message-container-1155550660457136258>9/24/2023 5:05â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi all, does LanceDB have a feature similar to this one in Qdrant? Say I construct a full text index with tantivy, and also an ANN index, and I want to rank the results with exact keyword matches (that also have a high degree of semantic similarity to my query) above those that are more &quot;similar&quot; on pure semantic terms. How can I go about this with the current state of LanceDB? 
<a href="https://blog.qdrant.tech/qdrant-introduces-full-text-filters-and-indexes-9a032fcb5fa">https://blog.qdrant.tech/qdrant-introduces-full-text-filters-and-indexes-9a032fcb5fa</a></span> <span class=chatlog__edited-timestamp title="Sunday, September 24, 2023 5:06â€¯PM">(edited)</span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://blog.qdrant.tech/qdrant-introduces-full-text-filters-and-indexes-9a032fcb5fa><div class="chatlog__markdown chatlog__markdown-preserve">Qdrant introduces full-text filters and indexes</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Vector embeddings capture semantics. But if you know the exact text you look for, the full-text filter in Qdrant allows you to use both.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/kh5-JM8UzuuYmMCZpT8ak1vE8us-BKRMysNO5wVdz28/https/miro.medium.com/v2/resize%3Afit%3A800/1%2A0PTzMsOnwkeB2jxBME5fug.png> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/kh5-JM8UzuuYmMCZpT8ak1vE8us-BKRMysNO5wVdz28/https/miro.medium.com/v2/resize%3Afit%3A800/1%2A0PTzMsOnwkeB2jxBME5fug.png alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1155594702091980800 class=chatlog__message-container data-message-id=1155594702091980800><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Sunday, September 24, 2023 8:00â€¯PM"><a href=#chatlog__message-container-1155594702091980800>9/24/2023 8:00â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Looking at the screenshot in the blog post, this seems like itâ€™s doing pre-filtering based on metadata fields? Like color=â€œwhiteâ€ etc?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1155605614475624508 class=chatlog__message-container data-message-id=1155605614475624508><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1155594702091980800')"> Looking at the screenshot in the blog post, this seems like itâ€™s doing pre-filtering based on metadata fields? Like color=â€œwhiteâ€ etc? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Sunday, September 24, 2023 8:44â€¯PM"><a href=#chatlog__message-container-1155605614475624508>9/24/2023 8:44â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span> hmm I&#39;d have to dig into the latest version docs to understand it further, but my problem right now in LanceDB  is that some of my search results being returned are not respecting exact keywords in the top 5 ranking.. it&#39;s a little random and hard to reproduce, but I&#39;d like a little more control on how to rerank results that have exact keyword matches as well as a high similarity score. Any tips on how this can be done?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1155609106246275192 class=chatlog__message-container data-message-id=1155609106246275192><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Sunday, September 24, 2023 8:58â€¯PM"><a href=#chatlog__message-container-1155609106246275192>9/24/2023 8:58â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Right now you would issue two queries one for vector search and one for full text search then do a reranking explicitly. If you want exact word match, you should be able to use vector search + filter using LIKE? We just merged in a first version of pre-filtering. Weâ€™ll need to expose it to LanceDB and make a release (should be out next week as an experimental feature)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1155620627852574853 class=chatlog__message-container data-message-id=1155620627852574853><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1155609106246275192')"> Right now you would issue two queries one for vector search and one for full text search then do a reranking explicitly. If you want exact word match, you should be able to use vector search + filter using LIKE? We just merged in a first version of pre-filtering. Weâ€™ll need to expose it to LanceDB and make a release (should be out next week as an experimental feature) </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Sunday, September 24, 2023 9:43â€¯PM"><a href=#chatlog__message-container-1155620627852574853>9/24/2023 9:43â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Great, will keep an eye open for the filtering feature. From a usability perspective it would be really cool if there were easier ways to combine these methods and not have to explicitly define them. Thanks!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1158034335484629033 class=chatlog__message-container data-message-id=1158034335484629033><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Sunday, October 1, 2023 1:35â€¯PM"><a href=#chatlog__message-container-1158034335484629033>10/1/2023 1:35â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, how would i go about making async retrievals with LanceDB? Would you just build a FastAPI layer in top of the DB and make aiohttp calls to a search endpoint? Just wanted to check I wasn&#39;t missing any other method.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1158061286710587532 class=chatlog__message-container data-message-id=1158061286710587532><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Sunday, October 1, 2023 3:22â€¯PM"><a href=#chatlog__message-container-1158061286710587532>10/1/2023 3:22â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>More questions regarding dataset versioning and how to avoid exploding dataset size on disk: I tried running a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">tbl.add(data, mode=&#39;append&#39;)</code> via batched iterators, and it works great. It didn&#39;t create duplicates, so I&#39;m wondering how Lance checks that there are no duplicate records (I don&#39;t remember setting anything as the primary key)?

Also, each batch creates its own new manifest in the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">_versions</code> subdirectory of the DB, which greatly increases disk space utilization over time. Are there any best practices on avoiding exploding disk space requirements as we add more data over time?

EDIT: I see some discussion this on the Lance repo back in August, so I&#39;m linking my question here as well:
<a href="https://github.com/lancedb/lance/issues/1117#issuecomment-1742116033">https://github.com/lancedb/lance/issues/1117#issuecomment-1742116033</a></span> <span class=chatlog__edited-timestamp title="Sunday, October 1, 2023 3:31â€¯PM">(edited)</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/issues/1117><div class="chatlog__markdown chatlog__markdown-preserve">Add function to delete dataset versions &#183; Issue #1117 &#183; lancedb/lan...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Right now we keep all versions of a dataset, but to save disk space, we&#39;d like to remove older versions. The API might allow removing a specific version or all versions before one. dataset.dele...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/IMxn-lZZNrwgfN4Wfw3Qi6w9WVpjHwSSs4N_0Xv-aYA/https/opengraph.githubassets.com/608cb41020f4696620483314aa264c9bd04b07a9e4d5739f94fa27a33e6ad5ae/lancedb/lance/issues/1117> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/IMxn-lZZNrwgfN4Wfw3Qi6w9WVpjHwSSs4N_0Xv-aYA/https/opengraph.githubassets.com/608cb41020f4696620483314aa264c9bd04b07a9e4d5739f94fa27a33e6ad5ae/lancedb/lance/issues/1117 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1158065449511178241 class=chatlog__message-container data-message-id=1158065449511178241><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=prrao>prashanth</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1158061286710587532')"> More questions regarding dataset versioning and how to avoid exploding dataset size on disk: I tried running a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">tbl.add(data, mode=&#39;append&#39;)</code> via batched iterators, and it works great. It didn&#39;t create duplicates, so I&#39;m wondering how Lance checks that there are no duplicate records (I don&#39;t remember setting anything as the primary key)?

Also, each batch creates its own new manifest in the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">_versions</code> subdirectory of the DB, which greatly increases disk space utilization over time. Are there any best practices on avoiding exploding disk space requirements as we add more data over time?

EDIT: I see some discussion this on the Lance repo back in August, so I&#39;m linking my question here as well:
<a href="https://github.com/lancedb/lance/issues/1117#issuecomment-1742116033">https://github.com/lancedb/lance/issues/1117#issuecomment-1742116033</a> </span> <span class=chatlog__reply-edited-timestamp title="Sunday, October 1, 2023 3:31â€¯PM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Sunday, October 1, 2023 3:38â€¯PM"><a href=#chatlog__message-container-1158065449511178241>10/1/2023 3:38â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;m surprised mode append didn&#39;t create duplicates.  This mode only adds new rows, it does not update existing rows.

I believe lancedb does have an update feature but it requires a filter (e.g. row id) to know which rows to replace.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1158069519026229288 class=chatlog__message-container data-message-id=1158069519026229288><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Sunday, October 1, 2023 3:54â€¯PM"><a href=#chatlog__message-container-1158069519026229288>10/1/2023 3:54â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Interesting!  So, to perform upserts, the &quot;right&quot; way to do it is pass a batch and use <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">mode=&#39;overwrite&#39;</code> then?</span></div></div></div></div><div id=chatlog__message-container-1158069618997461073 class=chatlog__message-container data-message-id=1158069618997461073><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Sunday, October 1, 2023 3:55â€¯PM">3:55â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="wpace">@WestonPace</span>  Ah I see, yes, there are definitely duplicates being created (the search result show multiple records with the same <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">id</code> field in my case). However, what confused me is that <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">len(tbl)</code> always returns the same value (the expected length of the full dataset) when querying it after running <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">tbl.add(data, mode=&#39;append&#39;)</code> -- is that intended behaviour?</span> <span class=chatlog__edited-timestamp title="Sunday, October 1, 2023 3:57â€¯PM">(edited)</span></div></div></div></div><div id=chatlog__message-container-1158070465928122480 class=chatlog__message-container data-message-id=1158070465928122480><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Sunday, October 1, 2023 3:58â€¯PM">3:58â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;ll switch to overwrite mode and it should work fine, but I&#39;m not sure what exactly append mode is doing, and how the versions are being handled with updating data</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1158083035196043264 class=chatlog__message-container data-message-id=1158083035196043264><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=prrao>prashanth</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1158069519026229288')"> Interesting!  So, to perform upserts, the &quot;right&quot; way to do it is pass a batch and use <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">mode=&#39;overwrite&#39;</code> then? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Sunday, October 1, 2023 4:48â€¯PM"><a href=#chatlog__message-container-1158083035196043264>10/1/2023 4:48â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>LanceDB uses <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">update</code> for <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">upsert</code> and the API is still experimental:

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">    def update(self, where: str, values: dict):
        &quot;&quot;&quot;
        EXPERIMENTAL: Update rows in the table (not threadsafe).

        This can be used to update zero to all rows depending on how many
        rows match the where clause.

        Parameters
        ----------
        where: str
            The SQL where clause to use when updating rows. For example, &#39;x = 2&#39;
            or &#39;x IN (1, 2, 3)&#39;. The filter must not be empty, or it will error.
        values: dict
            The values to update. The keys are the column names and the values
            are the values to set.

        Examples
        --------
        &gt;&gt;&gt; import lancedb
        &gt;&gt;&gt; import pandas as pd
        &gt;&gt;&gt; data = pd.DataFrame({&quot;x&quot;: [1, 2, 3], &quot;vector&quot;: [[1, 2], [3, 4], [5, 6]]})
        &gt;&gt;&gt; db = lancedb.connect(&quot;./.lancedb&quot;)
        &gt;&gt;&gt; table = db.create_table(&quot;my_table&quot;, data)
        &gt;&gt;&gt; table.to_pandas()
           x      vector
        0  1  [1.0, 2.0]
        1  2  [3.0, 4.0]
        2  3  [5.0, 6.0]
        &gt;&gt;&gt; table.update(where=&quot;x = 2&quot;, values={&quot;vector&quot;: [10, 10]})
        &gt;&gt;&gt; table.to_pandas()
           x        vector
        0  1    [1.0, 2.0]
        1  3    [5.0, 6.0]
        2  2  [10.0, 10.0]</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1158083355766702185 class=chatlog__message-container data-message-id=1158083355766702185><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=prrao>prashanth</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1158070465928122480')"> I&#39;ll switch to overwrite mode and it should work fine, but I&#39;m not sure what exactly append mode is doing, and how the versions are being handled with updating data </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Sunday, October 1, 2023 4:49â€¯PM"><a href=#chatlog__message-container-1158083355766702185>10/1/2023 4:49â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>If you have 5 rows and you add 2 rows with overwrite you will have a table with 2 rows (the original 5 rows will be overwritten)
If you have 5 rows and you add 2 rows with append you will have a table with 7 rows (all of the original 5 rows will be overwritten)
If you have 5 rows and you add 2 rows with update you will have 2-7 rows (depending on how many of the original rows matched the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">where</code> clause)</span></div></div></div></div><div id=chatlog__message-container-1158083861448769556 class=chatlog__message-container data-message-id=1158083861448769556><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Sunday, October 1, 2023 4:51â€¯PM">4:51â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">Also, each batch creates its own new manifest in the _versions subdirectory of the DB, which greatly increases disk space utilization over time. Are there any best practices on avoiding exploding disk space requirements as we add more data over time?
</div></div>
Cleanup &amp; compaction are supported in the format (<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lance</code> package) right now but they aren&#39;t yet in <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lancedb</code>.  If you periodically compact &amp; cleanup then you should have more or less the same dataset that you would have if you uploaded everything all at once in a single pass.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=raised_hands><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ™Œ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64c.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1158087101485682728 class=chatlog__message-container data-message-id=1158087101485682728><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Sunday, October 1, 2023 5:04â€¯PM"><a href=#chatlog__message-container-1158087101485682728>10/1/2023 5:04â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>This makes sense, thanks!</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1158141518918471731 class=chatlog__message-container data-message-id=1158141518918471731><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=prrao>prashanth</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1158034335484629033')"> Hi, how would i go about making async retrievals with LanceDB? Would you just build a FastAPI layer in top of the DB and make aiohttp calls to a search endpoint? Just wanted to check I wasn&#39;t missing any other method. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Sunday, October 1, 2023 8:40â€¯PM"><a href=#chatlog__message-container-1158141518918471731>10/1/2023 8:40â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>On async, we don&#39;t have any async methods, but most methods do not hold the GIL, so if you want concurrency in an async application (such as in a FastAPI app) you can put the calls to lance in <a href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.loop.run_in_executor">run_in_executor()</a>.</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(55,118,171,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://docs.python.org/3/library/asyncio-eventloop.html><div class="chatlog__markdown chatlog__markdown-preserve">Event Loop</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Source code: Lib/asyncio/events.py, Lib/asyncio/base_events.py Preface The event loop is the core of every asyncio application. Event loops run asynchronous tasks and callbacks, perform network IO ...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/LydtvTE0uhB8MTCowW_NZUsnjeQRi0E9H1DMtaF24RY/https/docs.python.org/3/_static/og-image.png> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/LydtvTE0uhB8MTCowW_NZUsnjeQRi0E9H1DMtaF24RY/https/docs.python.org/3/_static/og-image.png alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=pray><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ™ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1158394342524858419 class=chatlog__message-container data-message-id=1158394342524858419><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Monday, October 2, 2023 1:25â€¯PM"><a href=#chatlog__message-container-1158394342524858419>10/2/2023 1:25â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>In this response by Chang, he mentions that new vectors that are inserted are searchable despite not being part of the index. How does that work under the hood? And are there guidelines on how often the re-indexing should be done? (Curious to know there the 20K number came from): <a href="https://github.com/lancedb/lancedb/issues/487#issuecomment-1712655927">https://github.com/lancedb/lancedb/issues/487#issuecomment-1712655927</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/issues/487><div class="chatlog__markdown chatlog__markdown-preserve">Incremental updates to an index &#183; Issue #487 &#183; lancedb/lancedb</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">I&#39;m interested in using LanceDB for an embedded application where vectors can be added over time and queried efficiently without having to do a full reindex every time. Is this feature supporte...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/l3aam0guarVuBpie8o-FVg7BakWrbCTESH1g2E8x_n8/https/opengraph.githubassets.com/476704fe5146a38ffb1ef2e0a8c7a0bcd75fcb5303951734d9fcccc42ff06b91/lancedb/lancedb/issues/487> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/l3aam0guarVuBpie8o-FVg7BakWrbCTESH1g2E8x_n8/https/opengraph.githubassets.com/476704fe5146a38ffb1ef2e0a8c7a0bcd75fcb5303951734d9fcccc42ff06b91/lancedb/lancedb/issues/487 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1158395584386977923 class=chatlog__message-container data-message-id=1158395584386977923><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=prrao>prashanth</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1158394342524858419')"> In this response by Chang, he mentions that new vectors that are inserted are searchable despite not being part of the index. How does that work under the hood? And are there guidelines on how often the re-indexing should be done? (Curious to know there the 20K number came from): <a href="https://github.com/lancedb/lancedb/issues/487#issuecomment-1712655927">https://github.com/lancedb/lancedb/issues/487#issuecomment-1712655927</a> </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Monday, October 2, 2023 1:30â€¯PM"><a href=#chatlog__message-container-1158395584386977923>10/2/2023 1:30â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>User asks for nearest K rows

1. First we perform an indexed search using the index -&gt; returns up to K rows, O(index-size)
2. Simultaneously we perform a flat search of the new data -&gt; returns up to K rows, O(new-data-size)
3. Then we perform a flat search of both results -&gt; returns up to K rows, O(2*K)

So, as the amount of new data grows, the cost of that flat search grows.  However, assuming you have idle cores, you might not notice it in the latency because these things happen in parallel.  20K is just a heuristic guess of the point at which this starts to significantly impact latency even if you do have idle cores.</span> <span class=chatlog__edited-timestamp title="Monday, October 2, 2023 1:31â€¯PM">(edited)</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=pray_tone3><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ™ðŸ½ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f-1f3fd.svg loading=lazy> <span class=chatlog__reaction-count>2</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1158448685705871461 class=chatlog__message-container data-message-id=1158448685705871461><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Monday, October 2, 2023 5:01â€¯PM"><a href=#chatlog__message-container-1158448685705871461>10/2/2023 5:01â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Does LanceDB support sorting by a field other than score/distance? I get the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">.search()</code> results via either FTS or vector search sorted by score/distance, but is it possible to sort by <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">price</code> or such prior to returning the result? I could do a downstream sort after applying <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">limit</code>, but this means I&#39;d only be sorting on a small subset of the result I obtain after the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">limit</code> operation.

Below is a FTS search whose result I want to sort by <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">price</code>
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-py">tbl.search(&quot;my query string&quot;)
.limit(10)</code></span> <span class=chatlog__edited-timestamp title="Monday, October 2, 2023 5:04â€¯PM">(edited)</span></div></div></div></div><div id=chatlog__message-container-1158449499954499684 class=chatlog__message-container data-message-id=1158449499954499684><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Monday, October 2, 2023 5:04â€¯PM">5:04â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I looked at the SQL dialect as well and it doesn&#39;t seem that <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">ORDER BY</code> is implemented</span></div></div></div></div><div id=chatlog__message-container-1158449566945906768 class=chatlog__message-container data-message-id=1158449566945906768><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Monday, October 2, 2023 5:04â€¯PM">5:04â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is this due to reasons related to query planning?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1158450806945763411 class=chatlog__message-container data-message-id=1158450806945763411><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Monday, October 2, 2023 5:09â€¯PM"><a href=#chatlog__message-container-1158450806945763411>10/2/2023 5:09â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">I could do a downstream sort after applying limit, but this means I&#39;d only be sorting on a small subset of the result I obtain after the limit operation.
</div></div>
Isn&#39;t this inevitable?  In other words, if your query is &quot;give me the 10 points closest to this query string, ordered by price&quot;, then I am assuming you want the sort to happen after we select the 10 closest points.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1158451652181885018 class=chatlog__message-container data-message-id=1158451652181885018><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Monday, October 2, 2023 5:13â€¯PM"><a href=#chatlog__message-container-1158451652181885018>10/2/2023 5:13â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hmmm. I suppose I&#39;m thinking of a situation in FTS where the scores don&#39;t really mean anything much (6.89 vs. 6.87), and is determined by the underlying settings of BM25 and boosting, etc.. But I see your point. The downstream sort is enough because a &quot;high&quot; score means it has more keyword matches</span></div></div></div></div><div id=chatlog__message-container-1158452902835265578 class=chatlog__message-container data-message-id=1158452902835265578><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Monday, October 2, 2023 5:18â€¯PM">5:18â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Okay yeah I guess I got what I wanted - I do a two-stage limit: first a top 10,000 search in Lance and then sort the top 10 by score and price - that way I scan a larger subset of the data for relevance.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1159979665440657420 class=chatlog__message-container data-message-id=1159979665440657420><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Friday, October 6, 2023 10:25â€¯PM"><a href=#chatlog__message-container-1159979665440657420>10/6/2023 10:25â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Struggling with two basic things right now.

I&#39;m trying to output a pydantic model object from a vector search, so that I can pass it directly to FastAPI. This is what I want to do
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-py">query_vector = model.encode(terms.lower())
search_result = (
    request.app.table.search(query_vector)
    .metric(&quot;cosine&quot;)
    .nprobes(NUM_PROBES)
    .limit(5)
).to_pydantic(MyModel)</code>

This errors out with the attached msg.

I&#39;m able to get this out into a list of dicts via pandas as follows, but there&#39;s unnecessary serialization/deserialization overhead when passing to a FastAPI app:

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-py">query_vector = model.encode(terms.lower())
search_result = (
    request.app.table.search(query_vector)
    .metric(&quot;cosine&quot;)
    .nprobes(NUM_PROBES)
    .limit(5)
).to_df().to_dict(orient=&quot;records&quot;)</code>

How would I output a pydantic model from the search?</span> <span class=chatlog__edited-timestamp title="Friday, October 6, 2023 10:27â€¯PM">(edited)</span></div><div class=chatlog__attachment><div class=chatlog__attachment-generic><svg class=chatlog__attachment-generic-icon><use href=#attachment-icon /></svg><div class=chatlog__attachment-generic-name><a href="https://cdn.discordapp.com/attachments/1101154357778591824/1159979665201565727/message.txt?ex=698a5ebf&amp;is=69890d3f&amp;hm=071129f85faea556b4ff6324acffae3415ce85e89f3cabfc7f215336a5f3e405&amp;"> message.txt </a></div><div class=chatlog__attachment-generic-size>4.8 KB</div></div></div></div></div></div><div id=chatlog__message-container-1159980064969076766 class=chatlog__message-container data-message-id=1159980064969076766><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, October 6, 2023 10:26â€¯PM">10:26â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Another very basic question:

How do I perform a selection on a vector search in Python?? In my head the following query should work, and I get the error below instead.

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-python">    query_vector = request.app.model.encode(terms.lower())
    search_result = (
        request.app.table.search(query_vector)
        .metric(&quot;cosine&quot;)
        .nprobes(NUM_PROBES)
        .select(&quot;id&quot;, &quot;points&quot;, &quot;title&quot;, &quot;description&quot;, &quot;price&quot;, &quot;variety&quot;, &quot;winery&quot;)
        .limit(5)
    ).to_df().to_dict(orient=&quot;records&quot;)</code>

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">  File &quot;/Users/prrao/code/lancedb-study/lancedb/app.py&quot;, line 59, in _search_by_similarity
    .select(&quot;id&quot;, &quot;points&quot;, &quot;title&quot;, &quot;description&quot;, &quot;price&quot;, &quot;variety&quot;, &quot;winery&quot;)
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: LanceQueryBuilder.select() takes 2 positional arguments but 8 were given</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1159980350152380588 class=chatlog__message-container data-message-id=1159980350152380588><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=prrao>prashanth</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1159980064969076766')"> Another very basic question:

How do I perform a selection on a vector search in Python?? In my head the following query should work, and I get the error below instead.

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-python">    query_vector = request.app.model.encode(terms.lower())
    search_result = (
        request.app.table.search(query_vector)
        .metric(&quot;cosine&quot;)
        .nprobes(NUM_PROBES)
        .select(&quot;id&quot;, &quot;points&quot;, &quot;title&quot;, &quot;description&quot;, &quot;price&quot;, &quot;variety&quot;, &quot;winery&quot;)
        .limit(5)
    ).to_df().to_dict(orient=&quot;records&quot;)</code>

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">  File &quot;/Users/prrao/code/lancedb-study/lancedb/app.py&quot;, line 59, in _search_by_similarity
    .select(&quot;id&quot;, &quot;points&quot;, &quot;title&quot;, &quot;description&quot;, &quot;price&quot;, &quot;variety&quot;, &quot;winery&quot;)
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: LanceQueryBuilder.select() takes 2 positional arguments but 8 were given</code> </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Friday, October 6, 2023 10:27â€¯PM"><a href=#chatlog__message-container-1159980350152380588>10/6/2023 10:27â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>For <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">select()</code> columns needs to be <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">list</code> right now</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1159980779498115215 class=chatlog__message-container data-message-id=1159980779498115215><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=prrao>prashanth</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1159979665440657420')"> Struggling with two basic things right now.

I&#39;m trying to output a pydantic model object from a vector search, so that I can pass it directly to FastAPI. This is what I want to do
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-py">query_vector = model.encode(terms.lower())
search_result = (
    request.app.table.search(query_vector)
    .metric(&quot;cosine&quot;)
    .nprobes(NUM_PROBES)
    .limit(5)
).to_pydantic(MyModel)</code>

This errors out with the attached msg.

I&#39;m able to get this out into a list of dicts via pandas as follows, but there&#39;s unnecessary serialization/deserialization overhead when passing to a FastAPI app:

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-py">query_vector = model.encode(terms.lower())
search_result = (
    request.app.table.search(query_vector)
    .metric(&quot;cosine&quot;)
    .nprobes(NUM_PROBES)
    .limit(5)
).to_df().to_dict(orient=&quot;records&quot;)</code>

How would I output a pydantic model from the search? </span> <span class=chatlog__reply-edited-timestamp title="Friday, October 6, 2023 10:27â€¯PM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Friday, October 6, 2023 10:29â€¯PM"><a href=#chatlog__message-container-1159980779498115215>10/6/2023 10:29â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Seems like the model is missing <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">field_names</code>. Haven&#39;t used Pydantic for a bit, could that be from a different version?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1159980972272529461 class=chatlog__message-container data-message-id=1159980972272529461><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wjones127>Will Jones</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1159980350152380588')"> For <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">select()</code> columns needs to be <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">list</code> right now </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Friday, October 6, 2023 10:30â€¯PM"><a href=#chatlog__message-container-1159980972272529461>10/6/2023 10:30â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>That works!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1159981170000400514 class=chatlog__message-container data-message-id=1159981170000400514><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wjones127>Will Jones</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1159980779498115215')"> Seems like the model is missing <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">field_names</code>. Haven&#39;t used Pydantic for a bit, could that be from a different version? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Friday, October 6, 2023 10:31â€¯PM"><a href=#chatlog__message-container-1159981170000400514>10/6/2023 10:31â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;m using the latest version of pydantic (2.3.x), could be the source of the issue, true</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1159984004720762890 class=chatlog__message-container data-message-id=1159984004720762890><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Friday, October 6, 2023 10:42â€¯PM"><a href=#chatlog__message-container-1159984004720762890>10/6/2023 10:42â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We want to support both pydantic 1.x and 2.x. So if youâ€™re noticing a compat issue thatâ€™s definitely worth a GitHub issue. Thanks <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™"
    title="pray"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg"></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1159984975475642370 class=chatlog__message-container data-message-id=1159984975475642370><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=energetic_maypole_64699 data-user-id=1144859643500306513>Ben</span> <span class=chatlog__timestamp title="Friday, October 6, 2023 10:46â€¯PM"><a href=#chatlog__message-container-1159984975475642370>10/6/2023 10:46â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hey there â€“ sorry to bother â€“ I am working on a personal project where I am wanting to store embeddings on my device, and not have to send that data anywhere else is this something I can do with LanceDB?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1159985412530503691 class=chatlog__message-container data-message-id=1159985412530503691><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=energetic_maypole_64699>Ben</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1159984975475642370')"> hey there â€“ sorry to bother â€“ I am working on a personal project where I am wanting to store embeddings on my device, and not have to send that data anywhere else is this something I can do with LanceDB? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Friday, October 6, 2023 10:47â€¯PM"><a href=#chatlog__message-container-1159985412530503691>10/6/2023 10:47â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yes! When you call:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">import lancedb

uri = &quot;data/sample-lancedb&quot;
db = lancedb.connect(uri)</code>
this creates a directory at <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">data/sample-lancedb</code>. All your data is self-contained there and isn&#39;t sent anywhere else.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1159985486710976612 class=chatlog__message-container data-message-id=1159985486710976612><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=energetic_maypole_64699 data-user-id=1144859643500306513>Ben</span> <span class=chatlog__timestamp title="Friday, October 6, 2023 10:48â€¯PM"><a href=#chatlog__message-container-1159985486710976612>10/6/2023 10:48â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>wow this is amazingt</span></div></div></div></div><div id=chatlog__message-container-1159985497926545479 class=chatlog__message-container data-message-id=1159985497926545479><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, October 6, 2023 10:48â€¯PM">10:48â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>thank you!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1159985881193660519 class=chatlog__message-container data-message-id=1159985881193660519><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1159984004720762890')"> We want to support both pydantic 1.x and 2.x. So if youâ€™re noticing a compat issue thatâ€™s definitely worth a GitHub issue. Thanks <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™"
    title="pray"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg"> </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Friday, October 6, 2023 10:49â€¯PM"><a href=#chatlog__message-container-1159985881193660519>10/6/2023 10:49â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Not able to reproduce the issue on a simpler example, so will have to work on this! I&#39;ll post an issue if I can create a working example <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ‘"
    title="thumbsup"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"><img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ¼"
    title="ðŸ¼"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f3fc.svg"></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=pray><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ™ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1159987207088652378 class=chatlog__message-container data-message-id=1159987207088652378><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Friday, October 6, 2023 10:55â€¯PM"><a href=#chatlog__message-container-1159987207088652378>10/6/2023 10:55â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Thank you!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1161814678905823272 class=chatlog__message-container data-message-id=1161814678905823272><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=atomiclifeadmin data-user-id=911266949940514886>atomiclifeadmin</span> <span class=chatlog__timestamp title="Wednesday, October 11, 2023 11:56â€¯PM"><a href=#chatlog__message-container-1161814678905823272>10/11/2023 11:56â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>do Iam roles on aws lambda work without providing credentials to s3?</span></div></div></div></div><div id=chatlog__message-container-1161815000315342958 class=chatlog__message-container data-message-id=1161815000315342958><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, October 11, 2023 11:58â€¯PM">11:58â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>to connect to s3?</span></div></div></div></div><div id=chatlog__message-container-1161815519133958224 class=chatlog__message-container data-message-id=1161815519133958224><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, October 12, 2023 12:00â€¯AM">12:00â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>via lancedb.connect(uri)</span></div></div></div></div><div id=chatlog__message-container-1161815626109698089 class=chatlog__message-container data-message-id=1161815626109698089><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, October 12, 2023 12:00â€¯AM">12:00â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>s3://...</span></div></div></div></div><div id=chatlog__message-container-1161815814622679050 class=chatlog__message-container data-message-id=1161815814622679050><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, October 12, 2023 12:01â€¯AM">12:01â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>or do i provide the aws credentials manually? if so how do i do this in python?</span></div></div></div></div><div id=chatlog__message-container-1161815945187180624 class=chatlog__message-container data-message-id=1161815945187180624><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, October 12, 2023 12:01â€¯AM">12:01â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i can pick up the credentials from environment variables in an aws lambda function</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162040712087482500 class=chatlog__message-container data-message-id=1162040712087482500><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=atomiclifeadmin data-user-id=911266949940514886>atomiclifeadmin</span> <span class=chatlog__timestamp title="Thursday, October 12, 2023 2:54â€¯PM"><a href=#chatlog__message-container-1162040712087482500>10/12/2023 2:54â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Would love to get quick yes I donâ€™t have to supply the credentials with the aws lambda iam role</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162044051168710768 class=chatlog__message-container data-message-id=1162044051168710768><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, October 12, 2023 3:08â€¯PM"><a href=#chatlog__message-container-1162044051168710768>10/12/2023 3:08â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">Would love to get quick yes I donâ€™t have to supply the credentials with the aws lambda iam role
</div></div>
You shouldn&#39;t need to supply the credentials.  We use <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">aws_config</code> for defaults and the default process is described here: <a href="https://docs.rs/aws-config/latest/aws_config/default_provider/credentials/struct.DefaultCredentialsChain.html">https://docs.rs/aws-config/latest/aws_config/default_provider/credentials/struct.DefaultCredentialsChain.html</a>

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">Resolution order:

    Environment variables: EnvironmentVariableCredentialsProvider
    Shared config (~/.aws/config, ~/.aws/credentials): SharedConfigCredentialsProvider
    Web Identity Tokens
    ECS (IAM Roles for Tasks) &amp; General HTTP credentials: ecs
    EC2 IMDSv2

The outer provider is wrapped in a refreshing cache.

More providers are a work in progress.</code>

That being said, I don&#39;t know that anyone has tested IAM roles or not yet.</span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://docs.rs/aws-config/latest/aws_config/default_provider/credentials/struct.DefaultCredentialsChain.html><div class="chatlog__markdown chatlog__markdown-preserve">DefaultCredentialsChain in aws_config::default_provider::credential...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Default AWS Credential Provider Chain</div></div></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162044223206469752 class=chatlog__message-container data-message-id=1162044223206469752><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=atomiclifeadmin>atomiclifeadmin</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1162040712087482500')"> Would love to get quick yes I donâ€™t have to supply the credentials with the aws lambda iam role </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, October 12, 2023 3:08â€¯PM"><a href=#chatlog__message-container-1162044223206469752>10/12/2023 3:08â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>^</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162045390330282025 class=chatlog__message-container data-message-id=1162045390330282025><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=atomiclifeadmin data-user-id=911266949940514886>atomiclifeadmin</span> <span class=chatlog__timestamp title="Thursday, October 12, 2023 3:13â€¯PM"><a href=#chatlog__message-container-1162045390330282025>10/12/2023 3:13â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>So I use the serverless framework that is wrapper on cloud formation templates. The standard is defining iam roles for every aws service you want to use. Iâ€™m assuming if I can access s3 directly via sdk then it should work the same as the aws-config is the underlying process?</span> <span class=chatlog__edited-timestamp title="Thursday, October 12, 2023 3:14â€¯PM">(edited)</span></div></div></div></div><div id=chatlog__message-container-1162045940245483623 class=chatlog__message-container data-message-id=1162045940245483623><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, October 12, 2023 3:15â€¯PM">3:15â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="wpace">@WestonPace</span> ^</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162047635859984496 class=chatlog__message-container data-message-id=1162047635859984496><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=atomiclifeadmin>atomiclifeadmin</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1162045390330282025')"> So I use the serverless framework that is wrapper on cloud formation templates. The standard is defining iam roles for every aws service you want to use. Iâ€™m assuming if I can access s3 directly via sdk then it should work the same as the aws-config is the underlying process? </span> <span class=chatlog__reply-edited-timestamp title="Thursday, October 12, 2023 3:14â€¯PM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, October 12, 2023 3:22â€¯PM"><a href=#chatlog__message-container-1162047635859984496>10/12/2023 3:22â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>That would be my guess as well.  The variables <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">AWS_ACCESS_KEY, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, AWS_SESSION_TOKEN </code> should all be set according to the lambda function&#39;s execution role.  Lance will grab credentials from these variables.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162047808875003954 class=chatlog__message-container data-message-id=1162047808875003954><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=atomiclifeadmin data-user-id=911266949940514886>atomiclifeadmin</span> <span class=chatlog__timestamp title="Thursday, October 12, 2023 3:23â€¯PM"><a href=#chatlog__message-container-1162047808875003954>10/12/2023 3:23â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><img
    loading="lazy"
    class="chatlog__emoji chatlog__emoji--large"
    alt="ðŸ‘"
    title="thumbsup"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162476311743312016 class=chatlog__message-container data-message-id=1162476311743312016><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=atomiclifeadmin data-user-id=911266949940514886>atomiclifeadmin</span> <span class=chatlog__timestamp title="Friday, October 13, 2023 7:45â€¯PM"><a href=#chatlog__message-container-1162476311743312016>10/13/2023 7:45â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi guys Iâ€™m back. I want to if we can do a query like top 10 similar vectors  using lancedb. Apparently you can do it in duckdb, which is also based on lance?</span></div></div></div></div><div id=chatlog__message-container-1162476366214738010 class=chatlog__message-container data-message-id=1162476366214738010><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, October 13, 2023 7:46â€¯PM">7:46â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>*know?</span></div></div></div></div><div id=chatlog__message-container-1162476532309164185 class=chatlog__message-container data-message-id=1162476532309164185><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, October 13, 2023 7:46â€¯PM">7:46â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Use cases include popular posts or something along those lines</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162477148397903963 class=chatlog__message-container data-message-id=1162477148397903963><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Friday, October 13, 2023 7:49â€¯PM"><a href=#chatlog__message-container-1162477148397903963>10/13/2023 7:49â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">I want to if we can do a query like top 10 similar vectors  using lancedb
</div></div>That is called &quot;vector search&quot;, which is the primary use case for LanceDB. Have you read: <a href="https://lancedb.github.io/lancedb/search/#approximate-nearest-neighbor-ann-search-with-vector-index">https://lancedb.github.io/lancedb/search/#approximate-nearest-neighbor-ann-search-with-vector-index</a></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162478892762800281 class=chatlog__message-container data-message-id=1162478892762800281><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=atomiclifeadmin data-user-id=911266949940514886>atomiclifeadmin</span> <span class=chatlog__timestamp title="Friday, October 13, 2023 7:56â€¯PM"><a href=#chatlog__message-container-1162478892762800281>10/13/2023 7:56â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="wjones127">@Will Jones</span> search would be for feeding a vector in. What I mean is given a dataset of vectors, find top 10 similar vectors. Letâ€™s say a dataset of survey responses so similar responses will show up as popular top 10 or something. Aggregate function basically</span></div></div></div></div><div id=chatlog__message-container-1162480002382708827 class=chatlog__message-container data-message-id=1162480002382708827><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, October 13, 2023 8:00â€¯PM">8:00â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We have no comparison vector but each row is a comparison vector to look for most similar?</span></div></div></div></div><div id=chatlog__message-container-1162480185799618600 class=chatlog__message-container data-message-id=1162480185799618600><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, October 13, 2023 8:01â€¯PM">8:01â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is this possible?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162480210009137312 class=chatlog__message-container data-message-id=1162480210009137312><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Friday, October 13, 2023 8:01â€¯PM"><a href=#chatlog__message-container-1162480210009137312>10/13/2023 8:01â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Like what subset of 10 have the smallest distance to each other?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162480243978817636 class=chatlog__message-container data-message-id=1162480243978817636><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=atomiclifeadmin data-user-id=911266949940514886>atomiclifeadmin</span> <span class=chatlog__timestamp title="Friday, October 13, 2023 8:01â€¯PM"><a href=#chatlog__message-container-1162480243978817636>10/13/2023 8:01â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yes</span></div></div></div></div><div id=chatlog__message-container-1162480330587000944 class=chatlog__message-container data-message-id=1162480330587000944><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, October 13, 2023 8:01â€¯PM">8:01â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>It becomes a top 10 popularity section</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162480432697315398 class=chatlog__message-container data-message-id=1162480432697315398><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Friday, October 13, 2023 8:02â€¯PM"><a href=#chatlog__message-container-1162480432697315398>10/13/2023 8:02â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I mean what you are most likely to get are duplicates / near duplicates.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162480553057075343 class=chatlog__message-container data-message-id=1162480553057075343><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=atomiclifeadmin data-user-id=911266949940514886>atomiclifeadmin</span> <span class=chatlog__timestamp title="Friday, October 13, 2023 8:02â€¯PM"><a href=#chatlog__message-container-1162480553057075343>10/13/2023 8:02â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I guess unique top 10?</span></div></div></div></div><div id=chatlog__message-container-1162480623240368310 class=chatlog__message-container data-message-id=1162480623240368310><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, October 13, 2023 8:02â€¯PM">8:02â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>To clarify the goal</span></div></div></div></div><div id=chatlog__message-container-1162480699782201438 class=chatlog__message-container data-message-id=1162480699782201438><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, October 13, 2023 8:03â€¯PM">8:03â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>So a query within a query</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162480928908652585 class=chatlog__message-container data-message-id=1162480928908652585><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Friday, October 13, 2023 8:04â€¯PM"><a href=#chatlog__message-container-1162480928908652585>10/13/2023 8:04â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;m not sure I understand the goal. I don&#39;t really know how you would compute &quot;unique&quot; here, especially when you are optimizing for a cluster of vectors that are very similar to each other. They seem like contrary goals?</span></div></div></div></div><div id=chatlog__message-container-1162481071523373138 class=chatlog__message-container data-message-id=1162481071523373138><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, October 13, 2023 8:04â€¯PM">8:04â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>And I don&#39;t know what similarity has to do with popularity.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162481187873357845 class=chatlog__message-container data-message-id=1162481187873357845><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Friday, October 13, 2023 8:05â€¯PM"><a href=#chatlog__message-container-1162481187873357845>10/13/2023 8:05â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>What is the duckdb equivalent that you mentioned?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162481637368533022 class=chatlog__message-container data-message-id=1162481637368533022><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=atomiclifeadmin data-user-id=911266949940514886>atomiclifeadmin</span> <span class=chatlog__timestamp title="Friday, October 13, 2023 8:07â€¯PM"><a href=#chatlog__message-container-1162481637368533022>10/13/2023 8:07â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Maybe I misunderstood the Dickson example. If you provide  a survey question and each user provides a response. If there are some popular responses provided in the dataset how do we list them. So maybe lancedb is the not the right tool for this ?</span></div></div></div></div><div id=chatlog__message-container-1162481762178433024 class=chatlog__message-container data-message-id=1162481762178433024><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, October 13, 2023 8:07â€¯PM">8:07â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>*duckdb example (autocorrected $</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162482326446538762 class=chatlog__message-container data-message-id=1162482326446538762><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Friday, October 13, 2023 8:09â€¯PM"><a href=#chatlog__message-container-1162482326446538762>10/13/2023 8:09â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Well, with survey responses, your response is limited to a fixed number of values.  So it could be something like...

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">SELECT answer_3, SUM(1) AS answer_count FROM survey GROUP BY answer_3 ORDER BY answer_count</code>
?</span> <span class=chatlog__edited-timestamp title="Friday, October 13, 2023 8:10â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162482535587127396 class=chatlog__message-container data-message-id=1162482535587127396><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Friday, October 13, 2023 8:10â€¯PM"><a href=#chatlog__message-container-1162482535587127396>10/13/2023 8:10â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yeah I think that problem is a little bit different. That would involve finding clusters and then listing the biggest clusters, IIUC. We don&#39;t provide that kind of query at the moment.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162482608085671936 class=chatlog__message-container data-message-id=1162482608085671936><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=atomiclifeadmin data-user-id=911266949940514886>atomiclifeadmin</span> <span class=chatlog__timestamp title="Friday, October 13, 2023 8:10â€¯PM"><a href=#chatlog__message-container-1162482608085671936>10/13/2023 8:10â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Ok got it</span></div></div></div></div><div id=chatlog__message-container-1162482831155540068 class=chatlog__message-container data-message-id=1162482831155540068><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, October 13, 2023 8:11â€¯PM">8:11â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Any recommendations for this functionality?</span></div></div></div></div><div id=chatlog__message-container-1162482912717975632 class=chatlog__message-container data-message-id=1162482912717975632><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, October 13, 2023 8:12â€¯PM">8:12â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Or Iâ€™m going in the wrong direction altogether</span></div></div></div></div><div id=chatlog__message-container-1162483084160159887 class=chatlog__message-container data-message-id=1162483084160159887><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, October 13, 2023 8:12â€¯PM">8:12â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Sorry if you donâ€™t know the answer but thanks for entertaining me</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162483163281490011 class=chatlog__message-container data-message-id=1162483163281490011><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Friday, October 13, 2023 8:13â€¯PM"><a href=#chatlog__message-container-1162483163281490011>10/13/2023 8:13â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>If you&#39;re willing to pull all the data in memory you could try running kmeans</span></div></div></div></div><div id=chatlog__message-container-1162483237172547714 class=chatlog__message-container data-message-id=1162483237172547714><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, October 13, 2023 8:13â€¯PM">8:13â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>It&#39;s not exactly the same thing but if you set K high enough you might get something similar</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162483271377113170 class=chatlog__message-container data-message-id=1162483271377113170><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Friday, October 13, 2023 8:13â€¯PM"><a href=#chatlog__message-container-1162483271377113170>10/13/2023 8:13â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>+1 I think you are basically looking for a quick K means implementation.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162483306844135545 class=chatlog__message-container data-message-id=1162483306844135545><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=atomiclifeadmin data-user-id=911266949940514886>atomiclifeadmin</span> <span class=chatlog__timestamp title="Friday, October 13, 2023 8:13â€¯PM"><a href=#chatlog__message-container-1162483306844135545>10/13/2023 8:13â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><img
    loading="lazy"
    class="chatlog__emoji chatlog__emoji--large"
    alt="ðŸ‘"
    title="thumbsup"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"></span></div></div></div></div><div id=chatlog__message-container-1162483411475247214 class=chatlog__message-container data-message-id=1162483411475247214><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, October 13, 2023 8:14â€¯PM">8:14â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Thanks for your help<img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™"
    title="pray"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg"></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162552763000045568 class=chatlog__message-container data-message-id=1162552763000045568><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/336116167833812994/1af58e8f9957f79753b6541faff3dd16.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=pchalasani data-user-id=336116167833812994>Prasad Chalasani</span> <span class=chatlog__timestamp title="Saturday, October 14, 2023 12:49â€¯AM"><a href=#chatlog__message-container-1162552763000045568>10/14/2023 12:49â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hi folks, quick question, wanted to confirm: <strong>nested Pydantic</strong> schemas aren&#39;t supported in tables, right? E.g.  a Pydantic schema derived from LanceModel, where one of the fields is another Pydantic instance which has its own atomic (str, int) fields.</span> <span class=chatlog__edited-timestamp title="Saturday, October 14, 2023 12:50â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162553049462616115 class=chatlog__message-container data-message-id=1162553049462616115><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, October 14, 2023 12:50â€¯AM"><a href=#chatlog__message-container-1162553049462616115>10/14/2023 12:50â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Theoretically that should just converted to a struct schema</span></div></div></div></div><div id=chatlog__message-container-1162553154991300739 class=chatlog__message-container data-message-id=1162553154991300739><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, October 14, 2023 12:51â€¯AM">12:51â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>But I forgot if we actually implemented the nested schema conversion from pydantic to pyarrow</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162553284213608479 class=chatlog__message-container data-message-id=1162553284213608479><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/336116167833812994/1af58e8f9957f79753b6541faff3dd16.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=pchalasani data-user-id=336116167833812994>Prasad Chalasani</span> <span class=chatlog__timestamp title="Saturday, October 14, 2023 12:51â€¯AM"><a href=#chatlog__message-container-1162553284213608479>10/14/2023 12:51â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">E   pyarrow.lib.ArrowInvalid: Could not convert Document(content=&#39;hello&#39;, metadata=DocMetaData(source=&#39;context&#39;, is_chunk=False, id=&#39;0&#39;)) with type Document: did not recognize Python value type when inferring an Arrow data type</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162553291524292739 class=chatlog__message-container data-message-id=1162553291524292739><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, October 14, 2023 12:51â€¯AM"><a href=#chatlog__message-container-1162553291524292739>10/14/2023 12:51â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Are you seeing an error? Please file a GitHub issue if you are. Itâ€™s a use case we want to support</span></div></div></div></div><div id=chatlog__message-container-1162553503777042562 class=chatlog__message-container data-message-id=1162553503777042562><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, October 14, 2023 12:52â€¯AM">12:52â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>And Document is a pydantic model instance? What version of LanceDB are you on?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162553882342346782 class=chatlog__message-container data-message-id=1162553882342346782><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/336116167833812994/1af58e8f9957f79753b6541faff3dd16.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=pchalasani data-user-id=336116167833812994>Prasad Chalasani</span> <span class=chatlog__timestamp title="Saturday, October 14, 2023 12:54â€¯AM"><a href=#chatlog__message-container-1162553882342346782>10/14/2023 12:54â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yes Document is 
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">class Document(BaseModel):
    &quot;&quot;&quot;Interface for interacting with a document.&quot;&quot;&quot;

    content: str
    metadata: DocMetaData</code>
and DocMetaData is 

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">class DocMetaData(BaseModel):
    &quot;&quot;&quot;Metadata for a document.&quot;&quot;&quot;

    source: str = &quot;context&quot;
    is_chunk: bool = False  # if it is a chunk, don&#39;t split</code></span></div></div></div></div><div id=chatlog__message-container-1162554051414741104 class=chatlog__message-container data-message-id=1162554051414741104><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, October 14, 2023 12:54â€¯AM">12:54â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>lancedb 0.3.0</span></div></div></div></div><div id=chatlog__message-container-1162554691155152976 class=chatlog__message-container data-message-id=1162554691155152976><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, October 14, 2023 12:57â€¯AM">12:57â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>And the top level schema is -- 
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">class LanceSchema(LanceModel):
    id: str
    vector: Vector(1536)
    payload: Document</code></span></div></div></div></div><div id=chatlog__message-container-1162554920772325486 class=chatlog__message-container data-message-id=1162554920772325486><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, October 14, 2023 12:58â€¯AM">12:58â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>the idea is that I would want to define my own arbit schema for Document, and not have to flatten everything into the LanceSchema</span></div></div></div></div><div id=chatlog__message-container-1162555224427352095 class=chatlog__message-container data-message-id=1162555224427352095><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, October 14, 2023 12:59â€¯AM">12:59â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>As a possible workaround, I tried making the pydantic instance a dict, which makes it recursively a dictionary, but that is tricky because I have to defined that nested dict structure in the schema at table creation time</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162560756819169431 class=chatlog__message-container data-message-id=1162560756819169431><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, October 14, 2023 1:21â€¯AM"><a href=#chatlog__message-container-1162560756819169431>10/14/2023 1:21â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Gotcha. Sounds like we should but donâ€™t currently handle nested pydantic objects yet</span></div></div></div></div><div id=chatlog__message-container-1162560854269628446 class=chatlog__message-container data-message-id=1162560854269628446><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, October 14, 2023 1:21â€¯AM">1:21â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>If you donâ€™t mind please open a GitHub issue here: GitHub.com/LanceDB/LanceDB/issues</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162600051965706280 class=chatlog__message-container data-message-id=1162600051965706280><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/261206277017960448/24e3ebcf94c10a92fd1a93beaad3a9f7.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=gggrunt data-user-id=261206277017960448>gggrunt</span> <span class=chatlog__timestamp title="Saturday, October 14, 2023 3:57â€¯AM"><a href=#chatlog__message-container-1162600051965706280>10/14/2023 3:57â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>question on the new release today, does anyone have some doc about how the s3-mirroredStore works? first time seeing that and not sure how it works</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162810610694770730 class=chatlog__message-container data-message-id=1162810610694770730><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Saturday, October 14, 2023 5:54â€¯PM"><a href=#chatlog__message-container-1162810610694770730>10/14/2023 5:54â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>The mirroredStore is an experimental feature; we haven&#39;t documented it yet since we are still testing it.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162814076196499657 class=chatlog__message-container data-message-id=1162814076196499657><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/261206277017960448/24e3ebcf94c10a92fd1a93beaad3a9f7.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=gggrunt data-user-id=261206277017960448>gggrunt</span> <span class=chatlog__timestamp title="Saturday, October 14, 2023 6:07â€¯PM"><a href=#chatlog__message-container-1162814076196499657>10/14/2023 6:07â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>That makes sense</span></div></div></div></div><div id=chatlog__message-container-1162814110916956352 class=chatlog__message-container data-message-id=1162814110916956352><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, October 14, 2023 6:08â€¯PM">6:08â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Just curious to try it out, and wondering it does</span></div></div></div></div><div id=chatlog__message-container-1162814171193298994 class=chatlog__message-container data-message-id=1162814171193298994><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, October 14, 2023 6:08â€¯PM">6:08â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Cuz i couldnt find the term anywhere</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162815137514790912 class=chatlog__message-container data-message-id=1162815137514790912><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Saturday, October 14, 2023 6:12â€¯PM"><a href=#chatlog__message-container-1162815137514790912>10/14/2023 6:12â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>IIRC you can choose a local directory that may hold &quot;mirrored&quot; files from the table. When reading data, it will first check the local directory, and if not there it will read from the primary store. When writing data, it will first write to local directory, then copy to primary store. The local directory serves as a cache basically.</span></div></div></div></div><div id=chatlog__message-container-1162815185560539136 class=chatlog__message-container data-message-id=1162815185560539136><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, October 14, 2023 6:12â€¯PM">6:12â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I think it&#39;s also only exposed in the Node bindings right now.</span></div></div></div></div><div id=chatlog__message-container-1162815199628247130 class=chatlog__message-container data-message-id=1162815199628247130><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, October 14, 2023 6:12â€¯PM">6:12â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://github.com/lancedb/lancedb/pull/537/files">https://github.com/lancedb/lancedb/pull/537/files</a></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162815456256720916 class=chatlog__message-container data-message-id=1162815456256720916><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/261206277017960448/24e3ebcf94c10a92fd1a93beaad3a9f7.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=gggrunt data-user-id=261206277017960448>gggrunt</span> <span class=chatlog__timestamp title="Saturday, October 14, 2023 6:13â€¯PM"><a href=#chatlog__message-container-1162815456256720916>10/14/2023 6:13â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Interesting</span></div></div></div></div><div id=chatlog__message-container-1162816023171448862 class=chatlog__message-container data-message-id=1162816023171448862><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, October 14, 2023 6:15â€¯PM">6:15â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>there should be a way to set a max size limit for this mode right</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1163176622929743912 class=chatlog__message-container data-message-id=1163176622929743912><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/336116167833812994/1af58e8f9957f79753b6541faff3dd16.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1162560854269628446')"> If you donâ€™t mind please open a GitHub issue here: GitHub.com/LanceDB/LanceDB/issues </span></div></div><div class=chatlog__header><span class=chatlog__author title=pchalasani data-user-id=336116167833812994>Prasad Chalasani</span> <span class=chatlog__timestamp title="Sunday, October 15, 2023 6:08â€¯PM"><a href=#chatlog__message-container-1163176622929743912>10/15/2023 6:08â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I filed an issue. Meantime, I actually found a way to flatten the pydantic schema while storing into lancedb, and recover nested Pydantic object from the search results, e.g. you can see here and elsewhere. Looking forward to building some interesting capabilities with the FTS + SQL + Vec search.
<a href="https://github.com/langroid/langroid/blob/main/langroid/vector_store/lancedb.py#L131">https://github.com/langroid/langroid/blob/main/langroid/vector_store/lancedb.py#L131</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/langroid/langroid/blob/main/langroid/vector_store/lancedb.py><div class="chatlog__markdown chatlog__markdown-preserve">langroid/langroid/vector_store/lancedb.py at main &#183; langroid/langroid</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Harness LLMs with Multi-Agent Programming. Contribute to langroid/langroid development by creating an account on GitHub.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/QDCCJyZTXqNNaoGmROk2py42MXYKWTCliBQlNNMiJa4/https/repository-images.githubusercontent.com/628729877/6e85c50f-cc49-4f6b-a3a8-5d7e30cc4fe1> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/QDCCJyZTXqNNaoGmROk2py42MXYKWTCliBQlNNMiJa4/https/repository-images.githubusercontent.com/628729877/6e85c50f-cc49-4f6b-a3a8-5d7e30cc4fe1 alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=partying_face><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ¥³ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f973.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164618927981215775 class=chatlog__message-container data-message-id=1164618927981215775><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=atomiclifeadmin data-user-id=911266949940514886>atomiclifeadmin</span> <span class=chatlog__timestamp title="Thursday, October 19, 2023 5:39â€¯PM"><a href=#chatlog__message-container-1164618927981215775>10/19/2023 5:39â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, is there a way to use count for search results? I know there is limit but would like count and maybe pagination. I&#39;m using lancedb for conversation insights.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164628206729568306 class=chatlog__message-container data-message-id=1164628206729568306><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=atomiclifeadmin data-user-id=911266949940514886>atomiclifeadmin</span> <span class=chatlog__timestamp title="Thursday, October 19, 2023 6:16â€¯PM"><a href=#chatlog__message-container-1164628206729568306>10/19/2023 6:16â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Basically when you use table.search, it would be nice to get a count. Or could I do this indirectly, just search and count the results without using limit?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164640080045035740 class=chatlog__message-container data-message-id=1164640080045035740><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, October 19, 2023 7:03â€¯PM"><a href=#chatlog__message-container-1164640080045035740>10/19/2023 7:03â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>so with vector search, you&#39;re saying assign a distance/similarity score between the query and my vectors, then take the top 10. So without a limit it&#39;s just all vectors in the dataset</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164685274966675487 class=chatlog__message-container data-message-id=1164685274966675487><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=atomiclifeadmin data-user-id=911266949940514886>atomiclifeadmin</span> <span class=chatlog__timestamp title="Thursday, October 19, 2023 10:03â€¯PM"><a href=#chatlog__message-container-1164685274966675487>10/19/2023 10:03â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>oh ok that makes</span></div></div></div></div><div id=chatlog__message-container-1164685475886420008 class=chatlog__message-container data-message-id=1164685475886420008><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, October 19, 2023 10:04â€¯PM">10:04â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>there&#39;s no cut off value I guess</span></div></div></div></div><div id=chatlog__message-container-1164686108911730698 class=chatlog__message-container data-message-id=1164686108911730698><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, October 19, 2023 10:06â€¯PM">10:06â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>can we add a cut off value other than limit like  &gt; (number) similarity. I know opensearch has something along those lines. But the numerical values are not consistent and has to be trial and error</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164710576509943848 class=chatlog__message-container data-message-id=1164710576509943848><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, October 19, 2023 11:44â€¯PM"><a href=#chatlog__message-container-1164710576509943848>10/19/2023 11:44â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Doing the cutoff would require computing the score against all vectors and then picking out everything above a certain threshold. We can certainly add a feature like that but the ANN index wouldnâ€™t be able to speed that up so it the feature wouldnâ€™t really work for large datasets</span></div></div></div></div><div id=chatlog__message-container-1164710764611899433 class=chatlog__message-container data-message-id=1164710764611899433><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, October 19, 2023 11:44â€¯PM">11:44â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>But happy to keep discussing it. If this is something important for you use case, would you mind opening a GitHub issue? That way if others have the same need they can chime in there as well</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164715528842137640 class=chatlog__message-container data-message-id=1164715528842137640><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=atomiclifeadmin data-user-id=911266949940514886>atomiclifeadmin</span> <span class=chatlog__timestamp title="Friday, October 20, 2023 12:03â€¯AM"><a href=#chatlog__message-container-1164715528842137640>10/20/2023 12:03â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>ok, if it makes sense, I&#39;ll do it. I&#39;m basically trying to get conversation insights based on agent-end user chat history.  Showing a distribution of data [count] of top 10 keywords was the use case for a cut off. Maybe I can solve it another way.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1173715741351104613 class=chatlog__message-container data-message-id=1173715741351104613><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Monday, November 13, 2023 8:07â€¯PM"><a href=#chatlog__message-container-1173715741351104613>11/13/2023 8:07â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi all, I&#39;m revisiting the async question with LanceDB, specifically for writing a FastAPI app on top of a LanceDB table to allow async/multi-threaded queries to be executed in a way that&#39;s not bound by the GIL. So far, I&#39;ve been using <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">aiohttp</code> in Python and have had no luck -- in my existing code, LanceDB runs slower than Elasticsearch for the same set of queries (all other settings being the same), which I know is not because LanceDB is slower -- it&#39;s because I&#39;m not properly performing non-blocking calls via the running event loop. The reason Elasticsearch is performing well is because I&#39;ve used its async client, which performs true non-blocking calls to its own <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">AsyncElasticsearch</code> Python client.

My question: How would I go about using <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">concurrent.futures.ThreadPoolExecutor</code> to speed up query execution via a FastAPI endpoint that contains a lancedb connection?

The full code, and how to reproduce it, is here:
<a href="https://github.com/prrao87/lancedb-study">https://github.com/prrao87/lancedb-study</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/prrao87/lancedb-study><div class="chatlog__markdown chatlog__markdown-preserve">GitHub - prrao87/lancedb-study: Benchmark for full-text search and ...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Benchmark for full-text search and vector search in LanceDB vs. Elasticsearch - GitHub - prrao87/lancedb-study: Benchmark for full-text search and vector search in LanceDB vs. Elasticsearch</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/9NrfnJaZoZ6_CVSNwA1KpUdBPYlmje3IkCU03myUdnk/https/opengraph.githubassets.com/d3db51f2bf25c9992287ae2faa38c318e9d606f9589ab20b59c6161010800060/prrao87/lancedb-study> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/9NrfnJaZoZ6_CVSNwA1KpUdBPYlmje3IkCU03myUdnk/https/opengraph.githubassets.com/d3db51f2bf25c9992287ae2faa38c318e9d606f9589ab20b59c6161010800060/prrao87/lancedb-study alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1179540046072782980 class=chatlog__message-container data-message-id=1179540046072782980><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/806184543861604352/cf12edcd97b50acd6b6ad1b4d3908a9f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=harpocrates3208 data-user-id=806184543861604352>harpocrates</span> <span class=chatlog__timestamp title="Wednesday, November 29, 2023 9:51â€¯PM"><a href=#chatlog__message-container-1179540046072782980>11/29/2023 9:51â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hey, If I&#39;m not mistaking LanceDB can be run in serverless mode, like in aws lambda. But the question I have is how does it work with the storage on s3. Cause there are times when it needs to pack those files, recompact them etc.., right ? so how would it be done ? Does it require like a dedicated server on the side for those operations ? or to run a specific tool at a certain frequency ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1179549692720332870 class=chatlog__message-container data-message-id=1179549692720332870><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/806184543861604352/cf12edcd97b50acd6b6ad1b4d3908a9f.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=harpocrates3208>harpocrates</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1179540046072782980')"> hey, If I&#39;m not mistaking LanceDB can be run in serverless mode, like in aws lambda. But the question I have is how does it work with the storage on s3. Cause there are times when it needs to pack those files, recompact them etc.., right ? so how would it be done ? Does it require like a dedicated server on the side for those operations ? or to run a specific tool at a certain frequency ? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Wednesday, November 29, 2023 10:29â€¯PM"><a href=#chatlog__message-container-1179549692720332870>11/29/2023 10:29â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">Cause there are times when it needs to pack those files, recompact them etc.., right ? so how would it be done ?
</div></div>Those operations could also be their own serverless functions, run on a CRON schedule, for example. How often you want those run really depends on your write pattern for your table.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1179561708864417854 class=chatlog__message-container data-message-id=1179561708864417854><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, November 29, 2023 11:17â€¯PM"><a href=#chatlog__message-container-1179561708864417854>11/29/2023 11:17â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>another option would be to just compact on write if you&#39;re ok tolerating a little more write latency</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1179740160661917821 class=chatlog__message-container data-message-id=1179740160661917821><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=harpocrates3208 data-user-id=806184543861604352>harpocrates</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, November 30, 2023 11:06â€¯AM"> <a href=#chatlog__message-container-1179740160661917821>11/30/2023 11:06â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1181233352594952283 class=chatlog__message-container data-message-id=1181233352594952283><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/611697205643837450/bdf2a4273d9d4e64592e184541f83474.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=itepifanio data-user-id=611697205643837450>Ãtalo EpifÃ¢nio</span> <span class=chatlog__timestamp title="Monday, December 4, 2023 1:59â€¯PM"><a href=#chatlog__message-container-1181233352594952283>12/4/2023 1:59â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello,

I&#39;m exploring LanceDB to determine if it suits my needs. My use case involves searching for a specific bounding box cutout within an image. Ideally, the search should return the original image as the closest match, but this isn&#39;t consistently happening. When using OpenAI&#39;s CLIP to search with the bounding box cutout, the nearest image results often do not include the original image</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1181265122191233094 class=chatlog__message-container data-message-id=1181265122191233094><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title="Deleted User" data-user-id=456226577798135808>Deleted User</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, December 4, 2023 4:05â€¯PM"> <a href=#chatlog__message-container-1181265122191233094>12/4/2023 4:05â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1181292487101386812 class=chatlog__message-container data-message-id=1181292487101386812><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/611697205643837450/bdf2a4273d9d4e64592e184541f83474.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=itepifanio>Ãtalo EpifÃ¢nio</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1181233352594952283')"> Hello,

I&#39;m exploring LanceDB to determine if it suits my needs. My use case involves searching for a specific bounding box cutout within an image. Ideally, the search should return the original image as the closest match, but this isn&#39;t consistently happening. When using OpenAI&#39;s CLIP to search with the bounding box cutout, the nearest image results often do not include the original image </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Monday, December 4, 2023 5:54â€¯PM"><a href=#chatlog__message-container-1181292487101386812>12/4/2023 5:54â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>cc <span class="chatlog__markdown-mention" title="ayushexel">@AyushC</span></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1181306359170486329 class=chatlog__message-container data-message-id=1181306359170486329><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1032079688887189556/9d9cd1c2872874160d9f8e2f6dd766a5.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/611697205643837450/bdf2a4273d9d4e64592e184541f83474.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=itepifanio>Ãtalo EpifÃ¢nio</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1181233352594952283')"> Hello,

I&#39;m exploring LanceDB to determine if it suits my needs. My use case involves searching for a specific bounding box cutout within an image. Ideally, the search should return the original image as the closest match, but this isn&#39;t consistently happening. When using OpenAI&#39;s CLIP to search with the bounding box cutout, the nearest image results often do not include the original image </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=ayushexel data-user-id=1032079688887189556>AyushC</span> <span class=chatlog__timestamp title="Monday, December 4, 2023 6:49â€¯PM"><a href=#chatlog__message-container-1181306359170486329>12/4/2023 6:49â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I might have an implementation for exactly this built on lancedb. Let me get back to you in a couple hours.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1181337050520223744 class=chatlog__message-container data-message-id=1181337050520223744><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1032079688887189556/9d9cd1c2872874160d9f8e2f6dd766a5.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/611697205643837450/bdf2a4273d9d4e64592e184541f83474.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=itepifanio>Ãtalo EpifÃ¢nio</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1181233352594952283')"> Hello,

I&#39;m exploring LanceDB to determine if it suits my needs. My use case involves searching for a specific bounding box cutout within an image. Ideally, the search should return the original image as the closest match, but this isn&#39;t consistently happening. When using OpenAI&#39;s CLIP to search with the bounding box cutout, the nearest image results often do not include the original image </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=ayushexel data-user-id=1032079688887189556>AyushC</span> <span class=chatlog__timestamp title="Monday, December 4, 2023 8:51â€¯PM"><a href=#chatlog__message-container-1181337050520223744>12/4/2023 8:51â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey so based on your problem I would suggest trying out a different model to cut out the pieces, because maybe the region you&#39;re cutting out contains more than just the object of interest? Maybe even go for segmentation instead of bbox? Here&#39;s an example that does something similar with SAM model for segmenting and then CLIP for vector search using lancedb - <a href="https://www.lepton.ai/docs/examples/segment_something">https://www.lepton.ai/docs/examples/segment_something</a>.
It is slightly different as in it search withing the image not across the image dataset but it can be adapted for that use case. Feel free to DM me if you want to discuss further <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1181565784250658907 class=chatlog__message-container data-message-id=1181565784250658907><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/611697205643837450/bdf2a4273d9d4e64592e184541f83474.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1032079688887189556/9d9cd1c2872874160d9f8e2f6dd766a5.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=ayushexel>AyushC</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1181337050520223744')"> Hey so based on your problem I would suggest trying out a different model to cut out the pieces, because maybe the region you&#39;re cutting out contains more than just the object of interest? Maybe even go for segmentation instead of bbox? Here&#39;s an example that does something similar with SAM model for segmenting and then CLIP for vector search using lancedb - <a href="https://www.lepton.ai/docs/examples/segment_something">https://www.lepton.ai/docs/examples/segment_something</a>.
It is slightly different as in it search withing the image not across the image dataset but it can be adapted for that use case. Feel free to DM me if you want to discuss further <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"> </span></div></div><div class=chatlog__header><span class=chatlog__author title=itepifanio data-user-id=611697205643837450>Ãtalo EpifÃ¢nio</span> <span class=chatlog__timestamp title="Tuesday, December 5, 2023 12:00â€¯PM"><a href=#chatlog__message-container-1181565784250658907>12/5/2023 12:00â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Thanks! It already helped a lot</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1181697336439750756 class=chatlog__message-container data-message-id=1181697336439750756><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/806184543861604352/cf12edcd97b50acd6b6ad1b4d3908a9f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=harpocrates3208 data-user-id=806184543861604352>harpocrates</span> <span class=chatlog__timestamp title="Tuesday, December 5, 2023 8:43â€¯PM"><a href=#chatlog__message-container-1181697336439750756>12/5/2023 8:43â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey, I&#39;m using OpenSearch atm to store data and do vector search queries. Can you tell me what if there are any cons to move to LanceDB ? I remember not so long ago writes were not supported, but what is the current state right now ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1181826075358142544 class=chatlog__message-container data-message-id=1181826075358142544><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=iamjuanguillermo data-user-id=1092652632818061344>Juan Guillermo</span> <span class=chatlog__timestamp title="Wednesday, December 6, 2023 5:14â€¯AM"><a href=#chatlog__message-container-1181826075358142544>12/6/2023 5:14â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello! I am using JS. Is it possible to create an empty table and add data later?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1181893058468511745 class=chatlog__message-container data-message-id=1181893058468511745><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=iamjuanguillermo>Juan Guillermo</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1181826075358142544')"> Hello! I am using JS. Is it possible to create an empty table and add data later? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, December 6, 2023 9:41â€¯AM"><a href=#chatlog__message-container-1181893058468511745>12/6/2023 9:41â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yes it is. you can see this unit test here: <a href="https://github.com/lancedb/lancedb/blob/main/node/src/test/test.ts#L137">https://github.com/lancedb/lancedb/blob/main/node/src/test/test.ts#L137</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/blob/main/node/src/test/test.ts><div class="chatlog__markdown chatlog__markdown-preserve">lancedb/node/src/test/test.ts at main &#183; lancedb/lancedb</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Developer-friendly, serverless vector database for AI applications. Easily add long-term memory to your LLM apps! - lancedb/lancedb</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/rBv37KffPkPQBVkkG5JgjAH1Jg4GKwaAG0hmJKO5i2Q/https/opengraph.githubassets.com/b6612541dde9d5090bacc3dea7438677e2b08cdd5bec839572cda4b42b62eee3/lancedb/lancedb> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/rBv37KffPkPQBVkkG5JgjAH1Jg4GKwaAG0hmJKO5i2Q/https/opengraph.githubassets.com/b6612541dde9d5090bacc3dea7438677e2b08cdd5bec839572cda4b42b62eee3/lancedb/lancedb alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div><div id=chatlog__message-container-1181893094661169174 class=chatlog__message-container data-message-id=1181893094661169174><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, December 6, 2023 9:41â€¯AM">9:41â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>you just need to provide a table schema</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1181893588037148682 class=chatlog__message-container data-message-id=1181893588037148682><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/806184543861604352/cf12edcd97b50acd6b6ad1b4d3908a9f.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=harpocrates3208>harpocrates</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1181697336439750756')"> Hey, I&#39;m using OpenSearch atm to store data and do vector search queries. Can you tell me what if there are any cons to move to LanceDB ? I remember not so long ago writes were not supported, but what is the current state right now ? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, December 6, 2023 9:43â€¯AM"><a href=#chatlog__message-container-1181893588037148682>12/6/2023 9:43â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>writes are supported for sure. Cons really depends on your use case. happy to chat in more detail</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=ok_hand><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘Œ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44c.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1181968270480380081 class=chatlog__message-container data-message-id=1181968270480380081><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=harpocrates3208 data-user-id=806184543861604352>harpocrates</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, December 6, 2023 2:39â€¯PM"> <a href=#chatlog__message-container-1181968270480380081>12/6/2023 2:39â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1182045029292834816 class=chatlog__message-container data-message-id=1182045029292834816><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1181893058468511745')"> yes it is. you can see this unit test here: <a href="https://github.com/lancedb/lancedb/blob/main/node/src/test/test.ts#L137">https://github.com/lancedb/lancedb/blob/main/node/src/test/test.ts#L137</a> </span></div></div><div class=chatlog__header><span class=chatlog__author title=iamjuanguillermo data-user-id=1092652632818061344>Juan Guillermo</span> <span class=chatlog__timestamp title="Wednesday, December 6, 2023 7:44â€¯PM"><a href=#chatlog__message-container-1182045029292834816>12/6/2023 7:44â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello! Thanks for the link. I&#39;m trying to run the example code:
<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">import lancedb from &quot;vectordb&quot;;
import { FixedSizeList, Field, Int32, makeVector, Schema, Utf8, Table as ArrowTable, vectorFromArray, Float32 } from &#39;apache-arrow&#39;
const schema = new Schema(
        [new Field(&#39;vector&#39;, new FixedSizeList(1536, new Field(&#39;float32&#39;, new Float32())))],
)
const table = await db.createTable({ name: &#39;vectors&#39;, schema })</code>

And I am getting this error:
<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">TypeError: Vector constructor expects an Array of Data instances.
    at new Vector (/opt/nodejs/node_modules/.pnpm/apache-arrow@12.0.1/node_modules/apache-arrow/vector.js:45:19)
    at /opt/nodejs/node_modules/.pnpm/apache-arrow@12.0.1/node_modules/apache-arrow/table.js:80:50
    at Array.map (&lt;anonymous&gt;)
    at unwrap (/opt/nodejs/node_modules/.pnpm/apache-arrow@12.0.1/node_modules/apache-arrow/table.js:80:39)
    at /opt/nodejs/node_modules/.pnpm/apache-arrow@12.0.1/node_modules/apache-arrow/table.js:88:43
    at Array.flatMap (&lt;anonymous&gt;)
    at new Table (/opt/nodejs/node_modules/.pnpm/apache-arrow@12.0.1/node_modules/apache-arrow/table.js:88:30)
    at createEmptyTable (/opt/nodejs/node_modules/.pnpm/vectordb@0.3.9/node_modules/vectordb/dist/arrow.js:136:12)
    at LocalConnection.&lt;anonymous&gt; (/opt/nodejs/node_modules/.pnpm/vectordb@0.3.9/node_modules/vectordb/dist/index.js:139:92)
    at Generator.next (&lt;anonymous&gt;)</code>

I am using &quot;apache-arrow&quot;: &quot;^12.0.0&quot; and &quot;vectordb&quot;: &quot;^0.3.9&quot;. I already checked Issue 621 (<a href="https://github.com/lancedb/lancedb/issues/621#issuecomment-1789430923)">https://github.com/lancedb/lancedb/issues/621#issuecomment-1789430923)</a> and made sure that the version of apache-arrow for the project was the same as the one used by lancedb.

Could you please give me any idea how to solve it?</span> <span class=chatlog__edited-timestamp title="Wednesday, December 6, 2023 7:45â€¯PM">(edited)</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/issues/621><div class="chatlog__markdown chatlog__markdown-preserve">TypeError: Vector constructor expects an Array of Data instances. &#183;...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">For this piece of typescript: const testSchema = new Schema([ new Field( &quot;vector&quot;, new FixedSizeList(128, new Field(&quot;float32&quot;, new Float32())) ), ]); const newTable = await db.c...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/dE9tx3-7LO5URqzxCqKIpVMWSLoPdCbt_e7wRYI1oeg/https/opengraph.githubassets.com/2d94c2f178cf37b15f333b29d51aff8a278ebc77157631996a77fb507e6a4d63/lancedb/lancedb/issues/621> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/dE9tx3-7LO5URqzxCqKIpVMWSLoPdCbt_e7wRYI1oeg/https/opengraph.githubassets.com/2d94c2f178cf37b15f333b29d51aff8a278ebc77157631996a77fb507e6a4d63/lancedb/lancedb/issues/621 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1182078567715176478 class=chatlog__message-container data-message-id=1182078567715176478><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=iamjuanguillermo>Juan Guillermo</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1182045029292834816')"> Hello! Thanks for the link. I&#39;m trying to run the example code:
<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">import lancedb from &quot;vectordb&quot;;
import { FixedSizeList, Field, Int32, makeVector, Schema, Utf8, Table as ArrowTable, vectorFromArray, Float32 } from &#39;apache-arrow&#39;
const schema = new Schema(
        [new Field(&#39;vector&#39;, new FixedSizeList(1536, new Field(&#39;float32&#39;, new Float32())))],
)
const table = await db.createTable({ name: &#39;vectors&#39;, schema })</code>

And I am getting this error:
<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">TypeError: Vector constructor expects an Array of Data instances.
    at new Vector (/opt/nodejs/node_modules/.pnpm/apache-arrow@12.0.1/node_modules/apache-arrow/vector.js:45:19)
    at /opt/nodejs/node_modules/.pnpm/apache-arrow@12.0.1/node_modules/apache-arrow/table.js:80:50
    at Array.map (&lt;anonymous&gt;)
    at unwrap (/opt/nodejs/node_modules/.pnpm/apache-arrow@12.0.1/node_modules/apache-arrow/table.js:80:39)
    at /opt/nodejs/node_modules/.pnpm/apache-arrow@12.0.1/node_modules/apache-arrow/table.js:88:43
    at Array.flatMap (&lt;anonymous&gt;)
    at new Table (/opt/nodejs/node_modules/.pnpm/apache-arrow@12.0.1/node_modules/apache-arrow/table.js:88:30)
    at createEmptyTable (/opt/nodejs/node_modules/.pnpm/vectordb@0.3.9/node_modules/vectordb/dist/arrow.js:136:12)
    at LocalConnection.&lt;anonymous&gt; (/opt/nodejs/node_modules/.pnpm/vectordb@0.3.9/node_modules/vectordb/dist/index.js:139:92)
    at Generator.next (&lt;anonymous&gt;)</code>

I am using &quot;apache-arrow&quot;: &quot;^12.0.0&quot; and &quot;vectordb&quot;: &quot;^0.3.9&quot;. I already checked Issue 621 (<a href="https://github.com/lancedb/lancedb/issues/621#issuecomment-1789430923)">https://github.com/lancedb/lancedb/issues/621#issuecomment-1789430923)</a> and made sure that the version of apache-arrow for the project was the same as the one used by lancedb.

Could you please give me any idea how to solve it? </span> <span class=chatlog__reply-edited-timestamp title="Wednesday, December 6, 2023 7:45â€¯PM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, December 6, 2023 9:58â€¯PM"><a href=#chatlog__message-container-1182078567715176478>12/6/2023 9:58â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>what OS / arch are you on? We had a build/release issue with apple silicon so if you&#39;re on apple silicon MacOS, 0.3.9 was just published like a few minutes ago. If that&#39;s problem, please install vectordb again to make sure it&#39;s 0.3.9 and try again?</span> <span class=chatlog__edited-timestamp title="Wednesday, December 6, 2023 9:58â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1182121170552762421 class=chatlog__message-container data-message-id=1182121170552762421><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1182078567715176478')"> what OS / arch are you on? We had a build/release issue with apple silicon so if you&#39;re on apple silicon MacOS, 0.3.9 was just published like a few minutes ago. If that&#39;s problem, please install vectordb again to make sure it&#39;s 0.3.9 and try again? </span> <span class=chatlog__reply-edited-timestamp title="Wednesday, December 6, 2023 9:58â€¯PM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author title=iamjuanguillermo data-user-id=1092652632818061344>Juan Guillermo</span> <span class=chatlog__timestamp title="Thursday, December 7, 2023 12:47â€¯AM"><a href=#chatlog__message-container-1182121170552762421>12/7/2023 12:47â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I am running the code in AWS Lambda function:
<ul><li>Runtime: nodejs18.x</li><li>SO: Amazon Linux 2</li><li>Arch: x86_64</li></ul></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1184189659090264235 class=chatlog__message-container data-message-id=1184189659090264235><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=hari_30328 data-user-id=1154312700155924480>Hari</span> <span class=chatlog__timestamp title="Tuesday, December 12, 2023 5:46â€¯PM"><a href=#chatlog__message-container-1184189659090264235>12/12/2023 5:46â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi all. I&#39;m getting the below error while searching table in AWS Elastic beanstalk.  But it works perfectly in my local system. Any thoughts?

ValueError: Dataset at path xxxxx.lance was not found: LanceError(IO): Generic S3 error: Error performing list request: response error &quot;request error&quot;, after 10 retries: error sending request for url (<a href="https://s3.us-east-1.amazonaws.com/xxxxxx-lance-db?delimiter=%2F&amp;list-type=2&amp;prefix=xxxxx.lance%2F_versions%2F)">https://s3.us-east-1.amazonaws.com/xxxxxx-lance-db?delimiter=%2F&amp;list-type=2&amp;prefix=xxxxx.lance%2F_versions%2F)</a>: error trying to connect: invalid peer certificate: BadSignature, /home/runner/work/lance/lance/rust/lance-core/src/io/commit.rs:84:26, /home/runner/work/lance/lance/rust/lance/src/dataset/builder.rs:198:31</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1184762269733765150 class=chatlog__message-container data-message-id=1184762269733765150><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=hari_30328>Hari</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1184189659090264235')"> Hi all. I&#39;m getting the below error while searching table in AWS Elastic beanstalk.  But it works perfectly in my local system. Any thoughts?

ValueError: Dataset at path xxxxx.lance was not found: LanceError(IO): Generic S3 error: Error performing list request: response error &quot;request error&quot;, after 10 retries: error sending request for url (<a href="https://s3.us-east-1.amazonaws.com/xxxxxx-lance-db?delimiter=%2F&amp;list-type=2&amp;prefix=xxxxx.lance%2F_versions%2F)">https://s3.us-east-1.amazonaws.com/xxxxxx-lance-db?delimiter=%2F&amp;list-type=2&amp;prefix=xxxxx.lance%2F_versions%2F)</a>: error trying to connect: invalid peer certificate: BadSignature, /home/runner/work/lance/lance/rust/lance-core/src/io/commit.rs:84:26, /home/runner/work/lance/lance/rust/lance/src/dataset/builder.rs:198:31 </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, December 14, 2023 7:42â€¯AM"><a href=#chatlog__message-container-1184762269733765150>12/14/2023 7:42â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>this seems like a certificates issue in Elastic Beanstalk. What&#39;s the signature algorithm of the certiifcate you&#39;re using with beanstalk?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1184763794489098282 class=chatlog__message-container data-message-id=1184763794489098282><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=hari_30328 data-user-id=1154312700155924480>Hari</span> <span class=chatlog__timestamp title="Thursday, December 14, 2023 7:48â€¯AM"><a href=#chatlog__message-container-1184763794489098282>12/14/2023 7:48â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;m using a shared application load balancer. That load balancer will automatically provide the certificates</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1184877722816761886 class=chatlog__message-container data-message-id=1184877722816761886><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rdy5644 data-user-id=790104248376623106>rdy</span> <span class=chatlog__timestamp title="Thursday, December 14, 2023 3:21â€¯PM"><a href=#chatlog__message-container-1184877722816761886>12/14/2023 3:21â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Do we have any way to alter the schema?</span></div></div></div></div><div id=chatlog__message-container-1184877906762154145 class=chatlog__message-container data-message-id=1184877906762154145><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, December 14, 2023 3:21â€¯PM">3:21â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>also one more question is it possible to store metadata in the form of a dict or struct with variable parameters</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1184889240119681034 class=chatlog__message-container data-message-id=1184889240119681034><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, December 14, 2023 4:06â€¯PM"><a href=#chatlog__message-container-1184889240119681034>12/14/2023 4:06â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">Do we have any way to alter the schema?
</div></div>Adding new columns is possible if you drop down to lance and use <a href="https://lancedb.github.io/lance/api/python/lance.html#lance.dataset.LanceDataset.merge">https://lancedb.github.io/lance/api/python/lance.html#lance.dataset.LanceDataset.merge</a>

I don&#39;t think changing column types / renaming columns or deleting columns is currently possible (although renaming and deleting columns could be possible at a later date.  There is a GH issue request for deleting columns: <a href="https://github.com/lancedb/lance/issues/1674)">https://github.com/lancedb/lance/issues/1674)</a>.</span></div></div></div></div><div id=chatlog__message-container-1184889553216086016 class=chatlog__message-container data-message-id=1184889553216086016><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, December 14, 2023 4:08â€¯PM">4:08â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">also one more question is it possible to store metadata in the form of a dict or struct with variable parameters
</div></div>Can you give an example of what this means?  You can store a dict/struct as metadata but it is consistent for the entire table.  If your parameters change with each row then this sounds more like data than metadata.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1184889761350041610 class=chatlog__message-container data-message-id=1184889761350041610><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rdy5644 data-user-id=790104248376623106>rdy</span> <span class=chatlog__timestamp title="Thursday, December 14, 2023 4:08â€¯PM"><a href=#chatlog__message-container-1184889761350041610>12/14/2023 4:08â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yes it is data  actually but I want to store a variable dict for each record</span></div></div></div></div><div id=chatlog__message-container-1184889910725972229 class=chatlog__message-container data-message-id=1184889910725972229><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, December 14, 2023 4:09â€¯PM">4:09â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is it possible I tried but once a struct is created I&#39;m unable to modify it for now fields</span></div></div></div></div><div id=chatlog__message-container-1184890145611186207 class=chatlog__message-container data-message-id=1184890145611186207><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, December 14, 2023 4:10â€¯PM">4:10â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We were using chromadb previously where we have this option of storing data I.e. metadata for each row in the form of a dict and able to filter on it</span> <span class=chatlog__edited-timestamp title="Thursday, December 14, 2023 4:10â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1184890971536760922 class=chatlog__message-container data-message-id=1184890971536760922><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, December 14, 2023 4:13â€¯PM"><a href=#chatlog__message-container-1184890971536760922>12/14/2023 4:13â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Oh, ok.  That is definitely possible.  How exactly you do it will depend on how you are creating your data in the first place.  For example, in <a href="https://lancedb.github.io/lancedb/guides/tables/#from-pydantic-models">https://lancedb.github.io/lancedb/guides/tables/#from-pydantic-models</a> there is <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">genres</code>, <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">title</code>, and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">imdb_id</code> as metadata.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1184891246653751306 class=chatlog__message-container data-message-id=1184891246653751306><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rdy5644 data-user-id=790104248376623106>rdy</span> <span class=chatlog__timestamp title="Thursday, December 14, 2023 4:14â€¯PM"><a href=#chatlog__message-container-1184891246653751306>12/14/2023 4:14â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Not like that I&#39;m looking for a single column which can store a dict</span></div></div></div></div><div id=chatlog__message-container-1184891451725844540 class=chatlog__message-container data-message-id=1184891451725844540><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, December 14, 2023 4:15â€¯PM">4:15â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>It can store that I tried and able filter as well but when I try to insert different fields in the dict it is not accepting</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1184891786947219606 class=chatlog__message-container data-message-id=1184891786947219606><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, December 14, 2023 4:16â€¯PM"><a href=#chatlog__message-container-1184891786947219606>12/14/2023 4:16â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>A column that is a dict is also possible.
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">&gt;&gt;&gt; conn = lancedb.connect(&quot;/tmp&quot;)
&gt;&gt;&gt; import pyarrow as pa
&gt;&gt;&gt; data = pa.Table.from_pydict({&quot;vec&quot;: [[0, 1], [2, 3]], &quot;metadata&quot;: [{&quot;x&quot;: 7, &quot;y&quot;: 8}, {&quot;x&quot;: 9, &quot;y&quot;: 10}]})
&gt;&gt;&gt; conn.create_table(&quot;my_table&quot;, data)
LanceTable(my_table)</code></span></div></div></div></div><div id=chatlog__message-container-1184892148861112400 class=chatlog__message-container data-message-id=1184892148861112400><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, December 14, 2023 4:18â€¯PM">4:18â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Ah...but if you want to change the fields with each row (e.g. some rows have &quot;x&quot; and some rows don&#39;t) then I think you need a slightly different column type.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1184892937172164718 class=chatlog__message-container data-message-id=1184892937172164718><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rdy5644 data-user-id=790104248376623106>rdy</span> <span class=chatlog__timestamp title="Thursday, December 14, 2023 4:21â€¯PM"><a href=#chatlog__message-container-1184892937172164718>12/14/2023 4:21â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>something like this</span></div><div class=chatlog__attachment><a href="https://cdn.discordapp.com/attachments/1101154357778591824/1184892936941486280/Screenshot_2023-12-14_at_9.51.19_PM.png?ex=698a098a&amp;is=6988b80a&amp;hm=06e1faa17850000ffcf247cfe91e0d2de5cd682540326c64e8dc451925ca8966&amp;"> <img class=chatlog__attachment-media src="https://cdn.discordapp.com/attachments/1101154357778591824/1184892936941486280/Screenshot_2023-12-14_at_9.51.19_PM.png?ex=698a098a&amp;is=6988b80a&amp;hm=06e1faa17850000ffcf247cfe91e0d2de5cd682540326c64e8dc451925ca8966&amp;" alt="Image attachment" title="Image: Screenshot_2023-12-14_at_9.51.19_PM.png (232.64 KB)" loading=lazy> </a></div></div></div></div><div id=chatlog__message-container-1184893083062636614 class=chatlog__message-container data-message-id=1184893083062636614><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, December 14, 2023 4:22â€¯PM">4:22â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yes exactly i want variable fields in the metadata</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1184893122526855269 class=chatlog__message-container data-message-id=1184893122526855269><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, December 14, 2023 4:22â€¯PM"><a href=#chatlog__message-container-1184893122526855269>12/14/2023 4:22â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Ok.  Arrow has a map type for this (Map&lt;String, String&gt;) but that isn&#39;t supported in Lance currently.</span></div></div></div></div><div id=chatlog__message-container-1184893290303205489 class=chatlog__message-container data-message-id=1184893290303205489><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, December 14, 2023 4:22â€¯PM">4:22â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Generally I&#39;d advise against it anyways as the performance is not going to be great.  Better to have a struct field with nulls in the missing metadata fields.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1184893491550109746 class=chatlog__message-container data-message-id=1184893491550109746><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rdy5644 data-user-id=790104248376623106>rdy</span> <span class=chatlog__timestamp title="Thursday, December 14, 2023 4:23â€¯PM"><a href=#chatlog__message-container-1184893491550109746>12/14/2023 4:23â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>But in future if we want to add new fields is it possible</span></div></div></div></div><div id=chatlog__message-container-1184893541047095397 class=chatlog__message-container data-message-id=1184893541047095397><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, December 14, 2023 4:23â€¯PM">4:23â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Looks like it is not possible currently</span></div></div></div></div><div id=chatlog__message-container-1184893615030415451 class=chatlog__message-container data-message-id=1184893615030415451><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, December 14, 2023 4:24â€¯PM">4:24â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>That&#39;s the only concern</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1184893916647010365 class=chatlog__message-container data-message-id=1184893916647010365><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, December 14, 2023 4:25â€¯PM"><a href=#chatlog__message-container-1184893916647010365>12/14/2023 4:25â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yes, I see.  You can add new columns but you can&#39;t add new fields to a struct column.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1184894079771889757 class=chatlog__message-container data-message-id=1184894079771889757><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rdy5644 data-user-id=790104248376623106>rdy</span> <span class=chatlog__timestamp title="Thursday, December 14, 2023 4:26â€¯PM"><a href=#chatlog__message-container-1184894079771889757>12/14/2023 4:26â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Do we have plans to implement this?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1184894301143040091 class=chatlog__message-container data-message-id=1184894301143040091><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, December 14, 2023 4:26â€¯PM"><a href=#chatlog__message-container-1184894301143040091>12/14/2023 4:26â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Please go ahead and create a github issue for this.  It should be possible.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1184927291931893820 class=chatlog__message-container data-message-id=1184927291931893820><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=kohlerbear3381 data-user-id=450637514668113921>kohlerbear</span> <span class=chatlog__timestamp title="Thursday, December 14, 2023 6:38â€¯PM"><a href=#chatlog__message-container-1184927291931893820>12/14/2023 6:38â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hi there! If it&#39;s not too much trouble, would it be possible to cut another lancedb release in pypi to pull in some of the latest changes made over the last month?</span> <span class=chatlog__edited-timestamp title="Thursday, December 14, 2023 6:38â€¯PM">(edited)</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1185010270402265239 class=chatlog__message-container data-message-id=1185010270402265239><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=kohlerbear3381>kohlerbear</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1184927291931893820')"> hi there! If it&#39;s not too much trouble, would it be possible to cut another lancedb release in pypi to pull in some of the latest changes made over the last month? </span> <span class=chatlog__reply-edited-timestamp title="Thursday, December 14, 2023 6:38â€¯PM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Friday, December 15, 2023 12:07â€¯AM"><a href=#chatlog__message-container-1185010270402265239>12/15/2023 12:07â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://discord.com/channels/1030247538198061086/1108076157930323998/1185010171127279717" onclick="scrollToMessage(event, '1185010171127279717')">https://discord.com/channels/1030247538198061086/1108076157930323998/1185010171127279717</a> <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ˜"
    title="grin"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f601.svg"></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div><div class=chatlog__reaction title=smiley><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ˜ƒ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f603.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1185266149961764875 class=chatlog__message-container data-message-id=1185266149961764875><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=wessel1877 data-user-id=976404296453193788>Wessel</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, December 15, 2023 5:04â€¯PM"> <a href=#chatlog__message-container-1185266149961764875>12/15/2023 5:04â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1185920943290323074 class=chatlog__message-container data-message-id=1185920943290323074><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/754329612309364836/38b86ae627ab58ef99f0c5406dda82a8.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wjones127>Will Jones</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1158141518918471731')"> On async, we don&#39;t have any async methods, but most methods do not hold the GIL, so if you want concurrency in an async application (such as in a FastAPI app) you can put the calls to lance in <a href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.loop.run_in_executor">run_in_executor()</a>. </span></div></div><div class=chatlog__header><span class=chatlog__author title=swastikk data-user-id=754329612309364836>Swastik K</span> <span class=chatlog__timestamp title="Sunday, December 17, 2023 12:26â€¯PM"><a href=#chatlog__message-container-1185920943290323074>12/17/2023 12:26â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We can also use sync def in that case right?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1186539229199749120 class=chatlog__message-container data-message-id=1186539229199749120><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rdy5644 data-user-id=790104248376623106>rdy</span> <span class=chatlog__timestamp title="Tuesday, December 19, 2023 5:23â€¯AM"><a href=#chatlog__message-container-1186539229199749120>12/19/2023 5:23â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;m getting this error when performing fts search with limit 10 
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">{OSError}OSError(&#39;LanceError(Arrow): Invalid argument error: Last offset 360 of Utf8 is larger than values length 36, /Users/runner/work/lance/lance/rust/lance-core/src/encodings/binary.rs:397:26&#39;)</code>
but the same is working with limit 1
greater then 1 is somehow throwing this error with various offset values</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1186544971986239518 class=chatlog__message-container data-message-id=1186544971986239518><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=rdy5644>rdy</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1186539229199749120')"> I&#39;m getting this error when performing fts search with limit 10 
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">{OSError}OSError(&#39;LanceError(Arrow): Invalid argument error: Last offset 360 of Utf8 is larger than values length 36, /Users/runner/work/lance/lance/rust/lance-core/src/encodings/binary.rs:397:26&#39;)</code>
but the same is working with limit 1
greater then 1 is somehow throwing this error with various offset values </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Tuesday, December 19, 2023 5:46â€¯AM"><a href=#chatlog__message-container-1186544971986239518>12/19/2023 5:46â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi <span class="chatlog__markdown-mention" title="rdy5644">@rdy</span>  This sounds like it might be related to a bug we are actively working on fixing this week. <a href="https://github.com/lancedb/lance/issues/1707">https://github.com/lancedb/lance/issues/1707</a>
cc <span class="chatlog__markdown-mention" title="rok1370">@rok</span></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/issues/1707><div class="chatlog__markdown chatlog__markdown-preserve">Exception on Take using Image extension array &#183; Issue #1707 &#183; lance...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">i downloaded the oxford pets dataset (<a href="https://www.robots.ox.ac.uk/~vgg/data/pets/)">https://www.robots.ox.ac.uk/~vgg/data/pets/)</a> and initialized local image uri arr. Then I encoded an image extension array using: arr = ImageURIArray.from_uris(...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/u9s9YZMOWqPIa_-el-JHfAq0Vb3XNzmcdBx-q2wlDvM/https/opengraph.githubassets.com/e970c68a8d2f9d43e62a8085a6b937649b723f6704751a316036549bd1e5fcc3/lancedb/lance/issues/1707> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/u9s9YZMOWqPIa_-el-JHfAq0Vb3XNzmcdBx-q2wlDvM/https/opengraph.githubassets.com/e970c68a8d2f9d43e62a8085a6b937649b723f6704751a316036549bd1e5fcc3/lancedb/lance/issues/1707 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1186546645530329149 class=chatlog__message-container data-message-id=1186546645530329149><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wjones127>Will Jones</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1186544971986239518')"> Hi <span class="chatlog__markdown-mention" title="rdy5644">@rdy</span>  This sounds like it might be related to a bug we are actively working on fixing this week. <a href="https://github.com/lancedb/lance/issues/1707">https://github.com/lancedb/lance/issues/1707</a>
cc <span class="chatlog__markdown-mention" title="rok1370">@rok</span> </span></div></div><div class=chatlog__header><span class=chatlog__author title=rdy5644 data-user-id=790104248376623106>rdy</span> <span class=chatlog__timestamp title="Tuesday, December 19, 2023 5:52â€¯AM"><a href=#chatlog__message-container-1186546645530329149>12/19/2023 5:52â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Looks like bug is related to Image extension in my case i&#39;m facing this issue with FTS search</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1186653298560860200 class=chatlog__message-container data-message-id=1186653298560860200><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/806184543861604352/cf12edcd97b50acd6b6ad1b4d3908a9f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=harpocrates3208 data-user-id=806184543861604352>harpocrates</span> <span class=chatlog__timestamp title="Tuesday, December 19, 2023 12:56â€¯PM"><a href=#chatlog__message-container-1186653298560860200>12/19/2023 12:56â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey, the latest version says performance improvements, can we get more information on this?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1186666205239582750 class=chatlog__message-container data-message-id=1186666205239582750><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Tuesday, December 19, 2023 1:47â€¯PM"><a href=#chatlog__message-container-1186666205239582750>12/19/2023 1:47â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="harpocrates3208">@harpocrates</span> normally I&#39;d refer you to the changelog, however, since 0.9 was a minor (not patch) release it seems that github&#39;s automated changelog rolled up all the changes from 0.8 to 0.9.  Almost every release has some kind of performance improvement, many of them are rather situational or targeted at specific features.

Specifically, the performance improvements between 0.8.21 and 0.9 are:

<a href="https://github.com/lancedb/lance/commit/eb451670f2180d0606af364363583155639894b5">https://github.com/lancedb/lance/commit/eb451670f2180d0606af364363583155639894b5</a> - Minor improvements to scan performance in certain situations.
<a href="https://github.com/lancedb/lance/commit/50e00d658d5135b71938b0a43eab8b2773798c17">https://github.com/lancedb/lance/commit/50e00d658d5135b71938b0a43eab8b2773798c17</a> - Open files in parallel, even on a local filesystem, which is  a noticable improvement in NFS-type filesystems 

Was there a particular aspect of performance you were curious about?</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=pray><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ™ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1186669985091817513 class=chatlog__message-container data-message-id=1186669985091817513><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=rdy5644>rdy</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1186546645530329149')"> Looks like bug is related to Image extension in my case i&#39;m facing this issue with FTS search </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Tuesday, December 19, 2023 2:02â€¯PM"><a href=#chatlog__message-container-1186669985091817513>12/19/2023 2:02â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>The title of 1707 doesn&#39;t match the root cause.  The proposed fix (<a href="https://github.com/lancedb/lance/pull/1724)">https://github.com/lancedb/lance/pull/1724)</a> does not appear to be related to image extension arrays.  However, if it is the same issue, then that would suggest the FTS index is returning the same row id multiple times, which is strange.  Can you look at the row ids returned from the FTS and see if there are any duplicates there?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1186705015272898584 class=chatlog__message-container data-message-id=1186705015272898584><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, December 19, 2023 4:22â€¯PM"> <a href=#chatlog__message-container-1186705015272898584>12/19/2023 4:22â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1187073535315812453 class=chatlog__message-container data-message-id=1187073535315812453><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=rdy5644>rdy</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1186546645530329149')"> Looks like bug is related to Image extension in my case i&#39;m facing this issue with FTS search </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Wednesday, December 20, 2023 4:46â€¯PM"><a href=#chatlog__message-container-1187073535315812453>12/20/2023 4:46â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yes, the root cause had nothing to do with images.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1187075775837515887 class=chatlog__message-container data-message-id=1187075775837515887><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Wednesday, December 20, 2023 4:55â€¯PM"><a href=#chatlog__message-container-1187075775837515887>12/20/2023 4:55â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="rdy5644">@rdy</span> I&#39;ve made a GH issue to track that bug: <a href="https://github.com/lancedb/lancedb/issues/726">https://github.com/lancedb/lancedb/issues/726</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/issues/726><div class="chatlog__markdown chatlog__markdown-preserve">Invalid string array when doing FTS &#183; Issue #726 &#183; lancedb/lancedb</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Reported from user on discord: I&#39;m getting this error when performing fts search with limit 10 {OSError}OSError(&#39;LanceError(Arrow): Invalid argument error: Last offset 360 of Utf8 is larger...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/EYcnPnuMx44FcVOWt5dbsm4bn2BHhky3C9KdWwojWwU/https/opengraph.githubassets.com/4c8bff02efc6a4283b79962b486e709ca8d4f598cf74267b25c82001acad09cf/lancedb/lancedb/issues/726> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/EYcnPnuMx44FcVOWt5dbsm4bn2BHhky3C9KdWwojWwU/https/opengraph.githubassets.com/4c8bff02efc6a4283b79962b486e709ca8d4f598cf74267b25c82001acad09cf/lancedb/lancedb/issues/726 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1187249889026003025 class=chatlog__message-container data-message-id=1187249889026003025><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wjones127>Will Jones</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1187075775837515887')"> <span class="chatlog__markdown-mention" title="rdy5644">@rdy</span> I&#39;ve made a GH issue to track that bug: <a href="https://github.com/lancedb/lancedb/issues/726">https://github.com/lancedb/lancedb/issues/726</a> </span></div></div><div class=chatlog__header><span class=chatlog__author title=rdy5644 data-user-id=790104248376623106>rdy</span> <span class=chatlog__timestamp title="Thursday, December 21, 2023 4:27â€¯AM"><a href=#chatlog__message-container-1187249889026003025>12/21/2023 4:27â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>looks like this is merged can someone release another version in pypi</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1187249993447378975 class=chatlog__message-container data-message-id=1187249993447378975><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wpace>WestonPace</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1186669985091817513')"> The title of 1707 doesn&#39;t match the root cause.  The proposed fix (<a href="https://github.com/lancedb/lance/pull/1724)">https://github.com/lancedb/lance/pull/1724)</a> does not appear to be related to image extension arrays.  However, if it is the same issue, then that would suggest the FTS index is returning the same row id multiple times, which is strange.  Can you look at the row ids returned from the FTS and see if there are any duplicates there? </span></div></div><div class=chatlog__header><span class=chatlog__author title=rdy5644 data-user-id=790104248376623106>rdy</span> <span class=chatlog__timestamp title="Thursday, December 21, 2023 4:27â€¯AM"><a href=#chatlog__message-container-1187249993447378975>12/21/2023 4:27â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yes it is because of the duplicate row_ids returned by search_index</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1187255055338983494 class=chatlog__message-container data-message-id=1187255055338983494><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=rdy5644>rdy</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1187249889026003025')"> looks like this is merged can someone release another version in pypi </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, December 21, 2023 4:47â€¯AM"><a href=#chatlog__message-container-1187255055338983494>12/21/2023 4:47â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>we&#39;ll make another release soon. Waiting on a few more PR&#39;s to make it in</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1187272322554540113 class=chatlog__message-container data-message-id=1187272322554540113><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/754329612309364836/38b86ae627ab58ef99f0c5406dda82a8.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1187255055338983494')"> we&#39;ll make another release soon. Waiting on a few more PR&#39;s to make it in </span></div></div><div class=chatlog__header><span class=chatlog__author title=swastikk data-user-id=754329612309364836>Swastik K</span> <span class=chatlog__timestamp title="Thursday, December 21, 2023 5:56â€¯AM"><a href=#chatlog__message-container-1187272322554540113>12/21/2023 5:56â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>When is incremntal updates support for FTS is planned?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1187276190822694983 class=chatlog__message-container data-message-id=1187276190822694983><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, December 21, 2023 6:11â€¯AM"><a href=#chatlog__message-container-1187276190822694983>12/21/2023 6:11â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i&#39;m going to tackle it next week</span></div></div></div></div><div id=chatlog__message-container-1187276213690040350 class=chatlog__message-container data-message-id=1187276213690040350><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, December 21, 2023 6:11â€¯AM">6:11â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>most likely</span></div></div></div></div><div id=chatlog__message-container-1187276759889096767 class=chatlog__message-container data-message-id=1187276759889096767><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, December 21, 2023 6:13â€¯AM">6:13â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>are you using the versioning features in lancedb? likely incremental update for FTS will break versioning, at least to begin with. If you&#39;re not using versioning / time-travel then it should be safe</span></div></div></div></div><div id=chatlog__message-container-1187276979561578526 class=chatlog__message-container data-message-id=1187276979561578526><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, December 21, 2023 6:14â€¯AM">6:14â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>also if you don&#39;t have a huge amount of rows, a full reindex FTS should should be reasonably fast (~O(s)) so that&#39;s another option if you don&#39;t want to wait</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1187317618491805786 class=chatlog__message-container data-message-id=1187317618491805786><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/754329612309364836/38b86ae627ab58ef99f0c5406dda82a8.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1187276759889096767')"> are you using the versioning features in lancedb? likely incremental update for FTS will break versioning, at least to begin with. If you&#39;re not using versioning / time-travel then it should be safe </span></div></div><div class=chatlog__header><span class=chatlog__author title=swastikk data-user-id=754329612309364836>Swastik K</span> <span class=chatlog__timestamp title="Thursday, December 21, 2023 8:56â€¯AM"><a href=#chatlog__message-container-1187317618491805786>12/21/2023 8:56â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>we are not using versioning features</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=ok_hand><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘Œ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44c.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1187478933994754123 class=chatlog__message-container data-message-id=1187478933994754123><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=harpocrates3208 data-user-id=806184543861604352>harpocrates</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, December 21, 2023 7:37â€¯PM"> <a href=#chatlog__message-container-1187478933994754123>12/21/2023 7:37â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189177160355807233 class=chatlog__message-container data-message-id=1189177160355807233><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rdy5644 data-user-id=790104248376623106>rdy</span> <span class=chatlog__timestamp title="Tuesday, December 26, 2023 12:05â€¯PM"><a href=#chatlog__message-container-1189177160355807233>12/26/2023 12:05â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>can someone please release new version in pypi</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189179559938113556 class=chatlog__message-container data-message-id=1189179559938113556><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rdy5644 data-user-id=790104248376623106>rdy</span> <span class=chatlog__timestamp title="Tuesday, December 26, 2023 12:15â€¯PM"><a href=#chatlog__message-container-1189179559938113556>12/26/2023 12:15â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">Invalid user input: Row index 108 is beyond the range of the dataset., /home/runner/work/lance/lance/rust/lance/src/dataset.rs:898:31</code></span></div></div></div></div><div id=chatlog__message-container-1189179622961713252 class=chatlog__message-container data-message-id=1189179622961713252><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, December 26, 2023 12:15â€¯PM">12:15â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>getting this error when performing FTS</span></div></div></div></div><div id=chatlog__message-container-1189180499671916544 class=chatlog__message-container data-message-id=1189180499671916544><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, December 26, 2023 12:18â€¯PM">12:18â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>looks like this is related to the fts duplicate id issue</span> <span class=chatlog__edited-timestamp title="Tuesday, December 26, 2023 12:18â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189230748482412674 class=chatlog__message-container data-message-id=1189230748482412674><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Tuesday, December 26, 2023 3:38â€¯PM"><a href=#chatlog__message-container-1189230748482412674>12/26/2023 3:38â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Weâ€™ll get one out today.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189257251555389490 class=chatlog__message-container data-message-id=1189257251555389490><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=rdy5644>rdy</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1189177160355807233')"> can someone please release new version in pypi </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Tuesday, December 26, 2023 5:23â€¯PM"><a href=#chatlog__message-container-1189257251555389490>12/26/2023 5:23â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>A new version of LanceDB has been released âœ…</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=pray><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ™ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div><div class=chatlog__reaction title=tada><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸŽ‰ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f389.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189322422143418468 class=chatlog__message-container data-message-id=1189322422143418468><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/520009406621155328/3cb07ece7c1b81042cfc07f4817f2155.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=danielle.0689 data-user-id=520009406621155328>Danielle.</span> <span class=chatlog__timestamp title="Tuesday, December 26, 2023 9:42â€¯PM"><a href=#chatlog__message-container-1189322422143418468>12/26/2023 9:42â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>someone knows how to save a vector store ??</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189332140211585034 class=chatlog__message-container data-message-id=1189332140211585034><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/520009406621155328/3cb07ece7c1b81042cfc07f4817f2155.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=danielle.0689>Danielle.</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1189322422143418468')"> someone knows how to save a vector store ?? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Tuesday, December 26, 2023 10:21â€¯PM"><a href=#chatlog__message-container-1189332140211585034>12/26/2023 10:21â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Like you just want to create a new table with existing data in memory?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189359417964122172 class=chatlog__message-container data-message-id=1189359417964122172><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/520009406621155328/3cb07ece7c1b81042cfc07f4817f2155.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=danielle.0689 data-user-id=520009406621155328>Danielle.</span> <span class=chatlog__timestamp title="Wednesday, December 27, 2023 12:09â€¯AM"><a href=#chatlog__message-container-1189359417964122172>12/27/2023 12:09â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>thats my code</span></div><div class=chatlog__attachment><div class=chatlog__attachment-generic><svg class=chatlog__attachment-generic-icon><use href=#attachment-icon /></svg><div class=chatlog__attachment-generic-name><a href="https://cdn.discordapp.com/attachments/1101154357778591824/1189359417687285882/noname.txt?ex=698a7746&amp;is=698925c6&amp;hm=332b47762787da66d53022944f4acfcabb87b36a9336a7c6d0ea93c86898a000&amp;"> noname.txt </a></div><div class=chatlog__attachment-generic-size>1.54 KB</div></div></div></div></div></div><div id=chatlog__message-container-1189359757170049054 class=chatlog__message-container data-message-id=1189359757170049054><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, December 27, 2023 12:11â€¯AM">12:11â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i just want to add the vector store to a folder path to not reload all docs every time</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189360198947704863 class=chatlog__message-container data-message-id=1189360198947704863><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, December 27, 2023 12:12â€¯AM"><a href=#chatlog__message-container-1189360198947704863>12/27/2023 12:12â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>when you call <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lancedb.connect(&#39;/tmp/lancedb&#39;)</code>  then <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">create_table(&quot;bge_embedding&quot;)</code>, LanceDB is creating a directory called <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">/tmp/lancedb/bge_embedding.lance</code> under the hood to store all of your data</span></div></div></div></div><div id=chatlog__message-container-1189360825920663642 class=chatlog__message-container data-message-id=1189360825920663642><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, December 27, 2023 12:15â€¯AM">12:15â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>you can do stuff like <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">len(table)</code> to check how many rows it has, and do vector search like <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table.search(&lt;query embedding&gt;).limit(10).to_pandas()</code> (or <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">to_list()</code> etc) to search for results</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189362243901587456 class=chatlog__message-container data-message-id=1189362243901587456><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/520009406621155328/3cb07ece7c1b81042cfc07f4817f2155.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=danielle.0689 data-user-id=520009406621155328>Danielle.</span> <span class=chatlog__timestamp title="Wednesday, December 27, 2023 12:20â€¯AM"><a href=#chatlog__message-container-1189362243901587456>12/27/2023 12:20â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>okey i will try thanks !</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189452232136085544 class=chatlog__message-container data-message-id=1189452232136085544><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=chizhenming data-user-id=854296535445930004>chizhenming</span> <span class=chatlog__timestamp title="Wednesday, December 27, 2023 6:18â€¯AM"><a href=#chatlog__message-container-1189452232136085544>12/27/2023 6:18â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Dear partners, I am using the JS version of LanceDB and LangChain. I have several documents that are interrelated. Besides Neo4j, which can handle such relationships, can our LanceDB perform queries on these relationships?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1191637493477556224 class=chatlog__message-container data-message-id=1191637493477556224><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/754329612309364836/38b86ae627ab58ef99f0c5406dda82a8.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=swastikk data-user-id=754329612309364836>Swastik K</span> <span class=chatlog__timestamp title="Tuesday, January 2, 2024 7:01â€¯AM"><a href=#chatlog__message-container-1191637493477556224>1/2/2024 7:01â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>While creating FTS Index, empty/None value of FTS field is not handled

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-py">    for b in dataset.to_batches(columns=fields):
        if max_nested_level &gt; 0:
            b = pa.Table.from_batches([b])
            for _ in range(max_nested_level - 1):
                b = b.flatten()
        for i in range(b.num_rows):
            doc = tantivy.Document()
            doc.add_integer(&quot;doc_id&quot;, row_id)
            for name in fields:
                doc.add_text(name, b[name][i].as_py())   # it errors out here
            writer.add_document(doc)
            row_id += 1</code>

In below line it throws error, is it expected to handle this by one who calls this function or a bug?
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">doc.add_text(name, b[name][i].as_py()) </code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1191655191863365683 class=chatlog__message-container data-message-id=1191655191863365683><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Tuesday, January 2, 2024 8:12â€¯AM"><a href=#chatlog__message-container-1191655191863365683>1/2/2024 8:12â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>what&#39;s the error?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1191670827486294057 class=chatlog__message-container data-message-id=1191670827486294057><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/754329612309364836/38b86ae627ab58ef99f0c5406dda82a8.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=swastikk data-user-id=754329612309364836>Swastik K</span> <span class=chatlog__timestamp title="Tuesday, January 2, 2024 9:14â€¯AM"><a href=#chatlog__message-container-1191670827486294057>1/2/2024 9:14â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-py">TypeError: argument &#39;text&#39;: &#39;NoneType&#39; object cannot be converted to &#39;PyString&#39;</code></span></div></div></div></div><div id=chatlog__message-container-1191671529289810101 class=chatlog__message-container data-message-id=1191671529289810101><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, January 2, 2024 9:17â€¯AM">9:17â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Maybe add 2 <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">if</code> conditions here to fix this? 
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-py">    for b in dataset.to_batches(columns=fields):
        if max_nested_level &gt; 0:
            b = pa.Table.from_batches([b])
            for _ in range(max_nested_level - 1):
                b = b.flatten()
        for i in range(b.num_rows):
            doc = tantivy.Document()
            doc.add_integer(&quot;doc_id&quot;, row_id)
            for name in fields:
                if b[name][i]:    # check for empty/None doc
                    doc.add_text(name, b[name][i].as_py())   # it errors out here
            if not doc.is_empty():
                writer.add_document(doc)    # don&#39;t add empty/None doc
            row_id += 1</code></span> <span class=chatlog__edited-timestamp title="Tuesday, January 2, 2024 9:17â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1191770922412150916 class=chatlog__message-container data-message-id=1191770922412150916><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Tuesday, January 2, 2024 3:52â€¯PM"><a href=#chatlog__message-container-1191770922412150916>1/2/2024 3:52â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Thanks! Just confirming - in your stack trace does it show whether the exception is thrown by doc.add_text or xxx.as_py?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1191781493719171112 class=chatlog__message-container data-message-id=1191781493719171112><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/754329612309364836/38b86ae627ab58ef99f0c5406dda82a8.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1191770922412150916')"> Thanks! Just confirming - in your stack trace does it show whether the exception is thrown by doc.add_text or xxx.as_py? </span></div></div><div class=chatlog__header><span class=chatlog__author title=swastikk data-user-id=754329612309364836>Swastik K</span> <span class=chatlog__timestamp title="Tuesday, January 2, 2024 4:34â€¯PM"><a href=#chatlog__message-container-1191781493719171112>1/2/2024 4:34â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>xxx.as_py</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1191988646249758832 class=chatlog__message-container data-message-id=1191988646249758832><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, January 3, 2024 6:17â€¯AM"><a href=#chatlog__message-container-1191988646249758832>1/3/2024 6:17â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="swastikk">@Swastik K</span> here&#39;s a PR for the fix: <a href="https://github.com/lancedb/lancedb/pull/763">https://github.com/lancedb/lancedb/pull/763</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/pull/763><div class="chatlog__markdown chatlog__markdown-preserve">chore(python): handle NaN input in fts ingestion by changhiskhan &#183; ...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">If the input text is None, Tantivy raises an error
complaining it cannot add a NoneType. We handle this
upstream so None&#39;s are not added to the document.
If all of the indexed fields are None t...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/IENReAgrtWWIll8kVJ4_v7QQKo76DQdMMtTapmeypTs/https/opengraph.githubassets.com/ae2e49fe6a7db294d599478cb3d64f38f08daa5ea5c20a283037c31cc5624427/lancedb/lancedb/pull/763> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/IENReAgrtWWIll8kVJ4_v7QQKo76DQdMMtTapmeypTs/https/opengraph.githubassets.com/ae2e49fe6a7db294d599478cb3d64f38f08daa5ea5c20a283037c31cc5624427/lancedb/lancedb/pull/763 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div><div id=chatlog__message-container-1191988692353548368 class=chatlog__message-container data-message-id=1191988692353548368><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, January 3, 2024 6:17â€¯AM">6:17â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>so the bug is not in pyarrow converting the value</span></div></div></div></div><div id=chatlog__message-container-1191988731486404609 class=chatlog__message-container data-message-id=1191988731486404609><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, January 3, 2024 6:17â€¯AM">6:17â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>but it&#39;s Tantivy that cannot take None input</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1192043663799353524 class=chatlog__message-container data-message-id=1192043663799353524><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/754329612309364836/38b86ae627ab58ef99f0c5406dda82a8.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1191988731486404609')"> but it&#39;s Tantivy that cannot take None input </span></div></div><div class=chatlog__header><span class=chatlog__author title=swastikk data-user-id=754329612309364836>Swastik K</span> <span class=chatlog__timestamp title="Wednesday, January 3, 2024 9:55â€¯AM"><a href=#chatlog__message-container-1192043663799353524>1/3/2024 9:55â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>It is happening before even reaching tantivy, in lancedb <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">fts.py</code> file. like this <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">None.as_py()</code></span> <span class=chatlog__edited-timestamp title="Wednesday, January 3, 2024 9:56â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1192171195576107038 class=chatlog__message-container data-message-id=1192171195576107038><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/754329612309364836/38b86ae627ab58ef99f0c5406dda82a8.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=swastikk>Swastik K</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1192043663799353524')"> It is happening before even reaching tantivy, in lancedb <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">fts.py</code> file. like this <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">None.as_py()</code> </span> <span class=chatlog__reply-edited-timestamp title="Wednesday, January 3, 2024 9:56â€¯AM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, January 3, 2024 6:22â€¯PM"><a href=#chatlog__message-container-1192171195576107038>1/3/2024 6:22â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>No, <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">b[name][i]</code> returns a pyarrow scalar instance which wraps the None, so <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">as_py()</code> returns None just fine. The exception comes from <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">doc.add_text(field, None)</code></span></div></div></div></div><div id=chatlog__message-container-1192171409334616095 class=chatlog__message-container data-message-id=1192171409334616095><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, January 3, 2024 6:23â€¯PM">6:23â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>e.g., 
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">value = b[name][i].as_py()
if value is not None:
    doc.add_text(name, value)</code></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=raised_hands><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ™Œ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64c.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div><div id=chatlog__message-container-1192171419602276393 class=chatlog__message-container data-message-id=1192171419602276393><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, January 3, 2024 6:23â€¯PM">6:23â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>this works fine</span></div></div></div></div><div id=chatlog__message-container-1192171489668120688 class=chatlog__message-container data-message-id=1192171489668120688><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, January 3, 2024 6:23â€¯PM">6:23â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>either way, the problem should be resolved in that PR</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1192174453254275092 class=chatlog__message-container data-message-id=1192174453254275092><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, January 3, 2024 6:35â€¯PM"><a href=#chatlog__message-container-1192174453254275092>1/3/2024 6:35â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i&#39;ll get this merged in today and we&#39;ll make another release soon. Still working on the incremental reindexing. It doesn&#39;t cover all of the ingesting points yet but if you guys don&#39;t delete/update then I can give something sooner to you</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1192312516928339979 class=chatlog__message-container data-message-id=1192312516928339979><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/754329612309364836/38b86ae627ab58ef99f0c5406dda82a8.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1192174453254275092')"> i&#39;ll get this merged in today and we&#39;ll make another release soon. Still working on the incremental reindexing. It doesn&#39;t cover all of the ingesting points yet but if you guys don&#39;t delete/update then I can give something sooner to you </span></div></div><div class=chatlog__header><span class=chatlog__author title=swastikk data-user-id=754329612309364836>Swastik K</span> <span class=chatlog__timestamp title="Thursday, January 4, 2024 3:44â€¯AM"><a href=#chatlog__message-container-1192312516928339979>1/4/2024 3:44â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>we don&#39;t update, but we use delete. We are fine for now since we are re-building every time.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1192317770881306624 class=chatlog__message-container data-message-id=1192317770881306624><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/754329612309364836/38b86ae627ab58ef99f0c5406dda82a8.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=swastikk>Swastik K</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1192312516928339979')"> we don&#39;t update, but we use delete. We are fine for now since we are re-building every time. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, January 4, 2024 4:05â€¯AM"><a href=#chatlog__message-container-1192317770881306624>1/4/2024 4:05â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Iâ€™m adding a heap size parameter as well so that if you tune up the heap size rebuilding the index is like 10x faster than the default</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=ðŸ«¡><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ«¡ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1fae1.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div><div id=chatlog__message-container-1192317945133670400 class=chatlog__message-container data-message-id=1192317945133670400><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, January 4, 2024 4:05â€¯AM">4:05â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://github.com/lancedb/lancedb/pull/762">https://github.com/lancedb/lancedb/pull/762</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/pull/762><div class="chatlog__markdown chatlog__markdown-preserve">feat(python): Set heap size to get faster fts indexing performance ...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">By default tantivy-py uses 128MB heapsize. We change the default to 1GB and we allow the user to customize this
locally this makes test_fts.py run 10x faster</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/14-l0QcewbluuYMEdabaJdQide9mtN5KcwT9BDTLhkk/https/opengraph.githubassets.com/0bf0a0ea3a26d947dc18ee2a86b8fab9f110c659f57640118fc0a0f53aaf75df/lancedb/lancedb/pull/762> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/14-l0QcewbluuYMEdabaJdQide9mtN5KcwT9BDTLhkk/https/opengraph.githubassets.com/0bf0a0ea3a26d947dc18ee2a86b8fab9f110c659f57640118fc0a0f53aaf75df/lancedb/lancedb/pull/762 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1197497312851804190 class=chatlog__message-container data-message-id=1197497312851804190><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jagan2274 data-user-id=1100071470547341314>Jagan</span> <span class=chatlog__timestamp title="Thursday, January 18, 2024 11:06â€¯AM"><a href=#chatlog__message-container-1197497312851804190>1/18/2024 11:06â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We&#39;ve encountered an error when connecting to LanceDB in GCP. The specific error is a LanceError(IO) with the message &quot;Generic GCS error: Unsupported ApplicationCredentials type: service_account,&quot; originating from the file &quot;/Users/runner/work/lance/lance/rust/lance-core/src/error.rs&quot; at line 115, column 23.

Could someone provide assistance in resolving this error?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1198425092011606066 class=chatlog__message-container data-message-id=1198425092011606066><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/129515424571195392/824829191829fd31169e34f4c1054a61.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=jagan2274>Jagan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1197497312851804190')"> We&#39;ve encountered an error when connecting to LanceDB in GCP. The specific error is a LanceError(IO) with the message &quot;Generic GCS error: Unsupported ApplicationCredentials type: service_account,&quot; originating from the file &quot;/Users/runner/work/lance/lance/rust/lance-core/src/error.rs&quot; at line 115, column 23.

Could someone provide assistance in resolving this error? </span></div></div><div class=chatlog__header><span class=chatlog__author title=zmuuuu data-user-id=129515424571195392>Zach</span> <span class=chatlog__timestamp title="Sunday, January 21, 2024 12:33â€¯AM"><a href=#chatlog__message-container-1198425092011606066>1/21/2024 12:33â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>you have to set the GOOGLE_SERVICE_ACCOUNT or GOOGLE_SERVICE_ACCOUNT_KEY environment variables</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1200105826136883373 class=chatlog__message-container data-message-id=1200105826136883373><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/628746809233375234/a5ad60c0924a992a58fc5c6d04b50868.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=cindy data-user-id=628746809233375234>cindy</span> <span class=chatlog__timestamp title="Thursday, January 25, 2024 3:52â€¯PM"><a href=#chatlog__message-container-1200105826136883373>1/25/2024 3:52â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi! I have a large image+text table that I&#39;m storing in aws. I&#39;m looking for a guide for the most efficient way to compute and add a column of text embeddings to this existing table. In particular, I want to avoid having to load the entire table into memory with arrow or pandas.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1202300277890490459 class=chatlog__message-container data-message-id=1202300277890490459><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/628746809233375234/a5ad60c0924a992a58fc5c6d04b50868.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=cindy>cindy</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1200105826136883373')"> Hi! I have a large image+text table that I&#39;m storing in aws. I&#39;m looking for a guide for the most efficient way to compute and add a column of text embeddings to this existing table. In particular, I want to avoid having to load the entire table into memory with arrow or pandas. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Wednesday, January 31, 2024 5:12â€¯PM"><a href=#chatlog__message-container-1202300277890490459>1/31/2024 5:12â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>The currently supported method to add new columns is using <a href="https://lancedb.github.io/lance/read_and_write.html#adding-new-columns">merge</a>. This requires pre-computing the embedding, and then using <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">merge()</code> to join the new embeddings into the table.

We are working on a newer API called <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">append_columns()</code> that will not require the join, and thus be cheaper to run on large tables. A prototype of this is <a href="https://gist.github.com/wjones127/111f64d469da91612b1e89799045d688">here</a>.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1202691294409793629 class=chatlog__message-container data-message-id=1202691294409793629><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/491234186900799508/786bd661e8d9eab28f007c4b4952827a.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=.billymadison data-user-id=491234186900799508>Elijah Madison</span> <span class=chatlog__timestamp title="Thursday, February 1, 2024 7:05â€¯PM"><a href=#chatlog__message-container-1202691294409793629>2/1/2024 7:05â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is there any solution for indexing a large amount of partitions without loading them into memory?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1202695762312568912 class=chatlog__message-container data-message-id=1202695762312568912><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/491234186900799508/786bd661e8d9eab28f007c4b4952827a.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=.billymadison>Elijah Madison</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1202691294409793629')"> Is there any solution for indexing a large amount of partitions without loading them into memory? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, February 1, 2024 7:23â€¯PM"><a href=#chatlog__message-container-1202695762312568912>2/1/2024 7:23â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>It&#39;s on the nearterm road map (maybe this quarter?)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1205584560696328313 class=chatlog__message-container data-message-id=1205584560696328313><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=arytiwa data-user-id=887695021556514877>arytiwa</span> <span class=chatlog__timestamp title="Friday, February 9, 2024 6:42â€¯PM"><a href=#chatlog__message-container-1205584560696328313>2/9/2024 6:42â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>It is possible to use lancedb with Serverless platforms like cloudflare workers by using a remote url like from s3. ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1205585215964315699 class=chatlog__message-container data-message-id=1205585215964315699><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=arytiwa>arytiwa</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1205584560696328313')"> It is possible to use lancedb with Serverless platforms like cloudflare workers by using a remote url like from s3. ? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Friday, February 9, 2024 6:45â€¯PM"><a href=#chatlog__message-container-1205585215964315699>2/9/2024 6:45â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yes.  S3 doesn&#39;t have the greatest performance but it will work.  <a href="https://lancedb.github.io/lancedb/concepts/storage/">https://lancedb.github.io/lancedb/concepts/storage/</a> goes into detail into some of the tradeoffs.  Also, <a href="https://lancedb.github.io/lancedb/guides/storage/">https://lancedb.github.io/lancedb/guides/storage/</a> will help you get started if you want to use S3</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1205585791976472636 class=chatlog__message-container data-message-id=1205585791976472636><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=arytiwa data-user-id=887695021556514877>arytiwa</span> <span class=chatlog__timestamp title="Friday, February 9, 2024 6:47â€¯PM"><a href=#chatlog__message-container-1205585791976472636>2/9/2024 6:47â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yeah but it is not working with cloudflare workers</span></div></div></div></div><div id=chatlog__message-container-1205586183766286417 class=chatlog__message-container data-message-id=1205586183766286417><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, February 9, 2024 6:49â€¯PM">6:49â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I have set node_compat but still and tried to changed some node_modules packages of lancedb like process to node:process but a package @neon is causing some problem</span> <span class=chatlog__edited-timestamp title="Friday, February 9, 2024 6:51â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1205595217672278056 class=chatlog__message-container data-message-id=1205595217672278056><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=arytiwa>arytiwa</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1205586183766286417')"> I have set node_compat but still and tried to changed some node_modules packages of lancedb like process to node:process but a package @neon is causing some problem </span> <span class=chatlog__reply-edited-timestamp title="Friday, February 9, 2024 6:51â€¯PM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Friday, February 9, 2024 7:24â€¯PM"><a href=#chatlog__message-container-1205595217672278056>2/9/2024 7:24â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hmm, neon is the package that connects rust to javascript.  What sort of errors are you seeing?  I don&#39;t know that we&#39;ve tried building the node sdk on a cloudflare worker specifically</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1205599948834607104 class=chatlog__message-container data-message-id=1205599948834607104><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=arytiwa data-user-id=887695021556514877>arytiwa</span> <span class=chatlog__timestamp title="Friday, February 9, 2024 7:43â€¯PM"><a href=#chatlog__message-container-1205599948834607104>2/9/2024 7:43â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I am getting 
Uncaught Refrence error: process is not defined</span></div></div></div></div><div id=chatlog__message-container-1205600302003130419 class=chatlog__message-container data-message-id=1205600302003130419><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, February 9, 2024 7:45â€¯PM">7:45â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Cloudflare is edge runtime with some support for node packages, it do state that process can be used in CF Workers with Node:process but I tried doing it with @neon dist but no use.</span></div></div></div></div><div id=chatlog__message-container-1205600356097327174 class=chatlog__message-container data-message-id=1205600356097327174><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, February 9, 2024 7:45â€¯PM">7:45â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Should I create an issue for this ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1205601102012227604 class=chatlog__message-container data-message-id=1205601102012227604><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=arytiwa>arytiwa</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1205600302003130419')"> Cloudflare is edge runtime with some support for node packages, it do state that process can be used in CF Workers with Node:process but I tried doing it with @neon dist but no use. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Friday, February 9, 2024 7:48â€¯PM"><a href=#chatlog__message-container-1205601102012227604>2/9/2024 7:48â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>From what I can see in the docs, they support WASM but unclear whether they support packages that have native code. We use rust and compile to native code, not WASM. So this might be the main blocker.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1205619151364816906 class=chatlog__message-container data-message-id=1205619151364816906><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/336116167833812994/1af58e8f9957f79753b6541faff3dd16.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=pchalasani data-user-id=336116167833812994>Prasad Chalasani</span> <span class=chatlog__timestamp title="Friday, February 9, 2024 9:00â€¯PM"><a href=#chatlog__message-container-1205619151364816906>2/9/2024 9:00â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>when I have a nested schema, is there a simple way to get a list of valid field names, including nested ones? i.e. a list of all fields that would be valid in a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">where</code> SQL query/filter.</span></div></div></div></div><div id=chatlog__message-container-1205619534535331910 class=chatlog__message-container data-message-id=1205619534535331910><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, February 9, 2024 9:01â€¯PM">9:01â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>separately, I think when an attempt is made to directly use a nested field in a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">where</code> clause, the error msg should show the nested fields as well, not just top level. I made this <a href="https://github.com/lancedb/lancedb/issues/951">https://github.com/lancedb/lancedb/issues/951</a></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1205640281827971093 class=chatlog__message-container data-message-id=1205640281827971093><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/336116167833812994/1af58e8f9957f79753b6541faff3dd16.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=pchalasani>Prasad Chalasani</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1205619151364816906')"> when I have a nested schema, is there a simple way to get a list of valid field names, including nested ones? i.e. a list of all fields that would be valid in a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">where</code> SQL query/filter. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Friday, February 9, 2024 10:24â€¯PM"><a href=#chatlog__message-container-1205640281827971093>2/9/2024 10:24â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>This should work: <a href="https://gist.github.com/wjones127/9686d1c40a9f82004869d8f64a284e93">https://gist.github.com/wjones127/9686d1c40a9f82004869d8f64a284e93</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://gist.github.com/wjones127/9686d1c40a9f82004869d8f64a284e93><div class="chatlog__markdown chatlog__markdown-preserve">LanceDB column paths</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">LanceDB column paths. GitHub Gist: instantly share code, notes, and snippets.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/7lesHV5TJfXV9rDct_prZ0T8dzM8AdALoVfer2-rnhs/https/github.githubassets.com/assets/gist-og-image-54fd7dc0713e.png> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/7lesHV5TJfXV9rDct_prZ0T8dzM8AdALoVfer2-rnhs/https/github.githubassets.com/assets/gist-og-image-54fd7dc0713e.png alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1205718974986330153 class=chatlog__message-container data-message-id=1205718974986330153><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wjones127>Will Jones</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1205601102012227604')"> From what I can see in the docs, they support WASM but unclear whether they support packages that have native code. We use rust and compile to native code, not WASM. So this might be the main blocker. </span></div></div><div class=chatlog__header><span class=chatlog__author title=arytiwa data-user-id=887695021556514877>arytiwa</span> <span class=chatlog__timestamp title="Saturday, February 10, 2024 3:36â€¯AM"><a href=#chatlog__message-container-1205718974986330153>2/10/2024 3:36â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is there any chance it would work in future ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1205762544577552455 class=chatlog__message-container data-message-id=1205762544577552455><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wjones127>Will Jones</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1205640281827971093')"> This should work: <a href="https://gist.github.com/wjones127/9686d1c40a9f82004869d8f64a284e93">https://gist.github.com/wjones127/9686d1c40a9f82004869d8f64a284e93</a> </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, February 10, 2024 6:29â€¯AM"><a href=#chatlog__message-container-1205762544577552455>2/10/2024 6:29â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Another option would be to create an empty table with the nested schema and flatten the table until there are no more struct types?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1205868244909428756 class=chatlog__message-container data-message-id=1205868244909428756><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/336116167833812994/1af58e8f9957f79753b6541faff3dd16.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1205762544577552455')"> Another option would be to create an empty table with the nested schema and flatten the table until there are no more struct types? </span></div></div><div class=chatlog__header><span class=chatlog__author title=pchalasani data-user-id=336116167833812994>Prasad Chalasani</span> <span class=chatlog__timestamp title="Saturday, February 10, 2024 1:29â€¯PM"><a href=#chatlog__message-container-1205868244909428756>2/10/2024 1:29â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>This is a good idea, I didn&#39;t think of it -- this works well, thanks
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">tbl.search().limit(1).to_pandas(flatten=True).columns.to_list()</code></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=partying_face><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ¥³ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f973.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1205902828804112454 class=chatlog__message-container data-message-id=1205902828804112454><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/737175126239346738/681e4374b9e82acfc5cc090177f79b36.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=spillai data-user-id=737175126239346738>spillai</span> <span class=chatlog__timestamp title="Saturday, February 10, 2024 3:47â€¯PM"><a href=#chatlog__message-container-1205902828804112454>2/10/2024 3:47â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is there a good example of extracting + ingesting &gt;1M vectors into lancedb? I have a few different custom models that Iâ€™d like to ingest into a table.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207695500619419648 class=chatlog__message-container data-message-id=1207695500619419648><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/779784350320689152/1fd145c1b6ca0dad1e498fe85a4a02d9.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=nicolaygerold data-user-id=779784350320689152>Nicolay</span> <span class=chatlog__timestamp title="Thursday, February 15, 2024 2:30â€¯PM"><a href=#chatlog__message-container-1207695500619419648>2/15/2024 2:30â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>How would you guys go about storing the data with the embeddings in parquet, if you expect switching embeddings models in the future. Would you store it in nested structures with version numbers or are there any other alternatives?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207707163863289916 class=chatlog__message-container data-message-id=1207707163863289916><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/779784350320689152/1fd145c1b6ca0dad1e498fe85a4a02d9.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=nicolaygerold>Nicolay</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1207695500619419648')"> How would you guys go about storing the data with the embeddings in parquet, if you expect switching embeddings models in the future. Would you store it in nested structures with version numbers or are there any other alternatives? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, February 15, 2024 3:17â€¯PM"><a href=#chatlog__message-container-1207707163863289916>2/15/2024 3:17â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>One column with the data and one column with the embedding and one column with the embedding version seems reasonable.

If you switch embedding models then there are various ways you can update.  You could do a bulk update and drop the old column and add a new column for an atomic replacement.  Or you could use merge insert to incrementally update the embeddings.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207971530626043945 class=chatlog__message-container data-message-id=1207971530626043945><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/779784350320689152/1fd145c1b6ca0dad1e498fe85a4a02d9.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wpace>WestonPace</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1207707163863289916')"> One column with the data and one column with the embedding and one column with the embedding version seems reasonable.

If you switch embedding models then there are various ways you can update.  You could do a bulk update and drop the old column and add a new column for an atomic replacement.  Or you could use merge insert to incrementally update the embeddings. </span></div></div><div class=chatlog__header><span class=chatlog__author title=nicolaygerold data-user-id=779784350320689152>Nicolay</span> <span class=chatlog__timestamp title="Friday, February 16, 2024 8:47â€¯AM"><a href=#chatlog__message-container-1207971530626043945>2/16/2024 8:47â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Perfect, thanks! Is there a compression optimized for embeddings / should I worry about float accuracy somewhere?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208019719211454576 class=chatlog__message-container data-message-id=1208019719211454576><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/779784350320689152/1fd145c1b6ca0dad1e498fe85a4a02d9.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=nicolaygerold>Nicolay</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1207971530626043945')"> Perfect, thanks! Is there a compression optimized for embeddings / should I worry about float accuracy somewhere? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Friday, February 16, 2024 11:59â€¯AM"><a href=#chatlog__message-container-1208019719211454576>2/16/2024 11:59â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We don&#39;t compress data.  If you create a vector index we do PQ but we go back and fetch the full uncompressed vectors after the index search.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208034864478289924 class=chatlog__message-container data-message-id=1208034864478289924><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=nicolaygerold data-user-id=779784350320689152>Nicolay</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, February 16, 2024 12:59â€¯PM"> <a href=#chatlog__message-container-1208034864478289924>2/16/2024 12:59â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208111021730959390 class=chatlog__message-container data-message-id=1208111021730959390><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Friday, February 16, 2024 6:01â€¯PM"><a href=#chatlog__message-container-1208111021730959390>2/16/2024 6:01â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span> Looks like the create table api takes a WriteParams but the symbol is not exportable from the vectordb crate, how does it work?</span></div></div></div></div><div id=chatlog__message-container-1208111202501394545 class=chatlog__message-container data-message-id=1208111202501394545><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, February 16, 2024 6:02â€¯PM">6:02â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Oh I guess I need the lance crate too</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208149992678625322 class=chatlog__message-container data-message-id=1208149992678625322><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=diptanuc>diptanuc</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1208111202501394545')"> Oh I guess I need the lance crate too </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Friday, February 16, 2024 8:36â€¯PM"><a href=#chatlog__message-container-1208149992678625322>2/16/2024 8:36â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>For now, yes.  I&#39;m working on a PR that should address that.  It&#39;ll probably be out early next week.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208150964767555595 class=chatlog__message-container data-message-id=1208150964767555595><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Friday, February 16, 2024 8:40â€¯PM"><a href=#chatlog__message-container-1208150964767555595>2/16/2024 8:40â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>The crate needs a lot of love <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"></span></div></div></div></div><div id=chatlog__message-container-1208151003078070272 class=chatlog__message-container data-message-id=1208151003078070272><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, February 16, 2024 8:40â€¯PM">8:40â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>But I imagine that&#39;s not a priority for you guys</span></div></div></div></div><div id=chatlog__message-container-1208152485152424037 class=chatlog__message-container data-message-id=1208152485152424037><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, February 16, 2024 8:46â€¯PM">8:46â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>One suggestion, creating some wrappers on top of RecrordBatch to make it easy to write stuff into the table</span></div></div></div></div><div id=chatlog__message-container-1208152683190427688 class=chatlog__message-container data-message-id=1208152683190427688><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, February 16, 2024 8:47â€¯PM">8:47â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Currently, I am caching the arrow schema and creating the record batch before writing as Indexify gets more vectors over time</span></div></div></div></div><div id=chatlog__message-container-1208152931715776622 class=chatlog__message-container data-message-id=1208152931715776622><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, February 16, 2024 8:48â€¯PM">8:48â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Instead if the connection or some other abstraction can cache all this and the user gets to write rows it might be more friendly</span></div></div></div></div><div id=chatlog__message-container-1208153043208773673 class=chatlog__message-container data-message-id=1208153043208773673><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, February 16, 2024 8:48â€¯PM">8:48â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>At the same time, the current API gets out of the way I guess for someone who is super comfortable with arrow</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208154987499102278 class=chatlog__message-container data-message-id=1208154987499102278><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=diptanuc>diptanuc</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1208150964767555595')"> The crate needs a lot of love <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"> </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Friday, February 16, 2024 8:56â€¯PM"><a href=#chatlog__message-container-1208154987499102278>2/16/2024 8:56â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yeah, we have a major refactor that&#39;s getting wrapped up in a week or two. thanks for your patience in the meantime</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208155302713757706 class=chatlog__message-container data-message-id=1208155302713757706><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=diptanuc>diptanuc</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1208152931715776622')"> Instead if the connection or some other abstraction can cache all this and the user gets to write rows it might be more friendly </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Friday, February 16, 2024 8:57â€¯PM"><a href=#chatlog__message-container-1208155302713757706>2/16/2024 8:57â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>are these rows coming in as Rust structs? Or some dynamic structure like a protobuf record or smth?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208157025696088084 class=chatlog__message-container data-message-id=1208157025696088084><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1208155302713757706')"> are these rows coming in as Rust structs? Or some dynamic structure like a protobuf record or smth? </span></div></div><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Friday, February 16, 2024 9:04â€¯PM"><a href=#chatlog__message-container-1208157025696088084>2/16/2024 9:04â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Rust structs</span></div></div></div></div><div id=chatlog__message-container-1208157119883251822 class=chatlog__message-container data-message-id=1208157119883251822><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, February 16, 2024 9:05â€¯PM">9:05â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Indexify handles the conversion from wire protocol to rust structs before writing into vector dbs</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208163034506203177 class=chatlog__message-container data-message-id=1208163034506203177><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Friday, February 16, 2024 9:28â€¯PM"><a href=#chatlog__message-container-1208163034506203177>2/16/2024 9:28â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is the schema always the same?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208163169059479602 class=chatlog__message-container data-message-id=1208163169059479602><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Friday, February 16, 2024 9:29â€¯PM"><a href=#chatlog__message-container-1208163169059479602>2/16/2024 9:29â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>The input will be a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Vec&lt;MyRustStruct&gt;</code>?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208163688658509926 class=chatlog__message-container data-message-id=1208163688658509926><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Friday, February 16, 2024 9:31â€¯PM"><a href=#chatlog__message-container-1208163688658509926>2/16/2024 9:31â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="dnsco">@dnsco</span> didnâ€™t you open source the rust struct to arrow schema conversion thing?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208177385418260481 class=chatlog__message-container data-message-id=1208177385418260481><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Friday, February 16, 2024 10:25â€¯PM"><a href=#chatlog__message-container-1208177385418260481>2/16/2024 10:25â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>There is <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">serde_arrow</code> <a href="https://docs.rs/serde_arrow/latest/serde_arrow/">https://docs.rs/serde_arrow/latest/serde_arrow/</a></span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href="https://docs.rs/serde_arrow/latest/serde_arrow/"><div class="chatlog__markdown chatlog__markdown-preserve">serde_arrow - Rust</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve"><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">serde_arrow</code> - convert sequences Rust objects to / from arrow arrays</div></div></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208196505731731566 class=chatlog__message-container data-message-id=1208196505731731566><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1208163034506203177')"> Is the schema always the same? </span></div></div><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Friday, February 16, 2024 11:41â€¯PM"><a href=#chatlog__message-container-1208196505731731566>2/16/2024 11:41â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yeah the schema is always smae man. The metadata might change, but we talked about using struct for that yesterday</span></div></div></div></div><div id=chatlog__message-container-1208196592838905929 class=chatlog__message-container data-message-id=1208196592838905929><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, February 16, 2024 11:41â€¯PM">11:41â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>It&#39;s basically 3 columns - id, vector, and metadata (which I don&#39;t have yet in my implementation)</span></div></div></div></div><div id=chatlog__message-container-1208196751941701792 class=chatlog__message-container data-message-id=1208196751941701792><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, February 16, 2024 11:42â€¯PM">11:42â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>By the way, I have been DMing Weston, so we have a PR now - <a href="https://github.com/tensorlakeai/indexify/pull/353/files#diff-9e8b740378151f2f302d815dbdeac216a6e7c035285c408df726a5cbeca08f95">https://github.com/tensorlakeai/indexify/pull/353/files#diff-9e8b740378151f2f302d815dbdeac216a6e7c035285c408df726a5cbeca08f95</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/tensorlakeai/indexify/pull/353/files><div class="chatlog__markdown chatlog__markdown-preserve">Lancedb by diptanu &#183; Pull Request #353 &#183; tensorlakeai/indexify</div></a></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/-JxFbVOsrw6uoC_L9GqNAitd3dj3k01luJdaV4I6gaI/%3Fs%3D400%26v%3D4/https/avatars.githubusercontent.com/u/21833> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/-JxFbVOsrw6uoC_L9GqNAitd3dj3k01luJdaV4I6gaI/%3Fs%3D400%26v%3D4/https/avatars.githubusercontent.com/u/21833 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div><div id=chatlog__message-container-1208196902840172574 class=chatlog__message-container data-message-id=1208196902840172574><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, February 16, 2024 11:43â€¯PM">11:43â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>It needs a ton of improvement - like I am not creating index or running any cleanup, etc.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208198405101326416 class=chatlog__message-container data-message-id=1208198405101326416><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Friday, February 16, 2024 11:49â€¯PM"><a href=#chatlog__message-container-1208198405101326416>2/16/2024 11:49â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>for local experimentation that should already go pretty far. If a lot of users are adding 1 row at a time, an option could be to just run compaction + cleanup every X writes automatically to keep performance high</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208198793972162570 class=chatlog__message-container data-message-id=1208198793972162570><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Friday, February 16, 2024 11:50â€¯PM"><a href=#chatlog__message-container-1208198793972162570>2/16/2024 11:50â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Users add a PDF, video, or whatever into Indexify. Indexify&#39;s compute engine then breaks up the content into chunks, embedding or other structured data and inserts them into the vector store</span> <span class=chatlog__edited-timestamp title="Friday, February 16, 2024 11:51â€¯PM">(edited)</span></div></div></div></div><div id=chatlog__message-container-1208198975010639962 class=chatlog__message-container data-message-id=1208198975010639962><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, February 16, 2024 11:51â€¯PM">11:51â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>So we would be inserting N vectors at a time but yeah if it goes far without an index it should be ok</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208203678801072208 class=chatlog__message-container data-message-id=1208203678801072208><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, February 17, 2024 12:10â€¯AM"><a href=#chatlog__message-container-1208203678801072208>2/17/2024 12:10â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>the metadata piece will be interesting. LanceDB is more postgres than mongodb. You can have multiple vector columns and arbitrary metadata columns for filtering, but the tradeoff is you need to provide a table schema</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208203823009632297 class=chatlog__message-container data-message-id=1208203823009632297><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Saturday, February 17, 2024 12:10â€¯AM"><a href=#chatlog__message-container-1208203823009632297>2/17/2024 12:10â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yeah that&#39;s why I was asking if it was possible to filter by attributes within a column</span></div></div></div></div><div id=chatlog__message-container-1208203925753438298 class=chatlog__message-container data-message-id=1208203925753438298><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, February 17, 2024 12:11â€¯AM">12:11â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>In postgres I can do json path queries to filter by attributes of metadata key/value pairs</span></div></div></div></div><div id=chatlog__message-container-1208204016497197146 class=chatlog__message-container data-message-id=1208204016497197146><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, February 17, 2024 12:11â€¯AM">12:11â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I think I understand how the solution would look on lancedb if I could create columns for every metadata key</span></div></div></div></div><div id=chatlog__message-container-1208204212463468544 class=chatlog__message-container data-message-id=1208204212463468544><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, February 17, 2024 12:12â€¯AM">12:12â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>It&#39;s doable - we will have to trace the extractors (which can be written by users) with some sample input and get the metadata keys at the time a new extractor is deployed</span></div></div></div></div><div id=chatlog__message-container-1208204308953309284 class=chatlog__message-container data-message-id=1208204308953309284><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, February 17, 2024 12:12â€¯AM">12:12â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>But then the keys can&#39;t be dynamic in runtime</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208204751796306022 class=chatlog__message-container data-message-id=1208204751796306022><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, February 17, 2024 12:14â€¯AM"><a href=#chatlog__message-container-1208204751796306022>2/17/2024 12:14â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>you can add additional columns after table creation, though I don&#39;t remember if we tested it for new struct subfields</span></div></div></div></div><div id=chatlog__message-container-1208204927659286559 class=chatlog__message-container data-message-id=1208204927659286559><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, February 17, 2024 12:15â€¯AM">12:15â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Weston knows about the filtering features better than me at this point. And Will knows the merge table behavior best</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup_tone4><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ðŸ¾ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d-1f3fe.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208319605471182929 class=chatlog__message-container data-message-id=1208319605471182929><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Saturday, February 17, 2024 7:50â€¯AM"><a href=#chatlog__message-container-1208319605471182929>2/17/2024 7:50â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Do you guys cross compile Lance for aarch64 platforms? <span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span></span></div></div></div></div><div id=chatlog__message-container-1208319619958444102 class=chatlog__message-container data-message-id=1208319619958444102><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, February 17, 2024 7:50â€¯AM">7:50â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">error: failed to run custom build command for `lance-table v0.9.15`

Caused by:
  process didn&#39;t exit successfully: `/target/debug/build/lance-table-71c2960ed19aab7b/build-script-build` (exit status: 1)
  --- stdout
  cargo:rerun-if-changed=protos

  --- stderr
  Error: Custom { kind: Other, error: &quot;protoc failed: google/protobuf/timestamp.proto: File not found.\ntable.proto:23:1: Import \&quot;google/protobuf/timestamp.proto\&quot; was not found or had errors.\ntable.proto:88:3: \&quot;google.protobuf.Timestamp\&quot; is not defined.\n&quot; }
warning: build failed, waiting for other jobs to finish...</code></span></div></div></div></div><div id=chatlog__message-container-1208319883612262430 class=chatlog__message-container data-message-id=1208319883612262430><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, February 17, 2024 7:51â€¯AM">7:51â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We use cross to cross compile indexify for arm64 linux machines, its failing for this one crate. I think we need the protoc arm64 package in there but just checking how you guys do it</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208322475536949258 class=chatlog__message-container data-message-id=1208322475536949258><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Saturday, February 17, 2024 8:02â€¯AM"><a href=#chatlog__message-container-1208322475536949258>2/17/2024 8:02â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>In case anyone else bumps into this issue, this fixed it - <a href="https://github.com/tensorlakeai/indexify/commit/65fb482f4a96dd790cfb34e8a7a28dc1d5efb67e">https://github.com/tensorlakeai/indexify/commit/65fb482f4a96dd790cfb34e8a7a28dc1d5efb67e</a></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208323099783602236 class=chatlog__message-container data-message-id=1208323099783602236><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, February 17, 2024 8:04â€¯AM"><a href=#chatlog__message-container-1208323099783602236>2/17/2024 8:04â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>we ship binaries for the python/typescript bindings which includes arm64 for linux and mac</span></div></div></div></div><div id=chatlog__message-container-1208323408761331742 class=chatlog__message-container data-message-id=1208323408761331742><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, February 17, 2024 8:05â€¯AM">8:05â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>protobuf is required by the data format</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup_tone4><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ðŸ¾ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d-1f3fe.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208323519520444466 class=chatlog__message-container data-message-id=1208323519520444466><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Saturday, February 17, 2024 8:06â€¯AM"><a href=#chatlog__message-container-1208323519520444466>2/17/2024 8:06â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I am unblocked with that commit</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208323538986213456 class=chatlog__message-container data-message-id=1208323538986213456><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, February 17, 2024 8:06â€¯AM"><a href=#chatlog__message-container-1208323538986213456>2/17/2024 8:06â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>ok great</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1209114001284538448 class=chatlog__message-container data-message-id=1209114001284538448><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=diptanuc>diptanuc</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1208203925753438298')"> In postgres I can do json path queries to filter by attributes of metadata key/value pairs </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Monday, February 19, 2024 12:27â€¯PM"><a href=#chatlog__message-container-1209114001284538448>2/19/2024 12:27â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is this on a JSON column?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1209175852714295346 class=chatlog__message-container data-message-id=1209175852714295346><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wpace>WestonPace</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1209114001284538448')"> Is this on a JSON column? </span></div></div><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Monday, February 19, 2024 4:33â€¯PM"><a href=#chatlog__message-container-1209175852714295346>2/19/2024 4:33â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yes</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1209183491003261019 class=chatlog__message-container data-message-id=1209183491003261019><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Monday, February 19, 2024 5:03â€¯PM"><a href=#chatlog__message-container-1209183491003261019>2/19/2024 5:03â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I think adding support for JSON as a data type is a good long term goal.  However, the work will probably have to start all the way down into arrow-rs.  Things like json path queries will need arrow compute functions.  These functions will need to be lifted up into datafusion.  Then it should be pretty straightforward for Lance to offer support.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup_tone4><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ðŸ¾ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d-1f3fe.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1209186724803121203 class=chatlog__message-container data-message-id=1209186724803121203><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Monday, February 19, 2024 5:16â€¯PM"><a href=#chatlog__message-container-1209186724803121203>2/19/2024 5:16â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yeah that makes sense. We are going to trace our extractors and get the metadata keys they emit apriori, and be able to create normal columns for now</span> <span class=chatlog__edited-timestamp title="Monday, February 19, 2024 5:16â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1209883481539215380 class=chatlog__message-container data-message-id=1209883481539215380><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/808445091760308234/80d15a488f52ad03c45ed019cda13eb0.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=vk4835 data-user-id=808445091760308234>Vk</span> <span class=chatlog__timestamp title="Wednesday, February 21, 2024 3:25â€¯PM"><a href=#chatlog__message-container-1209883481539215380>2/21/2024 3:25â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Folks: Curious, any chance you plan to provide support to distributed sql engine like presto? (to connect to lancedb via sql)</span> <span class=chatlog__edited-timestamp title="Wednesday, February 21, 2024 3:25â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1209890965532188763 class=chatlog__message-container data-message-id=1209890965532188763><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/808445091760308234/80d15a488f52ad03c45ed019cda13eb0.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=vk4835>Vk</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1209883481539215380')"> Folks: Curious, any chance you plan to provide support to distributed sql engine like presto? (to connect to lancedb via sql) </span> <span class=chatlog__reply-edited-timestamp title="Wednesday, February 21, 2024 3:25â€¯PM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Wednesday, February 21, 2024 3:54â€¯PM"><a href=#chatlog__message-container-1209890965532188763>2/21/2024 3:54â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">to connect to lancedb via sql
</div></div>You wouldn&#39;t need a distributed engine to use SQL to query lancedb.  We do want to support an SQL interface at some point.

<div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">support to distributed sql engine like presto?
</div></div>I think there are two ways this could be interpreted.

Can lance be used as an input to a distributed query engine?  This should be the same amount of effort to make Lance an input to a non-distributed query engine.  Someone just needs to build an adapter.  For example, it would probably be very little work to get Lance working in a distributed engine that is based on datafusion (e.g. ballista) or a distributed engine that is based on pyarrow datasets.  I&#39;m not sure what kinds of inputs presto supports today so I don&#39;t know how much effort would be required to get presto working.

Can lance use a distributed query engine to satisfy its queries / compute?  In theory, yes.  However, this is probably a longer term goal.  Satisfying a vector search doesn&#39;t usually require a distributed engine (the result set is fairly bounded).  However, non-vector searches, like complex OLAP queries, may benefit from a distributed engine.  We&#39;ll probably add an SQL interface to Lance first, then worry about distributed compute later.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1209896022336340069 class=chatlog__message-container data-message-id=1209896022336340069><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/808445091760308234/80d15a488f52ad03c45ed019cda13eb0.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wpace>WestonPace</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1209890965532188763')"> <div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">to connect to lancedb via sql
</div></div>You wouldn&#39;t need a distributed engine to use SQL to query lancedb.  We do want to support an SQL interface at some point.

<div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">support to distributed sql engine like presto?
</div></div>I think there are two ways this could be interpreted.

Can lance be used as an input to a distributed query engine?  This should be the same amount of effort to make Lance an input to a non-distributed query engine.  Someone just needs to build an adapter.  For example, it would probably be very little work to get Lance working in a distributed engine that is based on datafusion (e.g. ballista) or a distributed engine that is based on pyarrow datasets.  I&#39;m not sure what kinds of inputs presto supports today so I don&#39;t know how much effort would be required to get presto working.

Can lance use a distributed query engine to satisfy its queries / compute?  In theory, yes.  However, this is probably a longer term goal.  Satisfying a vector search doesn&#39;t usually require a distributed engine (the result set is fairly bounded).  However, non-vector searches, like complex OLAP queries, may benefit from a distributed engine.  We&#39;ll probably add an SQL interface to Lance first, then worry about distributed compute later. </span></div></div><div class=chatlog__header><span class=chatlog__author title=vk4835 data-user-id=808445091760308234>Vk</span> <span class=chatlog__timestamp title="Wednesday, February 21, 2024 4:14â€¯PM"><a href=#chatlog__message-container-1209896022336340069>2/21/2024 4:14â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="wpace">@WestonPace</span> Yes. A SQL connector would work as well and a great first step</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1209899322255216691 class=chatlog__message-container data-message-id=1209899322255216691><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/808445091760308234/80d15a488f52ad03c45ed019cda13eb0.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=vk4835>Vk</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1209896022336340069')"> <span class="chatlog__markdown-mention" title="wpace">@WestonPace</span> Yes. A SQL connector would work as well and a great first step </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Wednesday, February 21, 2024 4:27â€¯PM"><a href=#chatlog__message-container-1209899322255216691>2/21/2024 4:27â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>For python users a pretty usable workaround for an SQL connector is to use a Lance table as input to DuckDb (DuckDb can use pyarrow datasets as input).

For rust (and thus JS/TS), we need to do a bit more work.</span></div></div></div></div><div id=chatlog__message-container-1209899746190172190 class=chatlog__message-container data-message-id=1209899746190172190><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, February 21, 2024 4:29â€¯PM">4:29â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Actually, for rust, most of the pieces are there to use Lance via datafusion&#39;s SQL interface.  So it&#39;s probably just a matter of fitting all the pieces together.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1209900373137948774 class=chatlog__message-container data-message-id=1209900373137948774><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/808445091760308234/80d15a488f52ad03c45ed019cda13eb0.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=vk4835>Vk</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1209883481539215380')"> Folks: Curious, any chance you plan to provide support to distributed sql engine like presto? (to connect to lancedb via sql) </span> <span class=chatlog__reply-edited-timestamp title="Wednesday, February 21, 2024 3:25â€¯PM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, February 21, 2024 4:32â€¯PM"><a href=#chatlog__message-container-1209900373137948774>2/21/2024 4:32â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>There is a community effort to bridge into JNI: <a href="https://github.com/lancedb/lance/pull/1928">https://github.com/lancedb/lance/pull/1928</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/pull/1928><div class="chatlog__markdown chatlog__markdown-preserve">feat: [WIP] Implement Java binding by beinan &#183; Pull Request #1928 &#183;...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">This pull request is still under development and addresses the interconnection between Java and Rust using JNI for both write and read paths. Here&#39;s a summary of the progress:
Write Path:

Code...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/b_9tfMLzNOLDS5LKYgER8_dj33t8R1vFt9HquvkaNzw/https/opengraph.githubassets.com/25db1f4a6e12434b6cf9a11df8a3e15b50b0673c4844c143ce4761c81cf5b41f/lancedb/lance/pull/1928> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/b_9tfMLzNOLDS5LKYgER8_dj33t8R1vFt9HquvkaNzw/https/opengraph.githubassets.com/25db1f4a6e12434b6cf9a11df8a3e15b50b0673c4844c143ce4761c81cf5b41f/lancedb/lance/pull/1928 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div><div id=chatlog__message-container-1209900469929902080 class=chatlog__message-container data-message-id=1209900469929902080><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, February 21, 2024 4:32â€¯PM">4:32â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>which would then allow us to connect easily to Spark/Trino/Presto</span></div></div></div></div><div id=chatlog__message-container-1209900605129236660 class=chatlog__message-container data-message-id=1209900605129236660><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, February 21, 2024 4:33â€¯PM">4:33â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>though spark may end up going through Spark connect instead since that can skip the JVM bridge altogether and be natively arrow based</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1209910357783478363 class=chatlog__message-container data-message-id=1209910357783478363><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/808445091760308234/80d15a488f52ad03c45ed019cda13eb0.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1209900373137948774')"> There is a community effort to bridge into JNI: <a href="https://github.com/lancedb/lance/pull/1928">https://github.com/lancedb/lance/pull/1928</a> </span></div></div><div class=chatlog__header><span class=chatlog__author title=vk4835 data-user-id=808445091760308234>Vk</span> <span class=chatlog__timestamp title="Wednesday, February 21, 2024 5:11â€¯PM"><a href=#chatlog__message-container-1209910357783478363>2/21/2024 5:11â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yes. If it works via trino...that would more than suffice</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1209923502723965000 class=chatlog__message-container data-message-id=1209923502723965000><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/808445091760308234/80d15a488f52ad03c45ed019cda13eb0.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=vk4835>Vk</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1209910357783478363')"> Yes. If it works via trino...that would more than suffice </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, February 21, 2024 6:04â€¯PM"><a href=#chatlog__message-container-1209923502723965000>2/21/2024 6:04â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>to be clear, that&#39;s not done yet and will likely take some time <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1209971157659426870 class=chatlog__message-container data-message-id=1209971157659426870><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/808445091760308234/80d15a488f52ad03c45ed019cda13eb0.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1209923502723965000')"> to be clear, that&#39;s not done yet and will likely take some time <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"> </span></div></div><div class=chatlog__header><span class=chatlog__author title=vk4835 data-user-id=808445091760308234>Vk</span> <span class=chatlog__timestamp title="Wednesday, February 21, 2024 9:13â€¯PM"><a href=#chatlog__message-container-1209971157659426870>2/21/2024 9:13â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Ok. Any sense of ETA... Days or months?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1209978138281517057 class=chatlog__message-container data-message-id=1209978138281517057><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, February 21, 2024 9:41â€¯PM"><a href=#chatlog__message-container-1209978138281517057>2/21/2024 9:41â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Not days <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210363106568699964 class=chatlog__message-container data-message-id=1210363106568699964><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:10â€¯PM"><a href=#chatlog__message-container-1210363106568699964>2/22/2024 11:10â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Do you guys support any sort of transactions in lance?</span></div></div></div></div><div id=chatlog__message-container-1210363230766235698 class=chatlog__message-container data-message-id=1210363230766235698><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:11â€¯PM">11:11â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>So imagine some vectors have to be updated, some deleted and some added.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210363970133692417 class=chatlog__message-container data-message-id=1210363970133692417><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:14â€¯PM"><a href=#chatlog__message-container-1210363970133692417>2/22/2024 11:14â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>there&#39;s a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">merge_insert</code> operation that can be configured for flexible batch ingestion (add delete update in the same transaction) <a href="https://docs.rs/vectordb/0.4.10/vectordb/table/trait.Table.html#tymethod.merge_insert">https://docs.rs/vectordb/0.4.10/vectordb/table/trait.Table.html#tymethod.merge_insert</a></span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://docs.rs/vectordb/0.4.10/vectordb/table/trait.Table.html><div class="chatlog__markdown chatlog__markdown-preserve">Table in vectordb::table - Rust</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">A Table is a collection of strong typed Rows.</div></div></div></div></div></div></div></div></div><div id=chatlog__message-container-1210364025641369672 class=chatlog__message-container data-message-id=1210364025641369672><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:14â€¯PM">11:14â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>there&#39;s also a lightweight transaction mechanism</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210364323755728906 class=chatlog__message-container data-message-id=1210364323755728906><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:15â€¯PM"><a href=#chatlog__message-container-1210364323755728906>2/22/2024 11:15â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Ah that should work</span></div></div></div></div><div id=chatlog__message-container-1210365207227011132 class=chatlog__message-container data-message-id=1210365207227011132><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:19â€¯PM">11:19â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I imagine how RPC based vector stores support something like this</span></div></div></div></div><div id=chatlog__message-container-1210365291696230450 class=chatlog__message-container data-message-id=1210365291696230450><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:19â€¯PM">11:19â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Unless there is a wire protocol for transaction begin and end, it&#39;s hard to do this stuff over http</span></div></div></div></div><div id=chatlog__message-container-1210365591991619684 class=chatlog__message-container data-message-id=1210365591991619684><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:20â€¯PM">11:20â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Like imagine updatinng 1000s of vectors in a single transaction or removing them, etc, to ensure search doesn&#39;t bring up vectors from an older and newer version of docs</span></div></div></div></div><div id=chatlog__message-container-1210365696542908487 class=chatlog__message-container data-message-id=1210365696542908487><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:21â€¯PM">11:21â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Chang whats your view on this topic?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210366592953880616 class=chatlog__message-container data-message-id=1210366592953880616><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:24â€¯PM"><a href=#chatlog__message-container-1210366592953880616>2/22/2024 11:24â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>You can stream data into merge_insert.

However, if you really want, the capabilities exist at the underlying <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lance</code> level.  It&#39;s basically:
<ul><li>Look at some version of the database, plan what you want to do</li><li>Create the new files as quickly or slowly as you want using the fragment-level APIs</li><li>Once everything has been updated how you want it then you execute commit and pass it the list of new fragments</li></ul></span> <span class=chatlog__edited-timestamp title="Thursday, February 22, 2024 11:24â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210366771039838298 class=chatlog__message-container data-message-id=1210366771039838298><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=diptanuc>diptanuc</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1210365696542908487')"> Chang whats your view on this topic? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:25â€¯PM"><a href=#chatlog__message-container-1210366771039838298>2/22/2024 11:25â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i&#39;m not sure how those services would handle it. i suppose if they added new request api&#39;s to mark start and end of transactions that <em>could</em> work, but the broader question is without a versioning mechanism, those vectors would become part of the index immediately</span></div></div></div></div><div id=chatlog__message-container-1210366947506790432 class=chatlog__message-container data-message-id=1210366947506790432><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:26â€¯PM">11:26â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>you&#39;d have to go through some sort of complicate ritual where there&#39;s a replica and then periodically sync it to a read replica between transactions <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ¤·"
    title="person_shrugging"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f937.svg">â€â™‚ï¸</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210367820001710140 class=chatlog__message-container data-message-id=1210367820001710140><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:29â€¯PM"><a href=#chatlog__message-container-1210367820001710140>2/22/2024 11:29â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">you&#39;d have to go through some sort of complicate ritual where there&#39;s a replica and then periodically sync it to a read replica between transactions
</div></div>Yes, I think it wouldn&#39;t be hard if you wanted to start with a frozen snapshot of the database, make a bunch of changes, then run commit.
However, if you wanted those changes to be visible to the transaction in the meantime then you would need something like what you describe.

E.g.

This would be doable
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">BEGIN TRANSACTION
UPDATE ... WHERE ...
INSERT ...
COMMIT TRANSACTION</code>

This would be hard
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">BEGIN TRANSACTION
INSERT ...
UPDATE ... WHERE ... -- Expect this to update the rows just inserted
COMMIT TRANSACTION</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210368432957300797 class=chatlog__message-container data-message-id=1210368432957300797><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:32â€¯PM"><a href=#chatlog__message-container-1210368432957300797>2/22/2024 11:32â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yeah without a begin and a commit I don&#39;t see how this can be done.</span></div></div></div></div><div id=chatlog__message-container-1210368644341571634 class=chatlog__message-container data-message-id=1210368644341571634><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:32â€¯PM">11:32â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I thought about adding a version type thing to solve this in the interim on top of some of these vector stores but it doesn&#39;t work out well.</span></div></div></div></div><div id=chatlog__message-container-1210368931190014003 class=chatlog__message-container data-message-id=1210368931190014003><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:34â€¯PM">11:34â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>What&#39;s surprising is no one really talks about all these issues lol</span> <span class=chatlog__edited-timestamp title="Thursday, February 22, 2024 11:34â€¯PM">(edited)</span></div></div></div></div><div id=chatlog__message-container-1210369099725537300 class=chatlog__message-container data-message-id=1210369099725537300><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:34â€¯PM">11:34â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>So many services claim to keep indexes updated, but I don&#39;t really see any watermarks about conistency model or latency, etc.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210369112786731058 class=chatlog__message-container data-message-id=1210369112786731058><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:34â€¯PM"><a href=#chatlog__message-container-1210369112786731058>2/22/2024 11:34â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>this is a form of optimistic concurrent control (OCC)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210369209754980382 class=chatlog__message-container data-message-id=1210369209754980382><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:35â€¯PM"><a href=#chatlog__message-container-1210369209754980382>2/22/2024 11:35â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>IMO, these kinds of transactions are mostly for the case where you need to update two tables in lockstep.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210369312838127666 class=chatlog__message-container data-message-id=1210369312838127666><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=lei.xu>lei</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1210369112786731058')"> this is a form of optimistic concurrent control (OCC) </span></div></div><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:35â€¯PM"><a href=#chatlog__message-container-1210369312838127666>2/22/2024 11:35â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>The versioning approach?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210369379112329268 class=chatlog__message-container data-message-id=1210369379112329268><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:35â€¯PM"><a href=#chatlog__message-container-1210369379112329268>2/22/2024 11:35â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>No, the begin/commit approach.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup_tone4><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ðŸ¾ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d-1f3fe.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div><div id=chatlog__message-container-1210369683325321386 class=chatlog__message-container data-message-id=1210369683325321386><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:37â€¯PM">11:37â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;m not saying it doesn&#39;t happen, I&#39;m just trying to think up a good killer use case</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210369750404702218 class=chatlog__message-container data-message-id=1210369750404702218><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:37â€¯PM"><a href=#chatlog__message-container-1210369750404702218>2/22/2024 11:37â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Oh killer use case is document 1 gets updated with 1 prime</span></div></div></div></div><div id=chatlog__message-container-1210369815651422298 class=chatlog__message-container data-message-id=1210369815651422298><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:37â€¯PM">11:37â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>And the compute for extraction is obvioulsy going to be asynchronous</span></div></div></div></div><div id=chatlog__message-container-1210369923466137671 class=chatlog__message-container data-message-id=1210369923466137671><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:37â€¯PM">11:37â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>At some point when the extraction is complete, the search at a given time needs to either respond with content from 1 or 1 prime</span></div></div></div></div><div id=chatlog__message-container-1210369969208959046 class=chatlog__message-container data-message-id=1210369969208959046><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:38â€¯PM">11:38â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Can&#39;t return some stuff from the older and some from the new</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210370224394731570 class=chatlog__message-container data-message-id=1210370224394731570><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:39â€¯PM"><a href=#chatlog__message-container-1210370224394731570>2/22/2024 11:39â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hmm...let me try phrasing it another way.  If we had a &quot;piecemeal merge_insert&quot; then I think we don&#39;t need begin/commit for the above use case.</span></div></div></div></div><div id=chatlog__message-container-1210370450270715924 class=chatlog__message-container data-message-id=1210370450270715924><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:40â€¯PM">11:40â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>So &quot;piecemeal merge_insert&quot; is...
<ul><li>Upload data to the remote server (don&#39;t add to the table)</li><li>When all data is uploaded</li><li>Execute merge_insert, feeding in the data that is already on the remote server</li></ul></span> <span class=chatlog__edited-timestamp title="Thursday, February 22, 2024 11:40â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210370451658907678 class=chatlog__message-container data-message-id=1210370451658907678><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:40â€¯PM"><a href=#chatlog__message-container-1210370451658907678>2/22/2024 11:40â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yeah, if you could have a single <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">add</code> or <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">merge_insert</code> operation span multiple API calls, then that&#39;s fine</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210370710086619147 class=chatlog__message-container data-message-id=1210370710086619147><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wpace>WestonPace</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1210370450270715924')"> So &quot;piecemeal merge_insert&quot; is...
<ul><li>Upload data to the remote server (don&#39;t add to the table)</li><li>When all data is uploaded</li><li>Execute merge_insert, feeding in the data that is already on the remote server</li></ul> </span> <span class=chatlog__reply-edited-timestamp title="Thursday, February 22, 2024 11:40â€¯PM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:41â€¯PM"><a href=#chatlog__message-container-1210370710086619147>2/22/2024 11:41â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Indexify does point 1 and 2, that is sends out compute work for extraction, stores the extracted result in a buffer on S3 and now comes the part of inserting them into storage systems which is the tricky part</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210370789988368384 class=chatlog__message-container data-message-id=1210370789988368384><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:41â€¯PM"><a href=#chatlog__message-container-1210370789988368384>2/22/2024 11:41â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">yeah, if you could have a single add or merge_insert operation span multiple API calls, then that&#39;s fine
</div></div>We already have some (<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lance</code> not <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lancedb</code>) examples/use cases where we spread an <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">add</code> across multiple API calls (e.g. slurm)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210370805092057188 class=chatlog__message-container data-message-id=1210370805092057188><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:41â€¯PM"><a href=#chatlog__message-container-1210370805092057188>2/22/2024 11:41â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We create a &quot;MergePlan&quot;</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210370910092136548 class=chatlog__message-container data-message-id=1210370910092136548><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1210370451658907678')"> yeah, if you could have a single <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">add</code> or <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">merge_insert</code> operation span multiple API calls, then that&#39;s fine </span></div></div><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:41â€¯PM"><a href=#chatlog__message-container-1210370910092136548>2/22/2024 11:41â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yeah</span></div></div></div></div><div id=chatlog__message-container-1210371044104339568 class=chatlog__message-container data-message-id=1210371044104339568><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:42â€¯PM">11:42â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Anyhow ... people will have to leave with a window of inconsistency now unless vector stores support these things.</span></div></div></div></div><div id=chatlog__message-container-1210371099536269396 class=chatlog__message-container data-message-id=1210371099536269396><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:42â€¯PM">11:42â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>PgVector supports this because of postgres</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210372902734536704 class=chatlog__message-container data-message-id=1210372902734536704><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:49â€¯PM"><a href=#chatlog__message-container-1210372902734536704>2/22/2024 11:49â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I think a good first step would be exposing the &quot;piecemeal operations&quot; API that kind of implicitly lives on Lance up to LanceDb in someway and maybe begin/commit is a good way to do that.

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight"># piecemeal insert
my_table = conn.open_table(&quot;foo&quot;)
my_insert = my_table.start_insert()
my_insert.add(...)
my_insert.add(...)
my_insert.add(...)
my_insert.commit()</code>
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight"># piecemeal update
my_table = conn.open_table(&quot;foo&quot;)
my_merge = my_table.start_merge_insert(&quot;id&quot;).when_matched_update_all().begin()
my_merge.add(...)
my_merge.add(...)
my_merge.add(...)
my_merge.commit()</code></span> <span class=chatlog__edited-timestamp title="Thursday, February 22, 2024 11:51â€¯PM">(edited)</span></div></div></div></div><div id=chatlog__message-container-1210373187041361971 class=chatlog__message-container data-message-id=1210373187041361971><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:50â€¯PM">11:50â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>It&#39;s not full fledged isolated transactions, but it solves the killer use case you described (if I understand it correctly)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210373287012733008 class=chatlog__message-container data-message-id=1210373287012733008><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:51â€¯PM"><a href=#chatlog__message-container-1210373287012733008>2/22/2024 11:51â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yeah this should work</span></div></div></div></div><div id=chatlog__message-container-1210373445075075132 class=chatlog__message-container data-message-id=1210373445075075132><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:51â€¯PM">11:51â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Whats your definition of full fledged isolation?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210373697550946335 class=chatlog__message-container data-message-id=1210373697550946335><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:52â€¯PM"><a href=#chatlog__message-container-1210373697550946335>2/22/2024 11:52â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>When I think of isolation and transactions I think back to my hibernate days and concepts like repeatable reads, read committed, phantom reads, etc.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210373702173196318 class=chatlog__message-container data-message-id=1210373702173196318><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:52â€¯PM"><a href=#chatlog__message-container-1210373702173196318>2/22/2024 11:52â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>And does <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">start_insert</code> guaruantee that the index would be updated for all the things I have added until commit?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210373816199675955 class=chatlog__message-container data-message-id=1210373816199675955><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:53â€¯PM"><a href=#chatlog__message-container-1210373816199675955>2/22/2024 11:53â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">When I think of isolation and transactions I think back to my hibernate days and concepts like repeatable reads, read committed, phantom reads, etc.
</div></div>Which I guess all boils down to &quot;being able to query and see the effects of your own changes without having committed the tx&quot;</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210374002124660806 class=chatlog__message-container data-message-id=1210374002124660806><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:54â€¯PM"><a href=#chatlog__message-container-1210374002124660806>2/22/2024 11:54â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Well I mean that type of stuff requires some commitment upfront about the consistency model of the database</span></div></div></div></div><div id=chatlog__message-container-1210374111180755014 class=chatlog__message-container data-message-id=1210374111180755014><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:54â€¯PM">11:54â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>The type of guarantees DynamoDB makes is enough IMO for most usecases</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210374186456059915 class=chatlog__message-container data-message-id=1210374186456059915><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:54â€¯PM"><a href=#chatlog__message-container-1210374186456059915>2/22/2024 11:54â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">And does start_insert guaruantee that the index would be updated for all the things I have added until commit?
</div></div>It would be no different than <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">add</code>.  Once you run commit the things you added will show up in searches (not because they&#39;re indexed, but because we search new uindexed data).  You could update the index before <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">commit</code> and those things wouldn&#39;t be indexed.  If you update the index after <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">commit</code> then the new stuff is in the index.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup_tone4><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ðŸ¾ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d-1f3fe.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210374203962957876 class=chatlog__message-container data-message-id=1210374203962957876><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:54â€¯PM"><a href=#chatlog__message-container-1210374203962957876>2/22/2024 11:54â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>transactions, isolation within a single shard, etc.</span></div></div></div></div><div id=chatlog__message-container-1210374292278222878 class=chatlog__message-container data-message-id=1210374292278222878><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:55â€¯PM">11:55â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>For what you guys are doing I think it&#39;s totally achievable. Distributed datastores will have a harder time to do all this</span></div></div></div></div><div id=chatlog__message-container-1210374495169286195 class=chatlog__message-container data-message-id=1210374495169286195><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 22, 2024 11:56â€¯PM">11:56â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Cool, thanks for the conversation. This is not a blocker for us, we will just have to be open about the semantics of &quot;update&quot; with users.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210667203519713310 class=chatlog__message-container data-message-id=1210667203519713310><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Friday, February 23, 2024 7:19â€¯PM"><a href=#chatlog__message-container-1210667203519713310>2/23/2024 7:19â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="wpace">@WestonPace</span> Does lance run the compaction and other index optimizaiton tasks on it&#39;s own or applicatoins have to do it on their own if they are using the rust library?</span></div></div></div></div><div id=chatlog__message-container-1210667343185715221 class=chatlog__message-container data-message-id=1210667343185715221><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, February 23, 2024 7:19â€¯PM">7:19â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We did this experiemnt of adding 35k wikipedia pages on our laptops with Lance as the vectordb backend and over time it started getting slow</span></div></div></div></div><div id=chatlog__message-container-1210667532915056700 class=chatlog__message-container data-message-id=1210667532915056700><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, February 23, 2024 7:20â€¯PM">7:20â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>The lancedb folder on disk is around 3G</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210667688616005783 class=chatlog__message-container data-message-id=1210667688616005783><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Friday, February 23, 2024 7:21â€¯PM"><a href=#chatlog__message-container-1210667688616005783>2/23/2024 7:21â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Compaction &amp; index updates do not run on their own today.  You have to trigger them manually.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup_tone4><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ðŸ¾ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d-1f3fe.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210667770556190730 class=chatlog__message-container data-message-id=1210667770556190730><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Friday, February 23, 2024 7:21â€¯PM"><a href=#chatlog__message-container-1210667770556190730>2/23/2024 7:21â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Are these thread safe operations?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210667899111608350 class=chatlog__message-container data-message-id=1210667899111608350><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Friday, February 23, 2024 7:22â€¯PM"><a href=#chatlog__message-container-1210667899111608350>2/23/2024 7:22â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yes, and they should both be able to run concurrently with updates if I remember correctly.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup_tone4><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ðŸ¾ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d-1f3fe.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210668428042575942 class=chatlog__message-container data-message-id=1210668428042575942><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Friday, February 23, 2024 7:24â€¯PM"><a href=#chatlog__message-container-1210668428042575942>2/23/2024 7:24â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>They can run concurrently with appends, but not updates or upserts.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210669040276873277 class=chatlog__message-container data-message-id=1210669040276873277><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Friday, February 23, 2024 7:26â€¯PM"><a href=#chatlog__message-container-1210669040276873277>2/23/2024 7:26â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>What will happen? The updates and upserts will block or something?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210669056403836978 class=chatlog__message-container data-message-id=1210669056403836978><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Friday, February 23, 2024 7:26â€¯PM"><a href=#chatlog__message-container-1210669056403836978>2/23/2024 7:26â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>(yes, sorry, was thinking append and said update)</span></div></div></div></div><div id=chatlog__message-container-1210669106693541898 class=chatlog__message-container data-message-id=1210669106693541898><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, February 23, 2024 7:26â€¯PM">7:26â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">What will happen? The updates and upserts will block or something?
</div></div>One of the two operations will fail</span></div></div></div></div><div id=chatlog__message-container-1210669219499475114 class=chatlog__message-container data-message-id=1210669219499475114><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, February 23, 2024 7:27â€¯PM">7:27â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Typically whichever one runs later</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210669318719676446 class=chatlog__message-container data-message-id=1210669318719676446><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Friday, February 23, 2024 7:27â€¯PM"><a href=#chatlog__message-container-1210669318719676446>2/23/2024 7:27â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Gotcha</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1212412450666713158 class=chatlog__message-container data-message-id=1212412450666713158><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/779784350320689152/1fd145c1b6ca0dad1e498fe85a4a02d9.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=nicolaygerold data-user-id=779784350320689152>Nicolay</span> <span class=chatlog__timestamp title="Wednesday, February 28, 2024 2:54â€¯PM"><a href=#chatlog__message-container-1212412450666713158>2/28/2024 2:54â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey! What would be the best approach to add some additional AI operations to the data collection &amp; insertion. I am collecting data in batches before inserting it into the lance database. 

Now, I need to add some additional classifications and embedding calculations around that. The embeddings are not required for the vector search with lance, but for topic classifications and filtering after the vector search. I need to do those in advance to ensure high speed. 

I have multiple options: 
(a) run it during the data collection and add the new fields to the schema so I can insert it. 
(b) insert the collected data with a unique id, send the texts, which I use for the classification / embeddings to another endpoint with the id and then update the rows with the classes and embeddings. I also could batch the collection and insert the entire column. 
(c) insert the collected data with a unique id and calculate classes / embeddings completely async and store it somewhere else (e.g. key-value store).</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1212425400538628101 class=chatlog__message-container data-message-id=1212425400538628101><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, February 28, 2024 3:45â€¯PM"> <a href=#chatlog__message-container-1212425400538628101>2/28/2024 3:45â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1214323323631173692 class=chatlog__message-container data-message-id=1214323323631173692><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=daniel.mackenthun data-user-id=1182386606099935276>Daniel</span> <span class=chatlog__timestamp title="Monday, March 4, 2024 9:27â€¯PM"><a href=#chatlog__message-container-1214323323631173692>3/4/2024 9:27â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi! Is there a list of sql operators that can be pushed down from DuckDB to LanceDB through the DuckDB integration?
<a href="https://lancedb.github.io/lancedb/python/duckdb/">https://lancedb.github.io/lancedb/python/duckdb/</a></span> <span class=chatlog__edited-timestamp title="Monday, March 4, 2024 9:29â€¯PM">(edited)</span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href="https://lancedb.github.io/lancedb/python/duckdb/"><div class="chatlog__markdown chatlog__markdown-preserve">DuckDB</div></a></div></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1214324600255553596 class=chatlog__message-container data-message-id=1214324600255553596><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=daniel.mackenthun>Daniel</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1214323323631173692')"> Hi! Is there a list of sql operators that can be pushed down from DuckDB to LanceDB through the DuckDB integration?
<a href="https://lancedb.github.io/lancedb/python/duckdb/">https://lancedb.github.io/lancedb/python/duckdb/</a> </span> <span class=chatlog__reply-edited-timestamp title="Monday, March 4, 2024 9:29â€¯PM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Monday, March 4, 2024 9:32â€¯PM"><a href=#chatlog__message-container-1214324600255553596>3/4/2024 9:32â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Right now this is limited to (in)equalities (&gt;, &gt;=, &lt;, &lt;=, <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">=</code>) and (is null / is not null).</span> <span class=chatlog__edited-timestamp title="Monday, March 4, 2024 9:32â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1214330955284746400 class=chatlog__message-container data-message-id=1214330955284746400><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wjones127>Will Jones</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1214324600255553596')"> Right now this is limited to (in)equalities (&gt;, &gt;=, &lt;, &lt;=, <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">=</code>) and (is null / is not null). </span> <span class=chatlog__reply-edited-timestamp title="Monday, March 4, 2024 9:32â€¯PM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author title=daniel.mackenthun data-user-id=1182386606099935276>Daniel</span> <span class=chatlog__timestamp title="Monday, March 4, 2024 9:57â€¯PM"><a href=#chatlog__message-container-1214330955284746400>3/4/2024 9:57â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Are there any plans to support pushdown for other search functions?

For context, I have a use case that would benefit from pushing down processing of a similarity search function (list_cosine_similarity). I want to do this from DuckDB because I am using it to execute complex filters on nested data or within a join. The alternative is to search LanceDB and then perform the security filters in DuckDB through a separate post filtering query.</span> <span class=chatlog__edited-timestamp title="Tuesday, March 5, 2024 3:37â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1214331471708430386 class=chatlog__message-container data-message-id=1214331471708430386><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Monday, March 4, 2024 9:59â€¯PM"><a href=#chatlog__message-container-1214331471708430386>3/4/2024 9:59â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>do you need to aggregations or just filters? If it&#39;s just filters, you could do something like <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lancedb_table.search().where(&quot;&lt;the whole where clause&gt;&quot;).to_arrow()</code></span></div></div></div></div><div id=chatlog__message-container-1214331545859661874 class=chatlog__message-container data-message-id=1214331545859661874><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Monday, March 4, 2024 10:00â€¯PM">10:00â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lancedb_table.search(&lt;query vector&gt;).where(&quot;&lt;the whole where clause&gt;&quot;).to_arrow()</code></span></div></div></div></div><div id=chatlog__message-container-1214331594312122371 class=chatlog__message-container data-message-id=1214331594312122371><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Monday, March 4, 2024 10:00â€¯PM">10:00â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>by default that would run the filter after the vector search</span></div></div></div></div><div id=chatlog__message-container-1214331655247101962 class=chatlog__message-container data-message-id=1214331655247101962><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Monday, March 4, 2024 10:00â€¯PM">10:00â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>if you want the filter to run before search, then set prefilter=True in <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">where</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1214417850970677309 class=chatlog__message-container data-message-id=1214417850970677309><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=daniel.mackenthun data-user-id=1182386606099935276>Daniel</span> <span class=chatlog__timestamp title="Tuesday, March 5, 2024 3:42â€¯AM"><a href=#chatlog__message-container-1214417850970677309>3/5/2024 3:42â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I would need to be able to perform some aggregations, joins, and filters in the same query. Here is a sample query that shows type of thing I&#39;d like to do. In this case all of the data is stored in DuckDB except the lance_embeddings_table which only contains the primary key for the target table and the corresponding embeddings.

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">  SELECT
    list_cosine_similarity(e.embedding, &lt;insert query vector&gt;) AS similarity_score,
    order.salesOrderId
  FROM SalesOrder AS order 
  LEFT OUTER JOIN (
    SELECT d.salesOrderId AS orderId, sum(d.orderQty) AS totalOrderQty FROM SalesOrderDetail AS d
    GROUP BY orderId
  ) AS detail ON order.salesOrderid = detail.orderId
  LEFT OUTER JOIN Customer AS customer ON order.customerId = customer.customerId
  LEFT OUTER JOIN lance_embeddings_table AS e ON e.vector_id = order.salesOrderId
  WHERE order.salesOrderId &gt; 0 AND detail.totalOrderQty &gt;= 100 AND customer.salesRepId == &lt;insert sales rep userId&gt;
  ORDER BY similarity_score DESC LIMIT 10</code></span> <span class=chatlog__edited-timestamp title="Tuesday, March 5, 2024 3:44â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1214434310963204146 class=chatlog__message-container data-message-id=1214434310963204146><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=daniel.mackenthun>Daniel</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1214417850970677309')"> I would need to be able to perform some aggregations, joins, and filters in the same query. Here is a sample query that shows type of thing I&#39;d like to do. In this case all of the data is stored in DuckDB except the lance_embeddings_table which only contains the primary key for the target table and the corresponding embeddings.

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">  SELECT
    list_cosine_similarity(e.embedding, &lt;insert query vector&gt;) AS similarity_score,
    order.salesOrderId
  FROM SalesOrder AS order 
  LEFT OUTER JOIN (
    SELECT d.salesOrderId AS orderId, sum(d.orderQty) AS totalOrderQty FROM SalesOrderDetail AS d
    GROUP BY orderId
  ) AS detail ON order.salesOrderid = detail.orderId
  LEFT OUTER JOIN Customer AS customer ON order.customerId = customer.customerId
  LEFT OUTER JOIN lance_embeddings_table AS e ON e.vector_id = order.salesOrderId
  WHERE order.salesOrderId &gt; 0 AND detail.totalOrderQty &gt;= 100 AND customer.salesRepId == &lt;insert sales rep userId&gt;
  ORDER BY similarity_score DESC LIMIT 10</code> </span> <span class=chatlog__reply-edited-timestamp title="Tuesday, March 5, 2024 3:44â€¯AM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Tuesday, March 5, 2024 4:48â€¯AM"><a href=#chatlog__message-container-1214434310963204146>3/5/2024 4:48â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>It looks like you want to push down a vector search / ANN search.  That isn&#39;t supported yet (to the best of my knowledge, duckdb doesn&#39;t allow pushing down anything other than filters).

However, you could start by doing the vector search part in Lance and outputting the result to a table (if your output is 10 rows you don&#39;t really need to &quot;stream into duckdb&quot;)

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">SELECT list_cosine_similarity(e.embedding, &lt;insert query vector&gt;) AS similarity_score, order.salesOrderId FROM SalesOrder AS order ORDER BY similarity_score DESC LIMIT 10</code>

That becomes:

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">sales_order_table.search(query=&lt;insert query vector&gt;, vector_column_name=&quot;embedding&quot;).limit(10).select(&quot;_distance&quot;, &quot;salesOrderId&quot;).to_arrow()</code>

That will give you a table with 10 rows.  You can then feed that into duckdb for the rest of the search:

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">SELECT _distance AS similarity_score, salesOrderId FROM &lt;previous_result&gt; LEFT OUTER JOIN ( ... ) AS ... LEFT OUTER JOIN ( ... ) AS ... LEFT OUTER JOIN ( ... ) AS ...</code>

The only thing that is missing right now is the ability to use cosine as the distance metric.  That&#39;s available in lance so you could do this if you drop down to lance.  Otherwise, it&#39;s being added to the new python async API that&#39;s in development which should be reading in a few weeks.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1214581721316728832 class=chatlog__message-container data-message-id=1214581721316728832><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wpace>WestonPace</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1214434310963204146')"> It looks like you want to push down a vector search / ANN search.  That isn&#39;t supported yet (to the best of my knowledge, duckdb doesn&#39;t allow pushing down anything other than filters).

However, you could start by doing the vector search part in Lance and outputting the result to a table (if your output is 10 rows you don&#39;t really need to &quot;stream into duckdb&quot;)

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">SELECT list_cosine_similarity(e.embedding, &lt;insert query vector&gt;) AS similarity_score, order.salesOrderId FROM SalesOrder AS order ORDER BY similarity_score DESC LIMIT 10</code>

That becomes:

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">sales_order_table.search(query=&lt;insert query vector&gt;, vector_column_name=&quot;embedding&quot;).limit(10).select(&quot;_distance&quot;, &quot;salesOrderId&quot;).to_arrow()</code>

That will give you a table with 10 rows.  You can then feed that into duckdb for the rest of the search:

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">SELECT _distance AS similarity_score, salesOrderId FROM &lt;previous_result&gt; LEFT OUTER JOIN ( ... ) AS ... LEFT OUTER JOIN ( ... ) AS ... LEFT OUTER JOIN ( ... ) AS ...</code>

The only thing that is missing right now is the ability to use cosine as the distance metric.  That&#39;s available in lance so you could do this if you drop down to lance.  Otherwise, it&#39;s being added to the new python async API that&#39;s in development which should be reading in a few weeks. </span></div></div><div class=chatlog__header><span class=chatlog__author title=daniel.mackenthun data-user-id=1182386606099935276>Daniel</span> <span class=chatlog__timestamp title="Tuesday, March 5, 2024 2:34â€¯PM"><a href=#chatlog__message-container-1214581721316728832>3/5/2024 2:34â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yep that is exactly what I&#39;m trying to do. Thanks for the help! This gives me enough to go off of for now. I&#39;ll give it a try later. Not tied to the cosine distance metric, just ended up using it when prototyping.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1219170381898977331 class=chatlog__message-container data-message-id=1219170381898977331><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/5.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=remarkable_wolf_12227 data-user-id=1185508683728302141>kk</span> <span class=chatlog__timestamp title="Monday, March 18, 2024 6:27â€¯AM"><a href=#chatlog__message-container-1219170381898977331>3/18/2024 6:27â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Guysï¼ŒI would like to ask, what is the maximum amount of data that can be processed locally?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1219288611795632275 class=chatlog__message-container data-message-id=1219288611795632275><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, March 18, 2024 2:17â€¯PM"> <a href=#chatlog__message-container-1219288611795632275>3/18/2024 2:17â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1230999724581064775 class=chatlog__message-container data-message-id=1230999724581064775><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Friday, April 19, 2024 9:53â€¯PM"><a href=#chatlog__message-container-1230999724581064775>4/19/2024 9:53â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Sup <span class="chatlog__markdown-mention" title="ayushexel">@AyushC</span> and <span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span>! Just wanted to drop this blog post from MotherDuck here to get some thoughts from you guys:
<a href="https://motherduck.com/blog/search-using-duckdb-part-1/">https://motherduck.com/blog/search-using-duckdb-part-1/</a></span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href="https://motherduck.com/blog/search-using-duckdb-part-1/"><div class="chatlog__markdown chatlog__markdown-preserve">Building AI-Powered Search in DuckDB</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Discover the power of vector embeddings in natural language processing in the first blog in our informative three-part series! We&#39;ll cover the basics of vector embeddings and cosine similarity using DuckDB and MotherDuck.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/gURu0gC2HGYnwWOFkfvn2cqJ3EzHtalABj8nJEcGaC8/https/motherduck-com-web-prod.s3.amazonaws.com/assets/img/Search_Using_Duck_DB_series_1_of_3_007effdde5.png> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/gURu0gC2HGYnwWOFkfvn2cqJ3EzHtalABj8nJEcGaC8/https/motherduck-com-web-prod.s3.amazonaws.com/assets/img/Search_Using_Duck_DB_series_1_of_3_007effdde5.png alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div><div id=chatlog__message-container-1231000046393102460 class=chatlog__message-container data-message-id=1231000046393102460><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, April 19, 2024 9:54â€¯PM">9:54â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Basically they are constrained to doing a kNN search. Now with the DuckDB/LanceDB integration, is it possible to go one step further and do a hybrid search on a Lance Table from DuckDB SQL? Or is that not currently possible?</span></div></div></div></div><div id=chatlog__message-container-1231000482483273768 class=chatlog__message-container data-message-id=1231000482483273768><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, April 19, 2024 9:56â€¯PM">9:56â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;m seeing from Weston&#39;s messages above that what I&#39;m asking isn&#39;t possible, but I&#39;d love to know of ideas on how to integrate the two tools via the Python layer in between, too</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1231000744573009930 class=chatlog__message-container data-message-id=1231000744573009930><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Friday, April 19, 2024 9:57â€¯PM"><a href=#chatlog__message-container-1231000744573009930>4/19/2024 9:57â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Currently itâ€™s not possible to push down an ANN search</span></div></div></div></div><div id=chatlog__message-container-1231000915624984586 class=chatlog__message-container data-message-id=1231000915624984586><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, April 19, 2024 9:58â€¯PM">9:58â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>The easiest path could be that we make a lance extension in DuckDB that can expose a table function</span></div></div></div></div><div id=chatlog__message-container-1231001070260719696 class=chatlog__message-container data-message-id=1231001070260719696><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, April 19, 2024 9:58â€¯PM">9:58â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>More ideally DuckDB would expose some place in its planner for extensions to use ANN when indexing is available</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1231001362750247057 class=chatlog__message-container data-message-id=1231001362750247057><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Friday, April 19, 2024 9:59â€¯PM"><a href=#chatlog__message-container-1231001362750247057>4/19/2024 9:59â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>For the former suggestion, would that be in Python or at the lower level?</span></div></div></div></div><div id=chatlog__message-container-1231001401434312714 class=chatlog__message-container data-message-id=1231001401434312714><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, April 19, 2024 10:00â€¯PM">10:00â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>For the latter, I agree that that would be the ideal solution</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1231001756322889729 class=chatlog__message-container data-message-id=1231001756322889729><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Friday, April 19, 2024 10:01â€¯PM"><a href=#chatlog__message-container-1231001756322889729>4/19/2024 10:01â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>For the former it would be native DuckDB extension level. Which would require loading an extension (but that may not be terrible)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1231001884857335910 class=chatlog__message-container data-message-id=1231001884857335910><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Friday, April 19, 2024 10:02â€¯PM"><a href=#chatlog__message-container-1231001884857335910>4/19/2024 10:02â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yup, that&#39;s not terrible at all!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1231001985394933900 class=chatlog__message-container data-message-id=1231001985394933900><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Friday, April 19, 2024 10:02â€¯PM"><a href=#chatlog__message-container-1231001985394933900>4/19/2024 10:02â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>For the latter it mainly depends on what kind of ecosystem and customizability DuckDB wants to support</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1231002034082418749 class=chatlog__message-container data-message-id=1231002034082418749><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Friday, April 19, 2024 10:02â€¯PM"><a href=#chatlog__message-container-1231002034082418749>4/19/2024 10:02â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Would love to see how that would look - a lot of that directly applies to us at K&#249;zu too <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ˜€"
    title="grinning"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f600.svg"></span></div></div></div></div><div id=chatlog__message-container-1231002171680755864 class=chatlog__message-container data-message-id=1231002171680755864><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, April 19, 2024 10:03â€¯PM">10:03â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I think I&#39;ll open an issue about this on their GitHub</span> <span class=chatlog__edited-timestamp title="Friday, April 19, 2024 10:06â€¯PM">(edited)</span></div></div></div></div><div id=chatlog__message-container-1231002251661807646 class=chatlog__message-container data-message-id=1231002251661807646><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, April 19, 2024 10:03â€¯PM">10:03â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Best to see if it&#39;s worth tackling the lower hanging fruit (DuckDB extension) first</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1231097151275274295 class=chatlog__message-container data-message-id=1231097151275274295><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=ayushexel data-user-id=1032079688887189556>AyushC</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Saturday, April 20, 2024 4:20â€¯AM"> <a href=#chatlog__message-container-1231097151275274295>4/20/2024 4:20â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1231776790507421777 class=chatlog__message-container data-message-id=1231776790507421777><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1214743934580953139/000c132517a9ffdf8bb9d47ada15d5ac.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=marcoswastaken data-user-id=1214743934580953139>marcos</span> <span class=chatlog__timestamp title="Monday, April 22, 2024 1:21â€¯AM"><a href=#chatlog__message-container-1231776790507421777>4/22/2024 1:21â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I currently am using lanceDB as part of a RAG pipeline, and I am trying to test a variety of query parameters to evaluate their impace on the quality of results, for example:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">a = tbl.search(query_embedding).where(&quot;condition1&quot;, prefilter=True).metric(&quot;cosine&quot;).limit(50).nprobes(32).refine_factor(10)
b = tbl.search(query_embedding).where(&quot;condition2&quot;, prefilter=True).metric(&quot;cosine&quot;).limit(50).nprobes(32).refine_factor(10)
c = tbl.search(query_embedding).where(&quot;condition1&quot;, prefilter=True).where(&quot;condition2&quot;, prefilter=True).metric(&quot;cosine&quot;).limit(50).nprobes(32).refine_factor(10)</code>
etc...

I have several such conditions I&#39;d like to experiment with the combinations of, so it is unwieldy to define each query manually. Do you have any suggestions on the best way to approach this? (I was thinking about constructing the conditions as SQL expressions in some automated way but I figured I&#39;d ask you guys in case I&#39;m missing something nicer.)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1231933961605742597 class=chatlog__message-container data-message-id=1231933961605742597><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, April 22, 2024 11:45â€¯AM"> <a href=#chatlog__message-container-1231933961605742597>4/22/2024 11:45â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1231982082667057233 class=chatlog__message-container data-message-id=1231982082667057233><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/301919579876229130/621fd50f9aa22d3afa6dbb4c04c72a0e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=leonyin_ data-user-id=301919579876229130>Leon Yin</span> <span class=chatlog__timestamp title="Monday, April 22, 2024 2:56â€¯PM"><a href=#chatlog__message-container-1231982082667057233>4/22/2024 2:56â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi! Does anyone know if using a SQL <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">like</code> clause to search text in a query is case sensitive?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1233562285189103666 class=chatlog__message-container data-message-id=1233562285189103666><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/874024849549443083/82ae4877b6329b4d8ab2440a270e9278.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jmeks data-user-id=874024849549443083>JMEKS</span> <span class=chatlog__timestamp title="Friday, April 26, 2024 11:36â€¯PM"><a href=#chatlog__message-container-1233562285189103666>4/26/2024 11:36â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey <span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span> how do I get access to lancedb cloud?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1233563109835149484 class=chatlog__message-container data-message-id=1233563109835149484><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/874024849549443083/82ae4877b6329b4d8ab2440a270e9278.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=jmeks>JMEKS</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1233562285189103666')"> Hey <span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span> how do I get access to lancedb cloud? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Friday, April 26, 2024 11:39â€¯PM"><a href=#chatlog__message-container-1233563109835149484>4/26/2024 11:39â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Be nice to me</span></div></div></div></div><div id=chatlog__message-container-1233563551982157865 class=chatlog__message-container data-message-id=1233563551982157865><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, April 26, 2024 11:41â€¯PM">11:41â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>In all seriousness - itâ€™s under private preview. Send an email to qian@lancedb.com and weâ€™ll get you on the list. Should be ready soon</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1233564717201489941 class=chatlog__message-container data-message-id=1233564717201489941><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/874024849549443083/82ae4877b6329b4d8ab2440a270e9278.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1233563109835149484')"> Be nice to me </span></div></div><div class=chatlog__header><span class=chatlog__author title=jmeks data-user-id=874024849549443083>JMEKS</span> <span class=chatlog__timestamp title="Friday, April 26, 2024 11:45â€¯PM"><a href=#chatlog__message-container-1233564717201489941>4/26/2024 11:45â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>lol ok sending now!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1234843237353656340 class=chatlog__message-container data-message-id=1234843237353656340><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/550656390679494657/492c95bfd1ad14bf1c9f2eb6edb1109d.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1233563551982157865')"> In all seriousness - itâ€™s under private preview. Send an email to qian@lancedb.com and weâ€™ll get you on the list. Should be ready soon </span></div></div><div class=chatlog__header><span class=chatlog__author title=gabriel_syme data-user-id=550656390679494657>ð“…¬ gabriel_syme ð“…¬</span> <span class=chatlog__timestamp title="Tuesday, April 30, 2024 12:26â€¯PM"><a href=#chatlog__message-container-1234843237353656340>4/30/2024 12:26â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>really nice to see the enterprise options there now; I&#39;ll be sending an email tomorrow <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"></span></div></div></div></div><div id=chatlog__message-container-1234843293985149049 class=chatlog__message-container data-message-id=1234843293985149049><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, April 30, 2024 12:26â€¯PM">12:26â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;d be very keen to discuss how we can initiate a pilot</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1238259446984212481 class=chatlog__message-container data-message-id=1238259446984212481><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/5.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=tobler6762 data-user-id=690232919343497418>Edmondo</span> <span class=chatlog__timestamp title="Thursday, May 9, 2024 10:40â€¯PM"><a href=#chatlog__message-container-1238259446984212481>5/9/2024 10:40â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>how do I become a core committer of LanceDB? <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ˜„"
    title="smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f604.svg"></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1238367240450211881 class=chatlog__message-container data-message-id=1238367240450211881><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Friday, May 10, 2024 5:49â€¯AM"><a href=#chatlog__message-container-1238367240450211881>5/10/2024 5:49â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Pick some <a href="https://github.com/lancedb/lancedb/issues">https://github.com/lancedb/lancedb/issues</a> <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/issues><div class="chatlog__markdown chatlog__markdown-preserve">Issues &#183; lancedb/lancedb</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Developer-friendly, serverless vector database for AI applications. Easily add long-term memory to your LLM apps! - Issues &#183; lancedb/lancedb</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/Qz7uGjYZqAz3V9YjMpXlEQMUnp5jO4QQ5q5yye_xG-w/https/opengraph.githubassets.com/cc377375f67721f29a213f4ec0b288f4e1f81f3eaff11f2d83d3ffeee1737fe3/lancedb/lancedb> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/Qz7uGjYZqAz3V9YjMpXlEQMUnp5jO4QQ5q5yye_xG-w/https/opengraph.githubassets.com/cc377375f67721f29a213f4ec0b288f4e1f81f3eaff11f2d83d3ffeee1737fe3/lancedb/lancedb alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1238468005403295744 class=chatlog__message-container data-message-id=1238468005403295744><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1111466525367476264/6a61a0d246ae4c2e435d93c0962d4626.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=allenwgx data-user-id=1111466525367476264>AllenWGX</span> <span class=chatlog__timestamp title="Friday, May 10, 2024 12:29â€¯PM"><a href=#chatlog__message-container-1238468005403295744>5/10/2024 12:29â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I have some questions about LanceDB

1. Does LanceDB support inserting and searching data simultaneously ? If yes, what about the performance when inserting and searching simultaneously ?
2. I have already built a index for previous dataset. If more and more data being added, will these new data be indexed automatically or I have to build a new index myself ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1238515577757110318 class=chatlog__message-container data-message-id=1238515577757110318><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, May 10, 2024 3:38â€¯PM"> <a href=#chatlog__message-container-1238515577757110318>5/10/2024 3:38â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1239570751636377701 class=chatlog__message-container data-message-id=1239570751636377701><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/630287131847294976/6e1d52b62630594580016dd0475ca3e1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=yudhiesh data-user-id=630287131847294976>yudhiesh</span> <span class=chatlog__timestamp title="Monday, May 13, 2024 1:31â€¯PM"><a href=#chatlog__message-container-1239570751636377701>5/13/2024 1:31â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>How do I add in new columns to a table without using sql values? I have an embedding column but want to add in another one using a different model. I noticed there is <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">add_columns</code> but it only accepts a mapping of the column with a SQL expressiong to use. Can&#39;t I just pass in a mapping of the index and the new column name with the value of the new embedding?

EDIT: Figured out that I can just do a merge on the table</span> <span class=chatlog__edited-timestamp title="Monday, May 13, 2024 1:48â€¯PM">(edited)</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>2</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1240237935291535380 class=chatlog__message-container data-message-id=1240237935291535380><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=pperduta_96022 data-user-id=1224989728542032046>pperduta</span> <span class=chatlog__timestamp title="Wednesday, May 15, 2024 9:42â€¯AM"><a href=#chatlog__message-container-1240237935291535380>5/15/2024 9:42â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi everyone. We are considering using LanceDB backed by remote S3 for our vector embedding tables, which have a range of 100M+ rows (index size of 10GB). I want to confirm my understanding: when I send a query through LanceDB, does the remote index (on S3) get accessed part by part through all of its 10GB of data before the query result is built? This seems inefficient, so I&#39;m wondering if I&#39;m missing something. Is there an index cache mechanism in place that I haven&#39;t found in the source code?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1240273119550373953 class=chatlog__message-container data-message-id=1240273119550373953><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, May 15, 2024 12:02â€¯PM"> <a href=#chatlog__message-container-1240273119550373953>5/15/2024 12:02â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1240512224519520266 class=chatlog__message-container data-message-id=1240512224519520266><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/630287131847294976/6e1d52b62630594580016dd0475ca3e1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=yudhiesh data-user-id=630287131847294976>yudhiesh</span> <span class=chatlog__timestamp title="Thursday, May 16, 2024 3:52â€¯AM"><a href=#chatlog__message-container-1240512224519520266>5/16/2024 3:52â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Iâ€™m deploying a LanceDB table backed by S3 to be searched within an API. I have a question about the data consistency when doing so. Do I load the table once during container startup via a singleton and then the table will take care of consistency if I set the â€˜read_consistency_intervalâ€™ by polling the underlying AWS S3 bucket?  Or do I create the connection with the table on every request?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1240532850160173072 class=chatlog__message-container data-message-id=1240532850160173072><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, May 16, 2024 5:14â€¯AM"> <a href=#chatlog__message-container-1240532850160173072>5/16/2024 5:14â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1240874732954587217 class=chatlog__message-container data-message-id=1240874732954587217><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/630287131847294976/6e1d52b62630594580016dd0475ca3e1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=yudhiesh data-user-id=630287131847294976>yudhiesh</span> <span class=chatlog__timestamp title="Friday, May 17, 2024 3:53â€¯AM"><a href=#chatlog__message-container-1240874732954587217>5/17/2024 3:53â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is it recommended to use LanceDB when documents are meant to be streamed into a vector store? For example, documents are ingested via a Kafka Topic into LanceDB. So far based on my experience it seems that LanceDB is more suitable for static data or data that is updated in a batch manner.</span> <span class=chatlog__edited-timestamp title="Friday, May 17, 2024 3:55â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1240898793935863858 class=chatlog__message-container data-message-id=1240898793935863858><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/630287131847294976/6e1d52b62630594580016dd0475ca3e1.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=yudhiesh>yudhiesh</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1240874732954587217')"> Is it recommended to use LanceDB when documents are meant to be streamed into a vector store? For example, documents are ingested via a Kafka Topic into LanceDB. So far based on my experience it seems that LanceDB is more suitable for static data or data that is updated in a batch manner. </span> <span class=chatlog__reply-edited-timestamp title="Friday, May 17, 2024 3:55â€¯AM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Friday, May 17, 2024 5:28â€¯AM"><a href=#chatlog__message-container-1240898793935863858>5/17/2024 5:28â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>It works a bit better right now for batch / static, but we are working on features to improve the streaming use case. Right now for the streaming stuff you have to do a lot more manual calls to compact data, cleanup versions, and do incremental index updates. But later this year that will be all automatic.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1240901666400899112 class=chatlog__message-container data-message-id=1240901666400899112><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/630287131847294976/6e1d52b62630594580016dd0475ca3e1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wjones127>Will Jones</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1240898793935863858')"> It works a bit better right now for batch / static, but we are working on features to improve the streaming use case. Right now for the streaming stuff you have to do a lot more manual calls to compact data, cleanup versions, and do incremental index updates. But later this year that will be all automatic. </span></div></div><div class=chatlog__header><span class=chatlog__author title=yudhiesh data-user-id=630287131847294976>yudhiesh</span> <span class=chatlog__timestamp title="Friday, May 17, 2024 5:40â€¯AM"><a href=#chatlog__message-container-1240901666400899112>5/17/2024 5:40â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Great to hear that!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1242766334127771658 class=chatlog__message-container data-message-id=1242766334127771658><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/630287131847294976/6e1d52b62630594580016dd0475ca3e1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=yudhiesh data-user-id=630287131847294976>yudhiesh</span> <span class=chatlog__timestamp title="Wednesday, May 22, 2024 9:09â€¯AM"><a href=#chatlog__message-container-1242766334127771658>5/22/2024 9:09â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi I am trying to benchmark LanceDB comparing it to a couple of other vector databases using a modified version of <a href="https://myscale.github.io/benchmark/#/">https://myscale.github.io/benchmark/#/</a>

I have benchmarked a couple of other Vector DB&#39;s on the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">laion-768-5m-probability</code> dataset from the benchmark, which performs a filter on a column, <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">probability</code> checking if the values are <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;</code> or  <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">&gt;</code> a filter value. 

Since the dataset has 5 million vectors of 768 dimension I would need to create and train an IVF-PQ index as per the documentation. Now, based on my understanding of how the algorithm works in conjunction with filters we would have to perform a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">pre-filter</code> and then an exact/brute force search over the data, instead of an approximate search since there isn&#39;t an efficient in-algorithm implementation of the IVF_PQ index in LanceDB which would support filters while searching. Is my understanding correct?

If that is so then if I am performing a filter and my data is big enough I shouldn&#39;t even bother creating a IVF_PQ index since I will always perform an exact search over my data, never ever leveraging the IVF_PQ index unless I have a use case that never requires a filter?

More information:
<ul><li>OpenSearch has an efficient during search filter approximate search option as detailed here <a href="https://opensearch.org/docs/latest/search-plugins/knn/filter-search-knn">https://opensearch.org/docs/latest/search-plugins/knn/filter-search-knn</a></li><li>Pinecone describes how using a pre-filter would disrupt how the ANN index we have built is searched on here in the part about <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">pre-filtering</code> <a href="https://www.pinecone.io/learn/vector-search-filtering/">https://www.pinecone.io/learn/vector-search-filtering/</a></li></ul></span> <span class=chatlog__edited-timestamp title="Wednesday, May 22, 2024 9:15â€¯AM">(edited)</span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://opensearch.org/docs/latest/search-plugins/knn/filter-search-knn><div class="chatlog__markdown chatlog__markdown-preserve">k-NN search with filters</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">k-NN search with filters</div></div></div></div></div></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href="https://www.pinecone.io/learn/vector-search-filtering/"><div class="chatlog__markdown chatlog__markdown-preserve">The Missing WHERE Clause in Vector Search | Pinecone</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Vector similarity search makes massive datasets searchable in fractions of a second. Yet despite the brilliance and utility of this technology, often what seem to be the most straightforward problems are the most difficult to solve. Such as filtering.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href="https://images-ext-1.discordapp.net/external/ikY2bK9AqaCJgsTiHIbf-HKu8ivbaoEpXvr8K--QFso/%3Ftitle%3DThe%2520Missing%2520WHERE%2520Clause%2520in%2520Vector%2520Search/https/www.pinecone.io/api/og/"> <img class=chatlog__embed-thumbnail src="https://images-ext-1.discordapp.net/external/ikY2bK9AqaCJgsTiHIbf-HKu8ivbaoEpXvr8K--QFso/%3Ftitle%3DThe%2520Missing%2520WHERE%2520Clause%2520in%2520Vector%2520Search/https/www.pinecone.io/api/og/" alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1242854604648222808 class=chatlog__message-container data-message-id=1242854604648222808><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, May 22, 2024 3:00â€¯PM"> <a href=#chatlog__message-container-1242854604648222808>5/22/2024 3:00â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1242928231506645052 class=chatlog__message-container data-message-id=1242928231506645052><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/874024849549443083/82ae4877b6329b4d8ab2440a270e9278.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jmeks data-user-id=874024849549443083>JMEKS</span> <span class=chatlog__timestamp title="Wednesday, May 22, 2024 7:53â€¯PM"><a href=#chatlog__message-container-1242928231506645052>5/22/2024 7:53â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="wpace">@WestonPace</span> What&#39;s different about the new v2 file format?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1243491703353249822 class=chatlog__message-container data-message-id=1243491703353249822><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/630287131847294976/6e1d52b62630594580016dd0475ca3e1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=yudhiesh data-user-id=630287131847294976>yudhiesh</span> <span class=chatlog__timestamp title="Friday, May 24, 2024 9:12â€¯AM"><a href=#chatlog__message-container-1243491703353249822>5/24/2024 9:12â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey I am running a benchmark on LanceDB to AWS S3 vs other vector databases. The benchmark framework I am using splits the dataset into batches and runs parallel upload(using multiprocessing) of said batches to the vector database. When running the benchmark for 5 million vectors, I get the following error:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">Traceback (most recent call last):
  File &quot;/home/ec2-user/.pyenv/versions/3.10.10/lib/python3.10/multiprocessing/pool.py&quot;, line 125, in worker
    result = (True, func(*args, **kwds))
  File &quot;/home/ec2-user/environment/vector_db_benchmark/vector-db-benchmark/engine/base_client/upload.py&quot;, line 99, in _upload_batch
    cls.upload_batch(ids, vectors, metadata)
  File &quot;/home/ec2-user/environment/vector_db_benchmark/vector-db-benchmark/engine/clients/lancedb/upload.py&quot;, line 58, in upload_batch
    cls.table.add(data)
  File &quot;/home/ec2-user/environment/vector_db_benchmark/vector-db-benchmark/venv/lib/python3.10/site-packages/lancedb/table.py&quot;, line 1273, in add
    self._ref.dataset = lance.write_dataset(
  File &quot;/home/ec2-user/environment/vector_db_benchmark/vector-db-benchmark/venv/lib/python3.10/site-packages/lance/dataset.py&quot;, line 2404, in write_dataset
    inner_ds = _write_dataset(reader, uri, params)
OSError: LanceError(IO): failed to decode Protobuf message: invalid tag value: 0, /home/runner/work/lance/lance/rust/lance-io/src/utils.rs:99:12</code>
I remember asking about streaming ingestion to LanceDB and it needing some additional manual calls. Could this be caused by not making manual calls to compact data, cleanup versions, and do incremental index updates.

The MultiprocessingPool is created via a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">spawn</code>.</span> <span class=chatlog__edited-timestamp title="Friday, May 24, 2024 9:16â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1245257881616519168 class=chatlog__message-container data-message-id=1245257881616519168><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/630287131847294976/6e1d52b62630594580016dd0475ca3e1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=yudhiesh data-user-id=630287131847294976>yudhiesh</span> <span class=chatlog__timestamp title="Wednesday, May 29, 2024 6:10â€¯AM"><a href=#chatlog__message-container-1245257881616519168>5/29/2024 6:10â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi I am noticing painfully slow search queries when performing a prefilter(selectivity is <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">1%</code>) on a dataset of 5 million 768 dimension vectors hosted on an AWS S3 bucket, P99 is 8.8s. 
Summary of the search results on 1k queries in a single process:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">&quot;mean_time&quot;: 7.709742074786976,
&quot;mean_precision&quot;: 0.875,
&quot;std_time&quot;: 0.3908572682415239,
&quot;min_time&quot;: 7.253300348005723,
&quot;max_time&quot;: 15.283278482005699,
&quot;rps&quot;: 0.12966502288383028,
&quot;p95_time&quot;: 8.174534844692971,
&quot;p99_time&quot;: 8.797405455986153,</code>
The table and the client are in the same region. 

Filter is performed on a column called probability which is randomly generated using a uniform distribution where if selectivity is 1% we filter for <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">value &lt;= 0.01</code>.

Here is a bit about the flow of the process:
1. Ingest documents with a batch size of 50k items
2. Run compaction and cleanup before building the ANN index with default settings
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">table.to_lance().optimize.compact_files()
table.to_lance().cleanup_old_versions(older_than=timedelta(days=0))
table.create_index(
  metric=distance,
  vector_column_name=LANCEDB_VECTOR_COLUMN_NAME,
)</code>
3. Search with params(<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">nprobes=30, refine_factor=20, top=10</code>)
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight"> search_results = (
    table.search(vector, vector_column_name=LANCEDB_VECTOR_COLUMN_NAME)
    .metric(distance)
    .where(
        parser.parse(meta_conditions),
        prefilter=True,
    )
    .limit(top)
    .nprobes(search_params.get(&quot;nprobes&quot;))
    .refine_factor(cls.search_params.get(&quot;refine_factor&quot;))
    .to_list()
)</code>
Latency with every other vector database I have tried such as pgvector, Pinecone, Zilliz, Qdrant, etc. is in the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">ms</code> range not <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">seconds</code>. Any idea what could be causing such slow queries?</span> <span class=chatlog__edited-timestamp title="Wednesday, May 29, 2024 6:37â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1245265509360992373 class=chatlog__message-container data-message-id=1245265509360992373><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=yudhiesh data-user-id=630287131847294976>yudhiesh</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, May 29, 2024 6:40â€¯AM"> <a href=#chatlog__message-container-1245265509360992373>5/29/2024 6:40â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1246801790188654727 class=chatlog__message-container data-message-id=1246801790188654727><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/779784350320689152/1fd145c1b6ca0dad1e498fe85a4a02d9.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=nicolaygerold data-user-id=779784350320689152>Nicolay</span> <span class=chatlog__timestamp title="Sunday, June 2, 2024 12:25â€¯PM"><a href=#chatlog__message-container-1246801790188654727>6/2/2024 12:25â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I want to use lancedb embedded in the application which is running serverless (atm GCP) and when I finish execution push it to a cloud storage service for long term storage. Has anyone tested the different cloud providers / something like Modal on which is most suitable for embedded LanceDB? 

I think GCP doesnâ€™t natively support mounted file storage whereas AWS does.

Also any adobe on efficient inserts? Just dropping files or reading and inserting?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1246876102509723719 class=chatlog__message-container data-message-id=1246876102509723719><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Sunday, June 2, 2024 5:20â€¯PM"><a href=#chatlog__message-container-1246876102509723719>6/2/2024 5:20â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Modal volumes isnâ€™t 100% compatible with the object-store crate we use to write data. 

If your service will have multiple nodes, easiest would be use smth like EFS / S3 express as a shared data layer</span></div></div></div></div><div id=chatlog__message-container-1246876480806453319 class=chatlog__message-container data-message-id=1246876480806453319><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Sunday, June 2, 2024 5:21â€¯PM">5:21â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I think technically you can configure LanceDB to write to two locations (eg local store and s3), <span class="chatlog__markdown-mention" title="chebbychefneq">@Rob Meng</span> I forgot if itâ€™s documented?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1247237717826338898 class=chatlog__message-container data-message-id=1247237717826338898><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/391128555297308674/97efe4d294828c277b30b62dd2ea08a9.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=shivk.eth data-user-id=391128555297308674>shiv</span> <span class=chatlog__timestamp title="Monday, June 3, 2024 5:17â€¯PM"><a href=#chatlog__message-container-1247237717826338898>6/3/2024 5:17â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey everyone! it&#39;s my first post here in the server. Have been experimenting with lance recently. But I&#39;m struggling to create a retriever. Thought you guys might have already stumbled onto this problem.

Here&#39;s my code:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight"># Specify the path to the directory containing the text files
path = &quot;./documents/&quot;

# Initialise the DirectoryLoader with the path and TextLoader class
loader = DirectoryLoader(path, glob=&quot;*.txt&quot;, loader_cls=TextLoader)

# Load the text files from the directory
docs = loader.load()

# Extract the text content from each Document object
texts = [doc.page_content for doc in docs]

# define the text splitter
text_splitter = RecursiveCharacterTextSplitter(
    # Set a small chunk size
    chunk_size=500,
    chunk_overlap=100,
    length_function=len,
    is_separator_regex=False,
)

# Split the text content into chunks
chunks = []
for text in texts:
    chunks.extend(text_splitter.create_documents([text]))

# Create a list of dictionaries with &#39;page_content&#39; keys
dict_list = [{&#39;page_content&#39;: doc.page_content} for doc in chunks]

# Connect to LanceDB
db = lancedb.connect(&quot;~/lancedb&quot;)

# Get the embedding function
func = get_registry().get(&quot;openai&quot;).create(name=&quot;text-embedding-3-small&quot;)

# Define the pydantic schema
class Documents(LanceModel):
    page_content: str = func.SourceField()
    vector: Vector(func.ndims()) = func.VectorField()

# Create a new table with the defined schema
table = db.create_table(&quot;documents&quot;, schema=Documents, mode=&quot;overwrite&quot;)

# Add chunks to the table
table.add(dict_list)</code>

Then when I search:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">table.search(&quot;some_query&quot;).limit(3).to_list()</code>
It outputs just fine.

But I can&#39;t for the life of me, work out, how to create a retriever using Langchain.</span></div></div></div></div><div id=chatlog__message-container-1247237778132045944 class=chatlog__message-container data-message-id=1247237778132045944><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Monday, June 3, 2024 5:17â€¯PM">5:17â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>An example of a retriever using FAISS is:

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight"># Step4: Create vector storage with embeddings, prepare the retriever

from langchain.vectorstores import FAISS
from langchain_community.embeddings import OllamaEmbeddings

db = FAISS.from_documents(documents, OllamaEmbeddings(model=&quot;nomic-embed-text&quot;,show_progress=True))
retriever = db.as_retriever(search_type=&quot;similarity&quot;, search_kwargs={&quot;k&quot;: 4})</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1247244917307216002 class=chatlog__message-container data-message-id=1247244917307216002><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=nicolaygerold data-user-id=779784350320689152>Nicolay</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, June 3, 2024 5:46â€¯PM"> <a href=#chatlog__message-container-1247244917307216002>6/3/2024 5:46â€¯PM</a> </span></div></div></div><div id=chatlog__message-container-1247252331293053026 class=chatlog__message-container data-message-id=1247252331293053026><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, June 3, 2024 6:15â€¯PM"> <a href=#chatlog__message-container-1247252331293053026>6/3/2024 6:15â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248023250630611109 class=chatlog__message-container data-message-id=1248023250630611109><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=marsupialtail data-user-id=737185232494788668>marsupialtail</span> <span class=chatlog__timestamp title="Wednesday, June 5, 2024 9:18â€¯PM"><a href=#chatlog__message-container-1248023250630611109>6/5/2024 9:18â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>it would seem that the doc link is broken:<a href="https://lancedb.github.io/lancedb/python/python/python/">https://lancedb.github.io/lancedb/python/python/python/</a></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248024785099817060 class=chatlog__message-container data-message-id=1248024785099817060><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, June 5, 2024 9:24â€¯PM"><a href=#chatlog__message-container-1248024785099817060>6/5/2024 9:24â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://lancedb.github.io/lancedb/python/python/">https://lancedb.github.io/lancedb/python/python/</a></span></div></div></div></div><div id=chatlog__message-container-1248024807572770886 class=chatlog__message-container data-message-id=1248024807572770886><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, June 5, 2024 9:25â€¯PM">9:25â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>one too many pythons lol</span></div></div></div></div><div id=chatlog__message-container-1248024850078109797 class=chatlog__message-container data-message-id=1248024850078109797><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, June 5, 2024 9:25â€¯PM">9:25â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>what linked to that?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248024874400747521 class=chatlog__message-container data-message-id=1248024874400747521><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=marsupialtail data-user-id=737185232494788668>marsupialtail</span> <span class=chatlog__timestamp title="Wednesday, June 5, 2024 9:25â€¯PM"><a href=#chatlog__message-container-1248024874400747521>6/5/2024 9:25â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I think on your main API docs</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248025080454189297 class=chatlog__message-container data-message-id=1248025080454189297><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, June 5, 2024 9:26â€¯PM"><a href=#chatlog__message-container-1248025080454189297>6/5/2024 9:26â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>the left nav? that link seems to be ok?</span></div><div class=chatlog__attachment><a href="https://cdn.discordapp.com/attachments/1101154357778591824/1248025080223633459/image.png?ex=698a50ee&amp;is=6988ff6e&amp;hm=2983d00995a6fe066d45b463781a26732858b843458cdcd64238ca462adbbb79&amp;"> <img class=chatlog__attachment-media src="https://cdn.discordapp.com/attachments/1101154357778591824/1248025080223633459/image.png?ex=698a50ee&amp;is=6988ff6e&amp;hm=2983d00995a6fe066d45b463781a26732858b843458cdcd64238ca462adbbb79&amp;" alt="Image attachment" title="Image: image.png (93.12 KB)" loading=lazy> </a></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248025161869955212 class=chatlog__message-container data-message-id=1248025161869955212><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=marsupialtail data-user-id=737185232494788668>marsupialtail</span> <span class=chatlog__timestamp title="Wednesday, June 5, 2024 9:26â€¯PM"><a href=#chatlog__message-container-1248025161869955212>6/5/2024 9:26â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yeah idk it&#39;s not working now</span></div></div></div></div><div id=chatlog__message-container-1248025179020328990 class=chatlog__message-container data-message-id=1248025179020328990><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, June 5, 2024 9:26â€¯PM">9:26â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>a bit odd</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248025308217606236 class=chatlog__message-container data-message-id=1248025308217606236><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, June 5, 2024 9:27â€¯PM"><a href=#chatlog__message-container-1248025308217606236>6/5/2024 9:27â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i&#39;m clicking on it and it works?</span></div></div></div></div><div id=chatlog__message-container-1248025371081838643 class=chatlog__message-container data-message-id=1248025371081838643><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, June 5, 2024 9:27â€¯PM">9:27â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i see this</span></div><div class=chatlog__attachment><a href="https://cdn.discordapp.com/attachments/1101154357778591824/1248025370574192741/image.png?ex=698a5133&amp;is=6988ffb3&amp;hm=de50eaa70002c2d46924792581e8d7307d243eca4de72cd85a361edb9d506c02&amp;"> <img class=chatlog__attachment-media src="https://cdn.discordapp.com/attachments/1101154357778591824/1248025370574192741/image.png?ex=698a5133&amp;is=6988ffb3&amp;hm=de50eaa70002c2d46924792581e8d7307d243eca4de72cd85a361edb9d506c02&amp;" alt="Image attachment" title="Image: image.png (309.44 KB)" loading=lazy> </a></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248025380930064435 class=chatlog__message-container data-message-id=1248025380930064435><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=marsupialtail data-user-id=737185232494788668>marsupialtail</span> <span class=chatlog__timestamp title="Wednesday, June 5, 2024 9:27â€¯PM"><a href=#chatlog__message-container-1248025380930064435>6/5/2024 9:27â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yeah I can&#39;t reproduce the behavior <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248025403583365132 class=chatlog__message-container data-message-id=1248025403583365132><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, June 5, 2024 9:27â€¯PM"><a href=#chatlog__message-container-1248025403583365132>6/5/2024 9:27â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>ah ok</span></div></div></div></div><div id=chatlog__message-container-1248025408193036288 class=chatlog__message-container data-message-id=1248025408193036288><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, June 5, 2024 9:27â€¯PM">9:27â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>weird</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248025420813566074 class=chatlog__message-container data-message-id=1248025420813566074><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Wednesday, June 5, 2024 9:27â€¯PM"><a href=#chatlog__message-container-1248025420813566074>6/5/2024 9:27â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Maybe you caught it in the middle of a docs update?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248025447644790908 class=chatlog__message-container data-message-id=1248025447644790908><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, June 5, 2024 9:27â€¯PM"><a href=#chatlog__message-container-1248025447644790908>6/5/2024 9:27â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>oh that&#39;s possible</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248025695909838919 class=chatlog__message-container data-message-id=1248025695909838919><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Wednesday, June 5, 2024 9:28â€¯PM"><a href=#chatlog__message-container-1248025695909838919>6/5/2024 9:28â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>One of you needs to change your PFP <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ˜†"
    title="laughing"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f606.svg"></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=sweat_smile><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ˜… src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f605.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248025808279437496 class=chatlog__message-container data-message-id=1248025808279437496><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, June 5, 2024 9:28â€¯PM"><a href=#chatlog__message-container-1248025808279437496>6/5/2024 9:28â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>LMAO</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248393525352202370 class=chatlog__message-container data-message-id=1248393525352202370><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/874024849549443083/82ae4877b6329b4d8ab2440a270e9278.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jmeks data-user-id=874024849549443083>JMEKS</span> <span class=chatlog__timestamp title="Thursday, June 6, 2024 9:50â€¯PM"><a href=#chatlog__message-container-1248393525352202370>6/6/2024 9:50â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is there a list of available embedding models / indexes that can be run on lancedb cloud?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248405938986156158 class=chatlog__message-container data-message-id=1248405938986156158><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, June 6, 2024 10:39â€¯PM"> <a href=#chatlog__message-container-1248405938986156158>6/6/2024 10:39â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248921013098512415 class=chatlog__message-container data-message-id=1248921013098512415><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/779784350320689152/1fd145c1b6ca0dad1e498fe85a4a02d9.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=nicolaygerold data-user-id=779784350320689152>Nicolay</span> <span class=chatlog__timestamp title="Saturday, June 8, 2024 8:46â€¯AM"><a href=#chatlog__message-container-1248921013098512415>6/8/2024 8:46â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is there a setting / way to avoid text duplicates on insert besides matching on the entire column?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1250144992156979245 class=chatlog__message-container data-message-id=1250144992156979245><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, June 11, 2024 5:49â€¯PM"> <a href=#chatlog__message-container-1250144992156979245>6/11/2024 5:49â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1250299425473953792 class=chatlog__message-container data-message-id=1250299425473953792><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/576458910110711828/5a0d2bc2d4d9914f770b0753ebd7e959.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=samd1223 data-user-id=576458910110711828>Sam Davarnia</span> <span class=chatlog__timestamp title="Wednesday, June 12, 2024 4:03â€¯AM"><a href=#chatlog__message-container-1250299425473953792>6/12/2024 4:03â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is there a way to create a lancedb from a folder of parquet files?</span></div></div></div></div><div id=chatlog__message-container-1250299576540201110 class=chatlog__message-container data-message-id=1250299576540201110><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, June 12, 2024 4:04â€¯AM">4:04â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>in this case I have a folder of parquet files created using Spark and I want to create a lancedb and persist it</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1250463265083887737 class=chatlog__message-container data-message-id=1250463265083887737><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/874024849549443083/82ae4877b6329b4d8ab2440a270e9278.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jmeks data-user-id=874024849549443083>JMEKS</span> <span class=chatlog__timestamp title="Wednesday, June 12, 2024 2:54â€¯PM"><a href=#chatlog__message-container-1250463265083887737>6/12/2024 2:54â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Are the supported Bedrock models still accurate or are there more available?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1250500083007619104 class=chatlog__message-container data-message-id=1250500083007619104><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, June 12, 2024 5:20â€¯PM"> <a href=#chatlog__message-container-1250500083007619104>6/12/2024 5:20â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1251202390108012594 class=chatlog__message-container data-message-id=1251202390108012594><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/779784350320689152/1fd145c1b6ca0dad1e498fe85a4a02d9.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=nicolaygerold data-user-id=779784350320689152>Nicolay</span> <span class=chatlog__timestamp title="Friday, June 14, 2024 3:51â€¯PM"><a href=#chatlog__message-container-1251202390108012594>6/14/2024 3:51â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>What is the default encoding of text and can I change that? Having issues with &#252;, &#246;, &#228;.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1251442164928614456 class=chatlog__message-container data-message-id=1251442164928614456><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=ayushexel data-user-id=1032079688887189556>AyushC</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Saturday, June 15, 2024 7:44â€¯AM"> <a href=#chatlog__message-container-1251442164928614456>6/15/2024 7:44â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1252158449161207909 class=chatlog__message-container data-message-id=1252158449161207909><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/779784350320689152/1fd145c1b6ca0dad1e498fe85a4a02d9.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=nicolaygerold data-user-id=779784350320689152>Nicolay</span> <span class=chatlog__timestamp title="Monday, June 17, 2024 7:10â€¯AM"><a href=#chatlog__message-container-1252158449161207909>6/17/2024 7:10â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>When I set the embeddings with get_registry. Does it go for ada2, ada small,...?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1255179102743429120 class=chatlog__message-container data-message-id=1255179102743429120><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1139624821798473842/c82b3fa769ed6e6ffdea579381ed5f5c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=ascillitoe data-user-id=1139624821798473842>Ash</span> <span class=chatlog__timestamp title="Tuesday, June 25, 2024 3:13â€¯PM"><a href=#chatlog__message-container-1255179102743429120>6/25/2024 3:13â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Perhaps a bit of an edge use case, but is there an efficient way to do a ANN search over a non-contiguous subset of a dataset (specified by a integer index <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">idx</code>)? I currently do something like:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">search = tbl.query().where(f&#39;idx IN {tuple(idx)}&#39;).nearest_to(query_vector)
search = search.column(vector_name).nprobes(n_probes)...
df = await search.to_pandas()</code>

However, the query over <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">idx</code> is at least an order of magnitude slower than the vector search. I can speed things up somewhat by post-filtering instead of pre-filtering, but I get substantially lower recall in this case. 

I&#39;m guessing the answer might be &quot;not really&quot;, but thought I&#39;d check if I&#39;m missing a trick using row id&#39;s instead of <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">idx</code> or something similar!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1255187638776758330 class=chatlog__message-container data-message-id=1255187638776758330><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, June 25, 2024 3:47â€¯PM"> <a href=#chatlog__message-container-1255187638776758330>6/25/2024 3:47â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1255195207335411783 class=chatlog__message-container data-message-id=1255195207335411783><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=gopigrip7 data-user-id=494216401666703380>gopigrip7</span> <span class=chatlog__timestamp title="Tuesday, June 25, 2024 4:17â€¯PM"><a href=#chatlog__message-container-1255195207335411783>6/25/2024 4:17â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We have an usecase to use ngram tokenizer in FTS for hybrid search. combing throught the doc, couldn&#39;t find how to enable it while creating the FTS. Checked RUST tantivity doc and found Ngram tokenizer.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1255961066932797521 class=chatlog__message-container data-message-id=1255961066932797521><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/806184543861604352/cf12edcd97b50acd6b6ad1b4d3908a9f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=harpocrates3208 data-user-id=806184543861604352>harpocrates</span> <span class=chatlog__timestamp title="Thursday, June 27, 2024 7:00â€¯PM"><a href=#chatlog__message-container-1255961066932797521>6/27/2024 7:00â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey, are there any downsides of using LanceDB with lambdas ? I&#39;m using AWS OpenSearch atm and I wonder if I&#39;ll be missing any features by migrating to LanceDB</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1255967391729586198 class=chatlog__message-container data-message-id=1255967391729586198><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, June 27, 2024 7:26â€¯PM"> <a href=#chatlog__message-container-1255967391729586198>6/27/2024 7:26â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1263164861949415555 class=chatlog__message-container data-message-id=1263164861949415555><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Wednesday, July 17, 2024 4:06â€¯PM"><a href=#chatlog__message-container-1263164861949415555>7/17/2024 4:06â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi there, I&#39;ve been asked numerous times by members of the community how K&#249;zu (embedded graph db) and LanceDB can better work together. While ideally we&#39;d like to have a tight integration through which K&#249;zu&#39;s query engine can directly perform vector similarity search on vectors in a Lance table via Cypher, that&#39;s a much heavier lift on our side because it will require work on multiple parts of the query engine (planner, parser, binder, etc.).

So, in the interim, I was wondering if we could leverage a PyArrow connector to do a cruder integration. Something like you guys have for the DuckDB integration:
<a href="https://lancedb.github.io/lancedb/python/duckdb/">https://lancedb.github.io/lancedb/python/duckdb/</a>

The docs say to do something like this when using DuckDB to query a Lance table:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-py">import duckdb
arrow_table = table.to_lance()
duckdb.query(&quot;SELECT * FROM arrow_table&quot;)</code>
In K&#249;zu, it&#39;s already possible to directly scan the contents of a PyArrow table:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-py">import kuzu
# Obtain a connection object `conn`
conn.execute(&quot;LOAD FROM arrow_table RETURN *&quot;)</code>
Say I have a graph in K&#249;zu, and each node has a primary key ID (unique identifier). Say I also have vectors in LanceDB, where I also store the same unique IDs that link back to a set of K&#249;zu nodes.

How can we go about supporting the use case where the user wants to do the following 2-step operation:
<ul><li>Run a top-k vector or hybrid search, return the top-k primary key IDs from the Lance table</li><li>Perform a multi-hop graph traversal using the top-k primary key IDs obtained from Lance

I feel like that the fact that K&#249;zu can read from PyArrow tables is already getting us most of the way there, correct? <span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span> <span class="chatlog__markdown-mention" title="wpace">@WestonPace</span> looking forward to your ideas on this one.</li></ul></span> <span class=chatlog__edited-timestamp title="Wednesday, July 17, 2024 4:08â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1269993437630042183 class=chatlog__message-container data-message-id=1269993437630042183><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=fatema_08081 data-user-id=1263841119465115694>Kiara</span> <span class=chatlog__timestamp title="Monday, August 5, 2024 12:20â€¯PM"><a href=#chatlog__message-container-1269993437630042183>8/5/2024 12:20â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi all, I am exploring microsoft&#39;s graph rag. I Have some doubts regarding use of lanceDB for the local query:
1. What information is stored in lanceDB?
2. How does data retriaval happen using LanceDB in case of local query?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1270009477437063193 class=chatlog__message-container data-message-id=1270009477437063193><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=ayushexel data-user-id=1032079688887189556>AyushC</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, August 5, 2024 1:24â€¯PM"> <a href=#chatlog__message-container-1270009477437063193>8/5/2024 1:24â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1270010071782264842 class=chatlog__message-container data-message-id=1270010071782264842><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/934422701106401341/f016d8dc9174efca25962970b1548ed9.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=zegt data-user-id=934422701106401341>Zeigt</span> <span class=chatlog__timestamp title="Monday, August 5, 2024 1:26â€¯PM"><a href=#chatlog__message-container-1270010071782264842>8/5/2024 1:26â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi All, I am trying to build an Smart Ai Search for a directory site. And then working on LanceDB. Is there somewhere a community of developers interested in helping out or doing some basic guidance? 

LLama 3 
AnythingLM
LanceDB</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1270010929345724578 class=chatlog__message-container data-message-id=1270010929345724578><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/934422701106401341/f016d8dc9174efca25962970b1548ed9.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=zegt>Zeigt</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1270010071782264842')"> Hi All, I am trying to build an Smart Ai Search for a directory site. And then working on LanceDB. Is there somewhere a community of developers interested in helping out or doing some basic guidance? 

LLama 3 
AnythingLM
LanceDB </span></div></div><div class=chatlog__header><span class=chatlog__author title=fatema_08081 data-user-id=1263841119465115694>Kiara</span> <span class=chatlog__timestamp title="Monday, August 5, 2024 1:30â€¯PM"><a href=#chatlog__message-container-1270010929345724578>8/5/2024 1:30â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>This community is for LanceDB right?</span></div></div></div></div><div id=chatlog__message-container-1270011046215549082 class=chatlog__message-container data-message-id=1270011046215549082><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Monday, August 5, 2024 1:30â€¯PM">1:30â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>For the other 2 you might have to check their Git repo.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=pray><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ™ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1272007388182089791 class=chatlog__message-container data-message-id=1272007388182089791><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/480737314704850964/2576c9f109fd98908ec7b818db098781.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=yourtechbud data-user-id=480737314704850964>YourTechBud</span> <span class=chatlog__timestamp title="Sunday, August 11, 2024 1:43â€¯AM"><a href=#chatlog__message-container-1272007388182089791>8/11/2024 1:43â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey guys. Quick question. I was hoping to use LanceDB from golang. Any tips?

I noticed we have an ffi bridge for node. Integration with Golang could be done similarly I assume?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1272566519179509762 class=chatlog__message-container data-message-id=1272566519179509762><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=kroanas data-user-id=444996251977515028>Michael P</span> <span class=chatlog__timestamp title="Monday, August 12, 2024 2:45â€¯PM"><a href=#chatlog__message-container-1272566519179509762>8/12/2024 2:45â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Does anyone know if LanceDB has a supporting Helm chart? I have a containerized workload in Kubernetes and need to represent LanceDB as a stateful set.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1272646727140380909 class=chatlog__message-container data-message-id=1272646727140380909><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, August 12, 2024 8:03â€¯PM"> <a href=#chatlog__message-container-1272646727140380909>8/12/2024 8:03â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1277890359967617118 class=chatlog__message-container data-message-id=1277890359967617118><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=alistair_10616 data-user-id=1270493194479472671>Alistair</span> <span class=chatlog__timestamp title="Tuesday, August 27, 2024 7:20â€¯AM"><a href=#chatlog__message-container-1277890359967617118>8/27/2024 7:20â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi! I&#39;m wondering if anyone can tell me where I&#39;m going wrong. I&#39;m trying to index 150,000,000 vectors with a dimensionality of 768. <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">num_partitions</code> is 10240, <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">num_sub_vectors</code> is 128, and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">distance_type</code> is L2. I&#39;m invoking LanceDB from a Rust application running in a Docker container on an EC2 instance with 32 vCPUs and 128 GiB of RAM. The data are written to a block storage volume with 4 TB of space. The volume is accessible to the Docker container via a bind mount. The table itself takes up 866 GB, leaving about 3 TB available for the index. During indexing, CPU utilization is 3200% and RAM 23%. After 6 hours, the process exits with this error:â€¨

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">Index creation failed: Lance { source: IO { source: Custom { kind: Other, error: Generic { store: &quot;LocalFileSystem&quot;, source: UnableToCopyDataToFile { source: Os { code: 28, kind: StorageFull, message: &quot;No space left on device&quot; } } } }, location: Location { file: &quot;/usr/local/cargo/registry/src/index.crates.io-6f17d22bba15001f/lance-file-0.16.0/src/writer.rs&quot;, line: 204, column: 9 } } }</code>

I would have thought that the 3 TB of available space would be enough to accommodate the index. What&#39;s going on?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1277897476103475274 class=chatlog__message-container data-message-id=1277897476103475274><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=yah2er0ne data-user-id=963889951810941039>Yang</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, August 27, 2024 7:48â€¯AM"> <a href=#chatlog__message-container-1277897476103475274>8/27/2024 7:48â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1283100657896652820 class=chatlog__message-container data-message-id=1283100657896652820><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/437799708900065280/78b101588d15be2d3e4d907cc4c702e0.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=nostragoosemus data-user-id=437799708900065280>Goose</span> <span class=chatlog__timestamp title="Tuesday, September 10, 2024 4:23â€¯PM"><a href=#chatlog__message-container-1283100657896652820>9/10/2024 4:23â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>(using the python client) I have an issue with migrating a db from one machine to another. I tarzipped my lancedb folder from the source machine and unzipped it on the target. The target machine, when querying the table, complains about cuda not being installed with pytorch. The data was indeed generated on a machine with cuda enabled, while the target machine does not have cuda. I thought I could set device=&quot;cpu&quot; on the target machine, and &quot;cuda&quot; on the source machine, but the lancedb Python client complains about cuda still. If I generate using cuda, do I have to query using cuda too? I didn&#39;t think the generation was coupled to the device used to do the generation.

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight"># source machine
embedding_model = (
    get_registry()
    .get(&quot;sentence-transformers&quot;)
    .create(name=&quot;BAAI/bge-small-en-v1.5&quot;, device=&quot;cuda&quot;)
)</code>

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight"># target machine
embedding_model = (
    get_registry()
    .get(&quot;sentence-transformers&quot;)
    .create(name=&quot;BAAI/bge-small-en-v1.5&quot;, device=&quot;cpu&quot;)
)</code></span> <span class=chatlog__edited-timestamp title="Tuesday, September 10, 2024 4:26â€¯PM">(edited)</span></div></div></div></div><div id=chatlog__message-container-1283101613136810066 class=chatlog__message-container data-message-id=1283101613136810066><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, September 10, 2024 4:27â€¯PM">4:27â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>One more detail: if I generate the lancedb data on the target machine with device=&quot;cpu&quot;, I have no issues</span> <span class=chatlog__edited-timestamp title="Tuesday, September 10, 2024 4:27â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1283104493529202773 class=chatlog__message-container data-message-id=1283104493529202773><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=ayushexel data-user-id=1032079688887189556>AyushC</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, September 10, 2024 4:39â€¯PM"> <a href=#chatlog__message-container-1283104493529202773>9/10/2024 4:39â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1285635544973443175 class=chatlog__message-container data-message-id=1285635544973443175><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/779784350320689152/1fd145c1b6ca0dad1e498fe85a4a02d9.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=nicolaygerold data-user-id=779784350320689152>Nicolay</span> <span class=chatlog__timestamp title="Tuesday, September 17, 2024 4:16â€¯PM"><a href=#chatlog__message-container-1285635544973443175>9/17/2024 4:16â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I seem to remember that you did not support the local file storage in modal, but used memory? Is this still the case? Are there any best practices that exist for modal?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1285660871829360714 class=chatlog__message-container data-message-id=1285660871829360714><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=ayushexel data-user-id=1032079688887189556>AyushC</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, September 17, 2024 5:57â€¯PM"> <a href=#chatlog__message-container-1285660871829360714>9/17/2024 5:57â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1285979931297321142 class=chatlog__message-container data-message-id=1285979931297321142><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/179259923060752384/79fce86bf6de3388c7ad032fb74c8bde.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=night765 data-user-id=179259923060752384>Triste</span> <span class=chatlog__timestamp title="Wednesday, September 18, 2024 3:05â€¯PM"><a href=#chatlog__message-container-1285979931297321142>9/18/2024 3:05â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>.where(
                &quot;chunk.metadata.file_name = &#39;{filename}&#39;
)

Hi everyone, I have this filter when querying my lancedb. However, some of my files also have the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">&#39;</code>  in their name,  fucking up the SQL query. Is there a way around that ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1286028487747964970 class=chatlog__message-container data-message-id=1286028487747964970><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, September 18, 2024 6:18â€¯PM"><a href=#chatlog__message-container-1286028487747964970>9/18/2024 6:18â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>you should be able to escape the single quote in the file name. I forgot what datafusion supports but try <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">\</code> or adding extra single quote for escape</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1286043589486317598 class=chatlog__message-container data-message-id=1286043589486317598><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1286028487747964970')"> you should be able to escape the single quote in the file name. I forgot what datafusion supports but try <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">\</code> or adding extra single quote for escape </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Wednesday, September 18, 2024 7:18â€¯PM"><a href=#chatlog__message-container-1286043589486317598>9/18/2024 7:18â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>It&#39;s actually <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">&#39;&#39;</code> to escape a quote. Can do <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">filename.replace(&quot;&#39;&quot;, &quot;&#39;&#39;&quot;)</code>. This is what we did in <a href="https://github.com/lancedb/lancedb/pull/1573/files">https://github.com/lancedb/lancedb/pull/1573/files</a></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=ðŸ«¡><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ«¡ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1fae1.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1287674375772045354 class=chatlog__message-container data-message-id=1287674375772045354><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/5.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=olliveradev data-user-id=1132196995361157171>olliveradev</span> <span class=chatlog__timestamp title="Monday, September 23, 2024 7:18â€¯AM"><a href=#chatlog__message-container-1287674375772045354>9/23/2024 7:18â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I am getting the error below with LanceDB clould:</span></div></div></div></div><div id=chatlog__message-container-1287674432684298261 class=chatlog__message-container data-message-id=1287674432684298261><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Monday, September 23, 2024 7:18â€¯AM">7:18â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>create_fts_index() got an unexpected keyword argument &#39;tokenizer_name&#39;</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1287899539755241598 class=chatlog__message-container data-message-id=1287899539755241598><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, September 23, 2024 10:12â€¯PM"> <a href=#chatlog__message-container-1287899539755241598>9/23/2024 10:12â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1290256813983404042 class=chatlog__message-container data-message-id=1290256813983404042><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/179259923060752384/79fce86bf6de3388c7ad032fb74c8bde.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=night765 data-user-id=179259923060752384>Triste</span> <span class=chatlog__timestamp title="Monday, September 30, 2024 10:19â€¯AM"><a href=#chatlog__message-container-1290256813983404042>9/30/2024 10:19â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, documentation says the table object has a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">create_fts_index</code> method, but my IDE only detects <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">create_index</code> .  My lance db is on 0.10.1

EDIT: my bad, found my issues. It was typed as Table instead of LanceTable</span> <span class=chatlog__edited-timestamp title="Monday, September 30, 2024 10:23â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1290263877690462248 class=chatlog__message-container data-message-id=1290263877690462248><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/179259923060752384/79fce86bf6de3388c7ad032fb74c8bde.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=night765 data-user-id=179259923060752384>Triste</span> <span class=chatlog__timestamp title="Monday, September 30, 2024 10:48â€¯AM"><a href=#chatlog__message-container-1290263877690462248>9/30/2024 10:48â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Documentation says to put <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">use_tantivy=False</code>  to use native FTS but I don&#39;t have that option. why is that ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1290286051973398540 class=chatlog__message-container data-message-id=1290286051973398540><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/179259923060752384/79fce86bf6de3388c7ad032fb74c8bde.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=night765 data-user-id=179259923060752384>Triste</span> <span class=chatlog__timestamp title="Monday, September 30, 2024 12:16â€¯PM"><a href=#chatlog__message-container-1290286051973398540>9/30/2024 12:16â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is it possible to add a fts index on a nested field ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1290333212689698851 class=chatlog__message-container data-message-id=1290333212689698851><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, September 30, 2024 3:23â€¯PM"> <a href=#chatlog__message-container-1290333212689698851>9/30/2024 3:23â€¯PM</a> </span></div></div></div><div id=chatlog__message-container-1290663520152846463 class=chatlog__message-container data-message-id=1290663520152846463><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, October 1, 2024 1:16â€¯PM"> <a href=#chatlog__message-container-1290663520152846463>10/1/2024 1:16â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1290964594801643524 class=chatlog__message-container data-message-id=1290964594801643524><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/179259923060752384/79fce86bf6de3388c7ad032fb74c8bde.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=night765 data-user-id=179259923060752384>Triste</span> <span class=chatlog__timestamp title="Wednesday, October 2, 2024 9:12â€¯AM"><a href=#chatlog__message-container-1290964594801643524>10/2/2024 9:12â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">    if self.ds.schema.get_field_index(column) &lt; 0:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;pyarrow/types.pxi&quot;, line 2882, in pyarrow.lib.Schema.get_field_index
  File &quot;&lt;stringsource&gt;&quot;, line 15, in string.from_py.__pyx_convert_string_from_py_std__in_string
TypeError: expected bytes, NoneType found</code>
I&#39;m having the above error when trying to do a hybrid search based on this documentation 
<a href="https://lancedb.github.io/lancedb/hybrid_search/hybrid_search/#hybrid-search-in-lancedb">https://lancedb.github.io/lancedb/hybrid_search/hybrid_search/#hybrid-search-in-lancedb</a>

Why is that ?


I have no issue when using FTS search alone, but hybrid search breaks</span> <span class=chatlog__edited-timestamp title="Wednesday, October 2, 2024 9:57â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1290994221725122585 class=chatlog__message-container data-message-id=1290994221725122585><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=night765 data-user-id=179259923060752384>Triste</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, October 2, 2024 11:10â€¯AM"> <a href=#chatlog__message-container-1290994221725122585>10/2/2024 11:10â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1294357412819501129 class=chatlog__message-container data-message-id=1294357412819501129><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/203619145953181705/45dc5f7a24c9cb41a51ba1dcfeb553a7.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=darrenbuildsai data-user-id=203619145953181705>Darren</span> <span class=chatlog__timestamp title="Friday, October 11, 2024 5:54â€¯PM"><a href=#chatlog__message-container-1294357412819501129>10/11/2024 5:54â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi guys, 
This is more an exploratory question but what are the best ways to explore through LanceDB Database to view all the data currently stored.  

Are there any existing Database Tools or apps that can help developers understand lancedb structure quickly? Any recommendations are welcome. 

The goal is to at a high level understand the tables and their schema with out needing to run code each time.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1304457791569793084 class=chatlog__message-container data-message-id=1304457791569793084><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/806184543861604352/cf12edcd97b50acd6b6ad1b4d3908a9f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=harpocrates3208 data-user-id=806184543861604352>harpocrates</span> <span class=chatlog__timestamp title="Friday, November 8, 2024 2:49â€¯PM"><a href=#chatlog__message-container-1304457791569793084>11/8/2024 2:49â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey, I&#39;m using AWS Opensearch as my vector search DB. Data is regularly loaded/updated in there with some vectors to be able to do RAG on it. I&#39;m also doing everything using lambdas/step functions (scheduled lambdas to sync my data, api gw + lambda for my clients). Is there everything in LanceDB today to switch to it or are there still things I should be aware of that could be limiting me ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1304461825450184816 class=chatlog__message-container data-message-id=1304461825450184816><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/806184543861604352/cf12edcd97b50acd6b6ad1b4d3908a9f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=harpocrates3208 data-user-id=806184543861604352>harpocrates</span> <span class=chatlog__timestamp title="Friday, November 8, 2024 3:05â€¯PM"><a href=#chatlog__message-container-1304461825450184816>11/8/2024 3:05â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>IIRC vector indexes were local (or there was another issue with them) last time we talked</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1304464439088517195 class=chatlog__message-container data-message-id=1304464439088517195><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, November 8, 2024 3:15â€¯PM"> <a href=#chatlog__message-container-1304464439088517195>11/8/2024 3:15â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1304819835938799657 class=chatlog__message-container data-message-id=1304819835938799657><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/806184543861604352/cf12edcd97b50acd6b6ad1b4d3908a9f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=harpocrates3208 data-user-id=806184543861604352>harpocrates</span> <span class=chatlog__timestamp title="Saturday, November 9, 2024 2:48â€¯PM"><a href=#chatlog__message-container-1304819835938799657>11/9/2024 2:48â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey, I&#39;ve seen that tables can be created schemaless, however it seems that no matter what columns values need to use the same type and I can&#39;t get to insert data with missing columns  ? I&#39;m looking for a solution similar to cassandra, meaning schemaless and where columns can be automatically added and don&#39;t have to be present when upserted
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">In [29]: table.add([{&quot;item&quot;: &quot;joe1&quot;, &quot;price&quot;: 15.0}])
In [30]: table.add([{&quot;item&quot;: &quot;joe2&quot;, &quot;price&quot;: 12}])
In [31]: table.add([{&quot;item&quot;: &quot;joe3&quot;, &quot;price&quot;: &quot;ww&quot;}])
...
ArrowInvalid: Failed to parse string: &#39;ww&#39; as a scalar of type double

In [32]: table.add([{&quot;item&quot;: &quot;joe4&quot;}])
...
KeyError: &#39;Field &quot;price&quot; does not exist in schema&#39;</code>
I can add new columns though
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">In [33]: table.add([{&quot;item&quot;: &quot;joe5&quot;, &quot;price&quot;: 12, &quot;other&quot;: 3.5}])</code></span> <span class=chatlog__edited-timestamp title="Saturday, November 9, 2024 6:07â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1304985327756378157 class=chatlog__message-container data-message-id=1304985327756378157><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=harpocrates3208 data-user-id=806184543861604352>harpocrates</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Sunday, November 10, 2024 1:45â€¯AM"> <a href=#chatlog__message-container-1304985327756378157>11/10/2024 1:45â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1306281007061930037 class=chatlog__message-container data-message-id=1306281007061930037><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/806184543861604352/cf12edcd97b50acd6b6ad1b4d3908a9f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=harpocrates3208 data-user-id=806184543861604352>harpocrates</span> <span class=chatlog__timestamp title="Wednesday, November 13, 2024 3:34â€¯PM"><a href=#chatlog__message-container-1306281007061930037>11/13/2024 3:34â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey, I&#39;m thinking of using Lance[DB] to store data in this format
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">id    name    age
v1    marko    29
v2    vadas    27
v4    josh    32
v6    peter    35

id    from_id    to_id
e7    v1    v2
e8    v1    v4</code>

I&#39;m counting on the fact that it&#39;s said to be 100x faster than parquet and fast at random accesses. Can you confirm it can still make sense for data that is not primarily used for vector searches ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1306297472355799091 class=chatlog__message-container data-message-id=1306297472355799091><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, November 13, 2024 4:39â€¯PM"> <a href=#chatlog__message-container-1306297472355799091>11/13/2024 4:39â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1308595950557593662 class=chatlog__message-container data-message-id=1308595950557593662><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=hahn_22002 data-user-id=759561477970591744>Hahn</span> <span class=chatlog__timestamp title="Wednesday, November 20, 2024 12:53â€¯AM"><a href=#chatlog__message-container-1308595950557593662>11/20/2024 12:53â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Each time we add the data to a table, it creates a new lance file on the same folder. Is there anyway to tell lancedb to use just one file and append to the saved one?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1308613826505085003 class=chatlog__message-container data-message-id=1308613826505085003><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, November 20, 2024 2:04â€¯AM"> <a href=#chatlog__message-container-1308613826505085003>11/20/2024 2:04â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1309036041587396618 class=chatlog__message-container data-message-id=1309036041587396618><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=max_mpc_85836 data-user-id=1301572016809447537>Max</span> <span class=chatlog__timestamp title="Thursday, November 21, 2024 6:01â€¯AM"><a href=#chatlog__message-container-1309036041587396618>11/21/2024 6:01â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>noticed default <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">CohereReranker</code> <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">model_name</code> param is a bit out of date; english-v2 instead of english-v3 (released April 2024). I submitted a (very modest) PR to update it: <a href="https://github.com/lancedb/lancedb/pull/1862">https://github.com/lancedb/lancedb/pull/1862</a>. thanks for an awesome open-source library everyone!</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/pull/1862.><div class="chatlog__markdown chatlog__markdown-preserve">Build software better, together</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">GitHub is where people build software. More than 100 million people use GitHub to discover, fork, and contribute to over 420 million projects.</div></div></div></div><div class="chatlog__embed-images chatlog__embed-images--single"><div class=chatlog__embed-image-container><a class=chatlog__embed-image-link href=https://images-ext-1.discordapp.net/external/zrnIBpWQXHOafgsWGuTZvhY0r8aEHF-xBeTOrB3xlJU/https/github.githubassets.com/assets/github-logo-55c5b9a1fe52.png> <img class=chatlog__embed-image src=https://images-ext-1.discordapp.net/external/zrnIBpWQXHOafgsWGuTZvhY0r8aEHF-xBeTOrB3xlJU/https/github.githubassets.com/assets/github-logo-55c5b9a1fe52.png alt=Image loading=lazy> </a></div></div></div></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text></div></div><div class="chatlog__embed-images chatlog__embed-images--single"><div class=chatlog__embed-image-container><a class=chatlog__embed-image-link href=https://images-ext-1.discordapp.net/external/FRgfgb8oHhfnQvjHln3zixTf7gq7QoqGd3zUTHj8dYs/https/github.githubassets.com/assets/github-mark-57519b92ca4e.png> <img class=chatlog__embed-image src=https://images-ext-1.discordapp.net/external/FRgfgb8oHhfnQvjHln3zixTf7gq7QoqGd3zUTHj8dYs/https/github.githubassets.com/assets/github-mark-57519b92ca4e.png alt=Image loading=lazy> </a></div></div></div></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text></div></div><div class="chatlog__embed-images chatlog__embed-images--single"><div class=chatlog__embed-image-container><a class=chatlog__embed-image-link href=https://images-ext-1.discordapp.net/external/8FXhmVUPVyR2kElkdv_UGNnEDNM53oUrUfnhRGabHp8/https/github.githubassets.com/assets/github-octocat-13c86b8b336d.png> <img class=chatlog__embed-image src=https://images-ext-1.discordapp.net/external/8FXhmVUPVyR2kElkdv_UGNnEDNM53oUrUfnhRGabHp8/https/github.githubassets.com/assets/github-octocat-13c86b8b336d.png alt=Image loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup_tone1><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ðŸ» src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d-1f3fb.svg loading=lazy> <span class=chatlog__reaction-count>2</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1310649161313554462 class=chatlog__message-container data-message-id=1310649161313554462><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/220891032349310978/f25a2c898e2aa06256d45c49a9153cec.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=therobotcarlson data-user-id=220891032349310978>therobotcarlson</span> <span class=chatlog__timestamp title="Monday, November 25, 2024 4:51â€¯PM"><a href=#chatlog__message-container-1310649161313554462>11/25/2024 4:51â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ‘‹"
    title="wave"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44b.svg"> Not sure where to post this question. Is there documentation about performance optimizations / tuning? I can&#39;t seem to find much. I have very large queries on S3 that seem to take a long time that I&#39;m trying to speed up.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1310661669726322723 class=chatlog__message-container data-message-id=1310661669726322723><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, November 25, 2024 5:41â€¯PM"> <a href=#chatlog__message-container-1310661669726322723>11/25/2024 5:41â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1311279702580924448 class=chatlog__message-container data-message-id=1311279702580924448><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=tudor_62704 data-user-id=1253635651954278442>Tudor</span> <span class=chatlog__timestamp title="Wednesday, November 27, 2024 10:37â€¯AM"><a href=#chatlog__message-container-1311279702580924448>11/27/2024 10:37â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi
First of, wanna say big ups and thanks on the amazing open source lib!
I&#39;ve a small question: I don&#39;t understand how to add fields to a nested field on an already created table. I&#39;ve left an example in the github discussions page <a href="https://github.com/lancedb/lancedb/discussions/889?sort=old#discussioncomment-11383219">https://github.com/lancedb/lancedb/discussions/889?sort=old#discussioncomment-11383219</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href="https://github.com/lancedb/lancedb/discussions/889?sort=old"><div class="chatlog__markdown chatlog__markdown-preserve">Adding new column &#183; lancedb lancedb &#183; Discussion #889</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Hi all, Lancedb is really a game changing for us and we would like to thank lancedb team for their effort. In our tool for image data exploration and annotation <a href="https://github.com/pixano/pixano">https://github.com/pixano/pixano</a> we ...</div></div></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1312082765469974692 class=chatlog__message-container data-message-id=1312082765469974692><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=chebbychefneq data-user-id=913676166710300702>Rob Meng</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, November 29, 2024 3:48â€¯PM"> <a href=#chatlog__message-container-1312082765469974692>11/29/2024 3:48â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1317598138869223585 class=chatlog__message-container data-message-id=1317598138869223585><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=liminal0 data-user-id=718531667530088538>liminal</span> <span class=chatlog__timestamp title="Saturday, December 14, 2024 9:04â€¯PM"><a href=#chatlog__message-container-1317598138869223585>12/14/2024 9:04â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, I&#39;m curious how to interpret the lance version numbers. In Github it looks like Python LanceDB is going from version 0.17.1-beta.5 to 0.9.0 for the next release. That, plus the separate version numbers for lance, Python LanceDB and Rust/Node LanceDB is making me a bit confused. <a href="https://github.com/lancedb/lancedb/releases?q=&amp;expanded=false">https://github.com/lancedb/lancedb/releases?q=&amp;expanded=false</a></span> <span class=chatlog__edited-timestamp title="Saturday, December 14, 2024 9:05â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1318226465157812309 class=chatlog__message-container data-message-id=1318226465157812309><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, December 16, 2024 2:41â€¯PM"> <a href=#chatlog__message-container-1318226465157812309>12/16/2024 2:41â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1322204045775077397 class=chatlog__message-container data-message-id=1322204045775077397><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=andrijazz data-user-id=786295637913108480>andrijazz</span> <span class=chatlog__timestamp title="Friday, December 27, 2024 2:06â€¯PM"><a href=#chatlog__message-container-1322204045775077397>12/27/2024 2:06â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I am using ray data job to update large lancedb (1bn rows) and I need to update all the rows. Currently I am updating row by row  ... For every row update new version is being created so I am wondering how often and when should i call <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">compact_files</code>? are there better ways to do this?

Are there any examples of this? Typical scenario would be:
<ul><li>there is a large table in lancedb</li><li>read from the table and create ray ds</li><li>perform some transformation or generate embeddings</li><li>update table with new stuff</li><li>optimize db (cleanup old versions)</li></ul></span> <span class=chatlog__edited-timestamp title="Friday, December 27, 2024 2:11â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1322505491083165728 class=chatlog__message-container data-message-id=1322505491083165728><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=dean07934 data-user-id=1238039403608408075>dobrien</span> <span class=chatlog__timestamp title="Saturday, December 28, 2024 10:04â€¯AM"><a href=#chatlog__message-container-1322505491083165728>12/28/2024 10:04â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Does LanceDB support ColPoli embeddings?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1323211745837449330 class=chatlog__message-container data-message-id=1323211745837449330><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=yah2er0ne data-user-id=963889951810941039>Yang</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, December 30, 2024 8:51â€¯AM"> <a href=#chatlog__message-container-1323211745837449330>12/30/2024 8:51â€¯AM</a> </span></div></div></div><div id=chatlog__message-container-1323219110733287459 class=chatlog__message-container data-message-id=1323219110733287459><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=yah2er0ne data-user-id=963889951810941039>Yang</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, December 30, 2024 9:20â€¯AM"> <a href=#chatlog__message-container-1323219110733287459>12/30/2024 9:20â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1324838744615944253 class=chatlog__message-container data-message-id=1324838744615944253><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=smartkiwi. data-user-id=931036719548100668>Smartkiwi.</span> <span class=chatlog__timestamp title="Friday, January 3, 2025 8:36â€¯PM"><a href=#chatlog__message-container-1324838744615944253>1/3/2025 8:36â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Please suggest how to build lancedb and lance locally? I see that there is .devcontainer folder that VSCode detects and run the docker container - but build commands don&#39;t work there (probably because devcontainer files are out of date being 2 years old).</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1327248487049334806 class=chatlog__message-container data-message-id=1327248487049334806><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/5.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=binitakapadiya data-user-id=1069844227527299132>Binita kapadiya</span> <span class=chatlog__timestamp title="Friday, January 10, 2025 12:11â€¯PM"><a href=#chatlog__message-container-1327248487049334806>1/10/2025 12:11â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I have a table from which I am deleting data. However, the issue is that while the rows are removed, the database size does not decrease. I want to perform a hard delete rather than a soft delete. What should I do?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1349091014589288513 class=chatlog__message-container data-message-id=1349091014589288513><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, March 11, 2025 6:46â€¯PM"> <a href=#chatlog__message-container-1349091014589288513>3/11/2025 6:46â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1350323384264953866 class=chatlog__message-container data-message-id=1350323384264953866><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/334691530860396546/f11dc5bc096ed155d9915e68a28b8331.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=anime.club data-user-id=334691530860396546>olzhas</span> <span class=chatlog__timestamp title="Saturday, March 15, 2025 4:23â€¯AM"><a href=#chatlog__message-container-1350323384264953866>3/15/2025 4:23â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>When defining a method to get an item:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-ts">import type { TableInstance } from &quot;../get-table&quot;
import type * as types from &quot;../types&quot;

/**
 * Get a row (item) from a table by its ID
 */
export const getRowById = &lt;I extends types.Item&gt;(
  table: TableInstance,
  id: string,
) =&gt;
  table
    .query()
    .fastSearch() // skips un-indexed data
    .where(`id=&quot;${id}&quot;`)
    .limit(1) // query returns up to 10 rows by default; see https://github.com/lancedb/lancedb/issues/2141
    .toArray()
    .then((rows) =&gt; rows[0] as I | undefined)</code>
if a row with a specific id exists, it returns not a plain object, but <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">StructRow</code>, which is questionable, but ok.

the strange things (possible bugs) are:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-ts">const item1 = await getRowById(table, id1)
expect(item1).toBeInstanceOf(arrow.StructRow) // it fails
expect(item1).toEqual({ // it fails, because `item1` is not a plain object
  id: id1,
  username: `username`,
  title: `title`,
  desc: `desc`,
})</code>
Is there any benefit for LanceDB to not return a plain built-into JavaScript object for array&#39;s items?</span> <span class=chatlog__edited-timestamp title="Saturday, March 15, 2025 4:41â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1351899939323514930 class=chatlog__message-container data-message-id=1351899939323514930><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/334691530860396546/f11dc5bc096ed155d9915e68a28b8331.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=anime.club data-user-id=334691530860396546>olzhas</span> <span class=chatlog__timestamp title="Wednesday, March 19, 2025 12:47â€¯PM"><a href=#chatlog__message-container-1351899939323514930>3/19/2025 12:47â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>imho, the current blocking issues for JS users are:
<ul><li><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">offset</code> (pagination) doesn&#39;t work in both <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">fts</code> and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">vector</code> search</li></ul>---- issue: <a href="https://github.com/lancedb/lancedb/issues/2229">https://github.com/lancedb/lancedb/issues/2229</a><ul><li><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">.fastSearch()</code> in fts search is ignored and the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">.search()</code> still goes over all data, including un-indexed</li></ul>---- repro: <a href="https://github.com/lancedb/lancedb/pull/2232/files#r2004521870">https://github.com/lancedb/lancedb/pull/2232/files#r2004521870</a><ul><li>DynamoDB for concurrent writes doesn&#39;t work at 100 concurrency, it fails often; even at 10 concurrent writes, it fails occasionally</li></ul>---- hopefully, this issue when it&#39;s released is a fix <a href="https://github.com/lancedb/lancedb/issues/1614">https://github.com/lancedb/lancedb/issues/1614</a></span> <span class=chatlog__edited-timestamp title="Thursday, March 20, 2025 12:47â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1351982038764359731 class=chatlog__message-container data-message-id=1351982038764359731><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/974346844232618035/17856fc54ce0f62199d16ee98dc157b7.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=scotto0553 data-user-id=974346844232618035>scotto</span> <span class=chatlog__timestamp title="Wednesday, March 19, 2025 6:13â€¯PM"><a href=#chatlog__message-container-1351982038764359731>3/19/2025 6:13â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>how to pass a jina endpoint to <a href="https://lancedb.github.io/lancedb/reranking/jina/">https://lancedb.github.io/lancedb/reranking/jina/</a> ?</span></div></div></div></div><div id=chatlog__message-container-1351982074109759581 class=chatlog__message-container data-message-id=1351982074109759581><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, March 19, 2025 6:14â€¯PM">6:14â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>for example for an on premise jina installation</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1351997033669460002 class=chatlog__message-container data-message-id=1351997033669460002><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, March 19, 2025 7:13â€¯PM"> <a href=#chatlog__message-container-1351997033669460002>3/19/2025 7:13â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1352073728581832808 class=chatlog__message-container data-message-id=1352073728581832808><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/334691530860396546/f11dc5bc096ed155d9915e68a28b8331.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=anime.club data-user-id=334691530860396546>olzhas</span> <span class=chatlog__timestamp title="Thursday, March 20, 2025 12:18â€¯AM"><a href=#chatlog__message-container-1352073728581832808>3/20/2025 12:18â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>cc <span class="chatlog__markdown-mention" title="wjones127">@Will Jones</span> 
Should LanceDB prohibit adding indices, when a table is empty?
<ul><li>if an index is added to an empty table, the index is automatically removed when the first row is added

<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">mergeInsert</code> removes indices that were added to an empty table</li><li>repro: <a href="https://github.com/lancedb/lancedb/pull/2232/files#r2003274909">https://github.com/lancedb/lancedb/pull/2232/files#r2003274909</a></li></ul></span> <span class=chatlog__edited-timestamp title="Thursday, March 20, 2025 12:19â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1352143508701450277 class=chatlog__message-container data-message-id=1352143508701450277><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, March 20, 2025 4:55â€¯AM"> <a href=#chatlog__message-container-1352143508701450277>3/20/2025 4:55â€¯AM</a> </span></div></div></div><div id=chatlog__message-container-1352675883336339541 class=chatlog__message-container data-message-id=1352675883336339541><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, March 21, 2025 4:11â€¯PM"> <a href=#chatlog__message-container-1352675883336339541>3/21/2025 4:11â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1353524865281560638 class=chatlog__message-container data-message-id=1353524865281560638><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1131752981679853640/1628fc11e7961d85181295493426b775.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=gin4918 data-user-id=1131752981679853640>gin4918</span> <span class=chatlog__timestamp title="Monday, March 24, 2025 12:24â€¯AM"><a href=#chatlog__message-container-1353524865281560638>3/24/2025 12:24â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi guys, is  it feasible to create hnsw index on colpali embedding column?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1353842203897757912 class=chatlog__message-container data-message-id=1353842203897757912><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=luqiu_87609 data-user-id=1209390552148090902>Lu Qiu</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, March 24, 2025 9:25â€¯PM"> <a href=#chatlog__message-container-1353842203897757912>3/24/2025 9:25â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1364752047638839433 class=chatlog__message-container data-message-id=1364752047638839433><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=pavanramkumar_42012 data-user-id=1364744923131412500>Pavan Ramkumar</span> <span class=chatlog__timestamp title="Wednesday, April 23, 2025 11:57â€¯PM"><a href=#chatlog__message-container-1364752047638839433>4/23/2025 11:57â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lancedb_table.search(query)</code>
apologies for the dumb question, i couldn&#39;t find my answer in the API docs. what&#39;s the batch mode equivalent of this i.e. across a batch of <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">query</code> vectors?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1365764601408389202 class=chatlog__message-container data-message-id=1365764601408389202><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1355942924025729295/2379b29fe59d5564b93da68d99594922.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=vybecoder_81760 data-user-id=1355942924025729295>vybecoder</span> <span class=chatlog__timestamp title="Saturday, April 26, 2025 7:00â€¯PM"><a href=#chatlog__message-container-1365764601408389202>4/26/2025 7:00â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://github.com/lancedb/lancedb/pull/2355">https://github.com/lancedb/lancedb/pull/2355</a>

my first PR here so let me know if I messed it up or there are questions. Basically anything not totally flat got written structurally correctly but every field was null. I resolved the lint error (about an any) but that was actually with the original not my code (changed to unknown) but it tweaks the contract a smidge.</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/pull/2355><div class="chatlog__markdown chatlog__markdown-preserve">fix: prevent embedded objects from returning null in all of their f...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">metadata{filename=xyz} filename would be there structurally, but ALWAYS null.
I didn&amp;#39;t include this as a file but it may be useful for understanding the problem for people searching on this...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/yLSt9hhIfvTI2mkIu_BurMNj9L1ORNjkN15Hj5wHra0/https/opengraph.githubassets.com/ae6f65ad859488508e13156eccec0d9d9516d31a816ad6b1bf5764fd4916d64b/lancedb/lancedb/pull/2355> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/yLSt9hhIfvTI2mkIu_BurMNj9L1ORNjkN15Hj5wHra0/https/opengraph.githubassets.com/ae6f65ad859488508e13156eccec0d9d9516d31a816ad6b1bf5764fd4916d64b/lancedb/lancedb/pull/2355 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1367724802298875954 class=chatlog__message-container data-message-id=1367724802298875954><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1131752981679853640/1628fc11e7961d85181295493426b775.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=gin4918 data-user-id=1131752981679853640>gin4918</span> <span class=chatlog__timestamp title="Friday, May 2, 2025 4:50â€¯AM"><a href=#chatlog__message-container-1367724802298875954>5/2/2025 4:50â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi guys, i store the colqwen-v1.0 multivector into lancedb. 
May i know the _distance value return from search is distance metric or max similarity?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1367832153832030303 class=chatlog__message-container data-message-id=1367832153832030303><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, May 2, 2025 11:56â€¯AM"> <a href=#chatlog__message-container-1367832153832030303>5/2/2025 11:56â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1371344247025827850 class=chatlog__message-container data-message-id=1371344247025827850><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=vishal_93988 data-user-id=1371343430835241075>Vishal</span> <span class=chatlog__timestamp title="Monday, May 12, 2025 4:32â€¯AM"><a href=#chatlog__message-container-1371344247025827850>5/12/2025 4:32â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi , how to get non-beta cloud access?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1371502164282966066 class=chatlog__message-container data-message-id=1371502164282966066><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=vishal_93988>Vishal</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1371344247025827850')"> Hi , how to get non-beta cloud access? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wyatt.alt data-user-id=1331668878178127883>wkalt</span> <span class=chatlog__timestamp title="Monday, May 12, 2025 2:59â€¯PM"><a href=#chatlog__message-container-1371502164282966066>5/12/2025 2:59â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey Vishal, just responded to your email. LanceDB Cloud is in beta now but should be GA sometime later in the year.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1375495712883740742 class=chatlog__message-container data-message-id=1375495712883740742><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1153168578405748787/3465384296e0f34446bff2ed328733b9.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=everettvt_58805 data-user-id=1153168578405748787>Everett</span> <span class=chatlog__timestamp title="Friday, May 23, 2025 3:28â€¯PM"><a href=#chatlog__message-container-1375495712883740742>5/23/2025 3:28â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey lancedb team, 

The recent paper from Cornell University &quot;Harnessing the Universal Geometry of Embeddings&quot; essentially lays the foundation for universal translation between embedding models. My gut reaction was that the paper has some pretty profound implications for embeddings management. 

Paper: <a href="https://arxiv.org/pdf/2505.12540">https://arxiv.org/pdf/2505.12540</a>
Repo:<a href="https://github.com/rjha18/vec2vec">https://github.com/rjha18/vec2vec</a>

I created a discussion thread to begin the conversation. Interested in more technical experts to weigh in. 
<a href="https://github.com/lancedb/lancedb/discussions/2402">https://github.com/lancedb/lancedb/discussions/2402</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/rjha18/vec2vec><div class="chatlog__markdown chatlog__markdown-preserve">GitHub - rjha18/vec2vec</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Contribute to rjha18/vec2vec development by creating an account on GitHub.</div></div></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=fire><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ”¥ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1375511382958669991 class=chatlog__message-container data-message-id=1375511382958669991><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, May 23, 2025 4:31â€¯PM"> <a href=#chatlog__message-container-1375511382958669991>5/23/2025 4:31â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1382422730820948079 class=chatlog__message-container data-message-id=1382422730820948079><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/848957152085016608/87413a948747d6b7b4399eb4dde8f08c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=octalpixel data-user-id=848957152085016608>MithushanJ</span> <span class=chatlog__timestamp title="Wednesday, June 11, 2025 6:14â€¯PM"><a href=#chatlog__message-container-1382422730820948079>6/11/2025 6:14â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Would this be coming to typescript as well ? 
<a href="https://docs.lancedb.com/core/multivector-search#using-multivector-in-python">https://docs.lancedb.com/core/multivector-search#using-multivector-in-python</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(255,255,255,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://docs.lancedb.com/core/multivector-search><div class="chatlog__markdown chatlog__markdown-preserve">Multivector Search - LanceDB</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Working with multiple vectors per document in LanceDB Enterprise</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/VJUCOAeGTMRnluSaw4IBzOMd-6bYkVY0plpu1XKRMkM/%3Furl%3D%252Fapi%252Fog%253Fdivision%253DDocumentation%2526title%253DMultivector%252BSearch%2526description%253DWorking%252Bwith%252Bmultiple%252Bvectors%252Bper%252Bdocument%252Bin%252BLanceDB%252BEnterprise%2526logoLight%253Dhttps%25253A%25252F%25252Fmintlify.s3.us-west-1.amazonaws.com%25252Flancedb-bcbb4faf%25252Flogo%25252Flancedb-logo.svg%2526logoDark%253Dhttps%25253A%25252F%25252Fmintlify.s3.us-west-1.amazonaws.com%25252Flancedb-bcbb4faf%25252Flogo%25252Flancedb-logo.svg%2526primaryColor%253D%2525230D9373%2526lightColor%253D%25252307C983%2526darkColor%253D%2525230D9373%26w%3D1200%26q%3D100/https/lancedb-bcbb4faf.mintlify.app/mintlify-assets/_next/image> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/VJUCOAeGTMRnluSaw4IBzOMd-6bYkVY0plpu1XKRMkM/%3Furl%3D%252Fapi%252Fog%253Fdivision%253DDocumentation%2526title%253DMultivector%252BSearch%2526description%253DWorking%252Bwith%252Bmultiple%252Bvectors%252Bper%252Bdocument%252Bin%252BLanceDB%252BEnterprise%2526logoLight%253Dhttps%25253A%25252F%25252Fmintlify.s3.us-west-1.amazonaws.com%25252Flancedb-bcbb4faf%25252Flogo%25252Flancedb-logo.svg%2526logoDark%253Dhttps%25253A%25252F%25252Fmintlify.s3.us-west-1.amazonaws.com%25252Flancedb-bcbb4faf%25252Flogo%25252Flancedb-logo.svg%2526primaryColor%253D%2525230D9373%2526lightColor%253D%25252307C983%2526darkColor%253D%2525230D9373%26w%3D1200%26q%3D100/https/lancedb-bcbb4faf.mintlify.app/mintlify-assets/_next/image alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1382518083998056565 class=chatlog__message-container data-message-id=1382518083998056565><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=qian_00349 data-user-id=1139637723725041674>Qian</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, June 12, 2025 12:33â€¯AM"> <a href=#chatlog__message-container-1382518083998056565>6/12/2025 12:33â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1382589139110596608 class=chatlog__message-container data-message-id=1382589139110596608><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=vishal_93988 data-user-id=1371343430835241075>Vishal</span> <span class=chatlog__timestamp title="Thursday, June 12, 2025 5:15â€¯AM"><a href=#chatlog__message-container-1382589139110596608>6/12/2025 5:15â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="qian_00349">@Qian</span>  As a core member of the Data Science team at NewTide Group, I would like to express our concern regarding the reliability of LanceDB Cloud. Despite multiple follow-ups, we have not received timely or consistent support. This is particularly critical as we are in a production-ready phase, and the ongoing service disruption is directly impacting real-time customer-facing applications. We urge the LanceDB team to address these issues with priority and provide the necessary operational support to ensure service stability.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1382736788140855331 class=chatlog__message-container data-message-id=1382736788140855331><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=qian_00349 data-user-id=1139637723725041674>Qian</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, June 12, 2025 3:02â€¯PM"> <a href=#chatlog__message-container-1382736788140855331>6/12/2025 3:02â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1387425835773853798 class=chatlog__message-container data-message-id=1387425835773853798><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=user855 data-user-id=426505001867673600>user855</span> <span class=chatlog__timestamp title="Wednesday, June 25, 2025 1:34â€¯PM"><a href=#chatlog__message-container-1387425835773853798>6/25/2025 1:34â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi - Does LanceDB provide random lookup over multiple Lance format files? In the lance file format description there are details of how the index would work within a file, but I&#39;m not yet clear how it does a lookup over multiple files? Does it have to iteratively do a test search on each file, each file is O(1), but overall its still O(number of files) ? Or is some kind of metadata index maintained to quickly search among many files? Or is the assumption that the whole DB will be compacted to 1 large file and hence ability to randomly lookup within 1 file is sufficient as long compaction keeps up.</span> <span class=chatlog__edited-timestamp title="Wednesday, June 25, 2025 1:37â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1387512091522367560 class=chatlog__message-container data-message-id=1387512091522367560><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, June 25, 2025 7:17â€¯PM"> <a href=#chatlog__message-container-1387512091522367560>6/25/2025 7:17â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1395057058759577631 class=chatlog__message-container data-message-id=1395057058759577631><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=user855 data-user-id=426505001867673600>user855</span> <span class=chatlog__timestamp title="Wednesday, July 16, 2025 2:58â€¯PM"><a href=#chatlog__message-container-1395057058759577631>7/16/2025 2:58â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is Lance compatible with Iceberg? Does it even need to be?

Lance seems a lot better than Iceberg and I&#39;m wondering if going through an Iceberg interface to access Lance is detrimental than beneficial for large use cases.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1395065279276650510 class=chatlog__message-container data-message-id=1395065279276650510><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=xuanwo data-user-id=676283050434232365>Xuanwo</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, July 16, 2025 3:31â€¯PM"> <a href=#chatlog__message-container-1395065279276650510>7/16/2025 3:31â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1400186354310189177 class=chatlog__message-container data-message-id=1400186354310189177><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1333166919347339438/bf75019625a78500fe3485a81f1e4d4c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=metateam data-user-id=1333166919347339438>Tim</span> <span class=chatlog__timestamp title="Wednesday, July 30, 2025 6:40â€¯PM"><a href=#chatlog__message-container-1400186354310189177>7/30/2025 6:40â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi there, has there been an example of writing a custom &quot;encoding&quot; plugin for lance?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1400195445409583220 class=chatlog__message-container data-message-id=1400195445409583220><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, July 30, 2025 7:16â€¯PM"> <a href=#chatlog__message-container-1400195445409583220>7/30/2025 7:16â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1405908930814803968 class=chatlog__message-container data-message-id=1405908930814803968><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=sandman_58272 data-user-id=1207706541373792319>Sandip</span> <span class=chatlog__timestamp title="Friday, August 15, 2025 1:40â€¯PM"><a href=#chatlog__message-container-1405908930814803968>8/15/2025 1:40â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi...I&#39;m not sure if this is the right channel: I have a lancedb table that has been copied from my repo into a container and then into an attached volume. I can see the files in there. However, I am unable to read the table from the volume:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">&gt;&gt;&gt; db.open_table(&quot;portfolio&quot;)
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
  File &quot;/usr/local/lib/python3.12/site-packages/lancedb/db.py&quot;, line 496, in open_table
    return LanceTable.open(
           ^^^^^^^^^^^^^^^^
  File &quot;/usr/local/lib/python3.12/site-packages/lancedb/table.py&quot;, line 1598, in open
    tbl = cls(db, name, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/usr/local/lib/python3.12/site-packages/lancedb/table.py&quot;, line 1584, in __init__
    self._table = LOOP.run(
                  ^^^^^^^^^
  File &quot;/usr/local/lib/python3.12/site-packages/lancedb/background_loop.py&quot;, line 25, in run
    return asyncio.run_coroutine_threadsafe(future, self.loop).result()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/usr/local/lib/python3.12/concurrent/futures/_base.py&quot;, line 456, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File &quot;/usr/local/lib/python3.12/concurrent/futures/_base.py&quot;, line 401, in __get_result
    raise self._exception
  File &quot;/usr/local/lib/python3.12/site-packages/lancedb/db.py&quot;, line 858, in open_table
    table = await self._inner.open_table(name, storage_options, index_cache_size)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: Table &#39;portfolio&#39; was not found</code></span></div><div class=chatlog__attachment><a href="https://cdn.discordapp.com/attachments/1101154357778591824/1405908930550431774/image.png?ex=698a8c79&amp;is=69893af9&amp;hm=495383aad7a3d2ba92672fd2c893e5994780574b94ba3600b5910f12f48deb83&amp;"> <img class=chatlog__attachment-media src="https://cdn.discordapp.com/attachments/1101154357778591824/1405908930550431774/image.png?ex=698a8c79&amp;is=69893af9&amp;hm=495383aad7a3d2ba92672fd2c893e5994780574b94ba3600b5910f12f48deb83&amp;" alt="Image attachment" title="Image: image.png (129.02 KB)" loading=lazy> </a></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1407021761161072721 class=chatlog__message-container data-message-id=1407021761161072721><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/762192026653294603/0777b1b2252f5f54629d0b5ef334f9fd.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=sandman_58272>Sandip</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1405908930814803968')"> Hi...I&#39;m not sure if this is the right channel: I have a lancedb table that has been copied from my repo into a container and then into an attached volume. I can see the files in there. However, I am unable to read the table from the volume:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">&gt;&gt;&gt; db.open_table(&quot;portfolio&quot;)
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
  File &quot;/usr/local/lib/python3.12/site-packages/lancedb/db.py&quot;, line 496, in open_table
    return LanceTable.open(
           ^^^^^^^^^^^^^^^^
  File &quot;/usr/local/lib/python3.12/site-packages/lancedb/table.py&quot;, line 1598, in open
    tbl = cls(db, name, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/usr/local/lib/python3.12/site-packages/lancedb/table.py&quot;, line 1584, in __init__
    self._table = LOOP.run(
                  ^^^^^^^^^
  File &quot;/usr/local/lib/python3.12/site-packages/lancedb/background_loop.py&quot;, line 25, in run
    return asyncio.run_coroutine_threadsafe(future, self.loop).result()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/usr/local/lib/python3.12/concurrent/futures/_base.py&quot;, line 456, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File &quot;/usr/local/lib/python3.12/concurrent/futures/_base.py&quot;, line 401, in __get_result
    raise self._exception
  File &quot;/usr/local/lib/python3.12/site-packages/lancedb/db.py&quot;, line 858, in open_table
    table = await self._inner.open_table(name, storage_options, index_cache_size)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: Table &#39;portfolio&#39; was not found</code> </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=jackye8397 data-user-id=762192026653294603>Jack Ye</span> <span class=chatlog__timestamp title="Monday, August 18, 2025 3:22â€¯PM"><a href=#chatlog__message-container-1407021761161072721>8/18/2025 3:22â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Looks like the copy is not complete? At least it is missing a _version directory from what you listed under portfolio.lance</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1407658585919324240 class=chatlog__message-container data-message-id=1407658585919324240><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=ther1sing3un_17890 data-user-id=1143924812117459056>TheR1sing3un</span> <span class=chatlog__timestamp title="Wednesday, August 20, 2025 9:32â€¯AM"><a href=#chatlog__message-container-1407658585919324240>8/20/2025 9:32â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello, lancedb team. I&#39;m very interested in deploying a lancedb computing cluster locally. However, I haven&#39;t found any similar tutorials on the official website yet. May I ask if it is currently supported for us to deploy a lancedb computing clusterï¼Ÿ<img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ‘€"
    title="eyes"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f440.svg"></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1407741169361879206 class=chatlog__message-container data-message-id=1407741169361879206><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, August 20, 2025 3:00â€¯PM"> <a href=#chatlog__message-container-1407741169361879206>8/20/2025 3:00â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1408170755752988823 class=chatlog__message-container data-message-id=1408170755752988823><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=filbert42_65700 data-user-id=1408060986052837459>filbert42</span> <span class=chatlog__timestamp title="Thursday, August 21, 2025 7:27â€¯PM"><a href=#chatlog__message-container-1408170755752988823>8/21/2025 7:27â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey guys, thank you for your awesome work on LanceDB! 
I have some difficulties with figuring out memory consumption while running table optimization functions, maybe someone can help me with that?

I&#39;m using LanceDB (OSS) on S3 storage with a setup when I&#39;m writing data in small batches from stream into the table and once an hour kubernetes cronjob runs and optimizes this table. Currently there are no vectors in the table, just bunch of FTS, Bitmap and BTree indexes.
I&#39;m experiencing that RAM consumption is constantly growing in the optimization cronjob pod and it starts OOMing until I give it more RAM, but after some time it grows again and OOMs again.  Currently it&#39;s about 50GB of data and optimization OOMing on pod with 32 GB RAM.

I understand that this is a serverless setup and therefore some heavyligting should be done on the client side, but I suppose that it shouldn&#39;t grow indefinitely with data size. Is there some way to restrict how much RAM LanceDB can use? 

What I tried already:
<ul><li>replacing <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table.optimize()</code> calls with <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table.compact_files(batch_size=1024)</code>, <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table.cleanup_old_versions()</code> and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table.to_lance().optimize.optimize_indicies()</code> calls</li><li>replacing <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table.compact_files(batch_size=1024)</code> with <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table.to_lance().optimize.compact_files(batch_size=1024)</code></li><li>passing <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">default_scan_options={&quot;batch_size&quot;: 1024}</code> into <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">to_lance()</code> method in calls above</li><li>changing <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">batch_size</code> to something very small like 128</li><li>deleting <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table</code> and calling <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">gc.collect()</code> between the operatiions</li><li>creating <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Session()</code> object with <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">index_cache_size_bytes</code> set to 2GB and passing it into connection creatiion

The strangest thing that none of the operations above did affect memory utilization patterns - it spikes on <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">compact_files()</code> and on <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">optimmize_indicies()</code> (except for garbage collector trick, but afterwards it takes all memory again). </li></ul>Any advice would be greatly appreciated, thanks!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1408513848088072237 class=chatlog__message-container data-message-id=1408513848088072237><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=jackye8397 data-user-id=762192026653294603>Jack Ye</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, August 22, 2025 6:11â€¯PM"> <a href=#chatlog__message-container-1408513848088072237>8/22/2025 6:11â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1415239539798048860 class=chatlog__message-container data-message-id=1415239539798048860><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/457098266782466075/9f3e04d471cddff00abe1dad5029033d.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=le_duc_manh data-user-id=457098266782466075>Yuder</span> <span class=chatlog__timestamp title="Wednesday, September 10, 2025 7:36â€¯AM"><a href=#chatlog__message-container-1415239539798048860>9/10/2025 7:36â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi guys, I created this very small PR to solve a bug regarding rebuild the function from arrow metadata will not resolve variables <a href="https://github.com/lancedb/lancedb/pull/2640">https://github.com/lancedb/lancedb/pull/2640</a>. I appreciate your reviews. Our team are looking into using LanceDB and Lance in our workflows and I bump into the bug.</span> <span class=chatlog__edited-timestamp title="Wednesday, September 10, 2025 7:37â€¯AM">(edited)</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/pull/2640.><div class="chatlog__markdown chatlog__markdown-preserve">Build software better, together</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">GitHub is where people build software. More than 150 million people use GitHub to discover, fork, and contribute to over 420 million projects.</div></div></div></div><div class="chatlog__embed-images chatlog__embed-images--single"><div class=chatlog__embed-image-container><a class=chatlog__embed-image-link href=https://images-ext-1.discordapp.net/external/zrnIBpWQXHOafgsWGuTZvhY0r8aEHF-xBeTOrB3xlJU/https/github.githubassets.com/assets/github-logo-55c5b9a1fe52.png> <img class=chatlog__embed-image src=https://images-ext-1.discordapp.net/external/zrnIBpWQXHOafgsWGuTZvhY0r8aEHF-xBeTOrB3xlJU/https/github.githubassets.com/assets/github-logo-55c5b9a1fe52.png alt=Image loading=lazy> </a></div></div></div></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text></div></div><div class="chatlog__embed-images chatlog__embed-images--single"><div class=chatlog__embed-image-container><a class=chatlog__embed-image-link href=https://images-ext-1.discordapp.net/external/FRgfgb8oHhfnQvjHln3zixTf7gq7QoqGd3zUTHj8dYs/https/github.githubassets.com/assets/github-mark-57519b92ca4e.png> <img class=chatlog__embed-image src=https://images-ext-1.discordapp.net/external/FRgfgb8oHhfnQvjHln3zixTf7gq7QoqGd3zUTHj8dYs/https/github.githubassets.com/assets/github-mark-57519b92ca4e.png alt=Image loading=lazy> </a></div></div></div></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text></div></div><div class="chatlog__embed-images chatlog__embed-images--single"><div class=chatlog__embed-image-container><a class=chatlog__embed-image-link href=https://images-ext-1.discordapp.net/external/8FXhmVUPVyR2kElkdv_UGNnEDNM53oUrUfnhRGabHp8/https/github.githubassets.com/assets/github-octocat-13c86b8b336d.png> <img class=chatlog__embed-image src=https://images-ext-1.discordapp.net/external/8FXhmVUPVyR2kElkdv_UGNnEDNM53oUrUfnhRGabHp8/https/github.githubassets.com/assets/github-octocat-13c86b8b336d.png alt=Image loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1416821744597078036 class=chatlog__message-container data-message-id=1416821744597078036><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=ramihassanein data-user-id=743865640393375835>Rami</span> <span class=chatlog__timestamp title="Sunday, September 14, 2025 4:23â€¯PM"><a href=#chatlog__message-container-1416821744597078036>9/14/2025 4:23â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi Everyone, i have been banging my head on this for quite sometime and was not able to find answers in the docs. I have a lancedb table that has document_id and document_md so this is a table of large markdown files. I would like to run hybrid search (fts + vector) what is the recommended way for this? Do i jst add a vector column and have the full document embedded? Or i have to use something like langchain markdown chunk maker and have another table with the chunks and their vector representation. Is there a recommended way to do this? Thanks a ton.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1416842311723257926 class=chatlog__message-container data-message-id=1416842311723257926><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=ramihassanein data-user-id=743865640393375835>Rami</span> <span class=chatlog__timestamp title="Sunday, September 14, 2025 5:45â€¯PM"><a href=#chatlog__message-container-1416842311723257926>9/14/2025 5:45â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I found this. Is this the recommended approach. To have 2 tables one for fts and another for vectors and then combine the results using this?

<a href="https://lancedb.github.io/lancedb/js/namespaces/rerankers/classes/RRFReranker/">https://lancedb.github.io/lancedb/js/namespaces/rerankers/classes/RRFReranker/</a></span></div></div></div></div><div id=chatlog__message-container-1416842588270624788 class=chatlog__message-container data-message-id=1416842588270624788><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Sunday, September 14, 2025 5:46â€¯PM">5:46â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>rerankHybrid(
   query,
   vecResults,
   ftsResults): Promise&lt;RecordBatch&lt;any&gt;&gt;</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1416851608657989652 class=chatlog__message-container data-message-id=1416851608657989652><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=ramihassanein>Rami</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1416821744597078036')"> Hi Everyone, i have been banging my head on this for quite sometime and was not able to find answers in the docs. I have a lancedb table that has document_id and document_md so this is a table of large markdown files. I would like to run hybrid search (fts + vector) what is the recommended way for this? Do i jst add a vector column and have the full document embedded? Or i have to use something like langchain markdown chunk maker and have another table with the chunks and their vector representation. Is there a recommended way to do this? Thanks a ton. </span></div></div><div class=chatlog__header><span class=chatlog__author title=_nickwashere data-user-id=351484298731323404>NickWasHere</span> <span class=chatlog__timestamp title="Sunday, September 14, 2025 6:22â€¯PM"><a href=#chatlog__message-container-1416851608657989652>9/14/2025 6:22â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;ve been out of the lancedb game for a hot minute (just starting to get back into it) so i&#39;m a little rusty, but typically you want to chunk most documents significantly over 1k tokens. of course, chunk size depends on the types of documents you&#39;re indexing.

its generally bad practice in <em>any</em> database to throw a wall of text in a column/document and try to search it usefully.</span> <span class=chatlog__edited-timestamp title="Sunday, September 14, 2025 6:22â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1417569856420712463 class=chatlog__message-container data-message-id=1417569856420712463><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=luqiu_87609 data-user-id=1209390552148090902>Lu Qiu</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, September 16, 2025 5:56â€¯PM"> <a href=#chatlog__message-container-1417569856420712463>9/16/2025 5:56â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1417593333706133515 class=chatlog__message-container data-message-id=1417593333706133515><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=ramihassanein data-user-id=743865640393375835>Rami</span> <span class=chatlog__timestamp title="Tuesday, September 16, 2025 7:29â€¯PM"><a href=#chatlog__message-container-1417593333706133515>9/16/2025 7:29â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Thanks <span class="chatlog__markdown-mention" title="_nickwashere">@NickWasHere</span> i will follow that approach.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1418364397860159530 class=chatlog__message-container data-message-id=1418364397860159530><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jellyfish_sanctuary data-user-id=1406140038466502771>jellyfish_sanctuary</span> <span class=chatlog__timestamp title="Thursday, September 18, 2025 10:33â€¯PM"><a href=#chatlog__message-container-1418364397860159530>9/18/2025 10:33â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello, I&#39;m trying to create an IVFPQ vector index. I&#39;m seeing this error: 
<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Invalid input, An IVF PQ index cannot be created on the column </code>embedding<code class="chatlog__markdown-pre chatlog__markdown-pre--inline"> which has data type FixedSizeList(Field { name: &quot;item&quot;, data_type: Int32, nullable: true, dict_id: 0, dict_is_ordered: false, metadata: {} }, 256)</code>
Seems to happen anytime I use an <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Int</code> e.g. <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">(&quot;embedding&quot;, pa.list_(pa.int32(), 256)),</code> but works if I use float. What data types are supported for building an IVFPQ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1418366925494419486 class=chatlog__message-container data-message-id=1418366925494419486><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=luqiu_87609 data-user-id=1209390552148090902>Lu Qiu</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, September 18, 2025 10:43â€¯PM"> <a href=#chatlog__message-container-1418366925494419486>9/18/2025 10:43â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1418716460091707454 class=chatlog__message-container data-message-id=1418716460091707454><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=aidan_67775 data-user-id=1312466914492026933>aidan</span> <span class=chatlog__timestamp title="Friday, September 19, 2025 9:52â€¯PM"><a href=#chatlog__message-container-1418716460091707454>9/19/2025 9:52â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, team! I am interested in incremental indexing for a FTS index. I observed this feature working when building lance native indexes, but I don&#39;t see my new data available after adding it to the table when I&#39;m using the tantivy-based index. Is incremental indexing supported for tantivy FTS as well?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1418795390269915222 class=chatlog__message-container data-message-id=1418795390269915222><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Saturday, September 20, 2025 3:06â€¯AM"> <a href=#chatlog__message-container-1418795390269915222>9/20/2025 3:06â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1419966383168421899 class=chatlog__message-container data-message-id=1419966383168421899><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=ramihassanein data-user-id=743865640393375835>Rami</span> <span class=chatlog__timestamp title="Tuesday, September 23, 2025 8:39â€¯AM"><a href=#chatlog__message-container-1419966383168421899>9/23/2025 8:39â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I have a question on lancedb + s3 support. Now s3 does not support appending to objects directly. So when we add a row to a lancedb table that is on s3 does this mean lancedb client would be loading all the data in memory and then adding the row? Would that work with large tables? Or does lancedb save data on multiple small files thats how it can do that efficiently?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1420441227093999711 class=chatlog__message-container data-message-id=1420441227093999711><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, September 24, 2025 4:06â€¯PM"> <a href=#chatlog__message-container-1420441227093999711>9/24/2025 4:06â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1420766117097377802 class=chatlog__message-container data-message-id=1420766117097377802><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1258076097518637086/e1cbeccc9514a58846ce38d5c841bd94.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=order_5 data-user-id=1258076097518637086>! Order</span> <span class=chatlog__timestamp title="Thursday, September 25, 2025 1:37â€¯PM"><a href=#chatlog__message-container-1420766117097377802>9/25/2025 1:37â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>is there anyone looking for dev?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1422600037023875122 class=chatlog__message-container data-message-id=1422600037023875122><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jellyfish_sanctuary data-user-id=1406140038466502771>jellyfish_sanctuary</span> <span class=chatlog__timestamp title="Tuesday, September 30, 2025 3:04â€¯PM"><a href=#chatlog__message-container-1422600037023875122>9/30/2025 3:04â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;m curiuos how <a href="https://lancedb.github.io/lancedb/python/python/#lancedb.table.AsyncTable.prewarm_index">https://lancedb.github.io/lancedb/python/python/#lancedb.table.AsyncTable.prewarm_index</a> prewarm index behaves when the index is updated, do I need to run <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">prewarm_index</code> again after more rows have been added to my index?
Without <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">prewarm_index</code> is there any caching of indexes when a query is made?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1422611178517168362 class=chatlog__message-container data-message-id=1422611178517168362><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/963889951810941039/da5f63d756a6d1f7751b11acfe241420.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=jellyfish_sanctuary>jellyfish_sanctuary</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1422600037023875122')"> I&#39;m curiuos how <a href="https://lancedb.github.io/lancedb/python/python/#lancedb.table.AsyncTable.prewarm_index">https://lancedb.github.io/lancedb/python/python/#lancedb.table.AsyncTable.prewarm_index</a> prewarm index behaves when the index is updated, do I need to run <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">prewarm_index</code> again after more rows have been added to my index?
Without <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">prewarm_index</code> is there any caching of indexes when a query is made? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=yah2er0ne data-user-id=963889951810941039>Yang</span> <span class=chatlog__timestamp title="Tuesday, September 30, 2025 3:48â€¯PM"><a href=#chatlog__message-container-1422611178517168362>9/30/2025 3:48â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yes, need to call prewarm again for warming up the new index

Yes, any query would make lance cache some parts of the index, the diff is prewarm would cache everything as possible</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=pray><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ™ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1422618191535804507 class=chatlog__message-container data-message-id=1422618191535804507><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jellyfish_sanctuary data-user-id=1406140038466502771>jellyfish_sanctuary</span> <span class=chatlog__timestamp title="Tuesday, September 30, 2025 4:16â€¯PM"><a href=#chatlog__message-container-1422618191535804507>9/30/2025 4:16â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Just a random thought it&#39;d be nice to stick pre-warmed indexes in a redis instance or something rather than memory.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1423719719306919957 class=chatlog__message-container data-message-id=1423719719306919957><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, October 3, 2025 5:13â€¯PM"> <a href=#chatlog__message-container-1423719719306919957>10/3/2025 5:13â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1424993081488441438 class=chatlog__message-container data-message-id=1424993081488441438><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1400746622702321738/6c5996770c985bcd6e5b68131ff2ba04.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=do0031 data-user-id=1400746622702321738>DO</span> <span class=chatlog__timestamp title="Tuesday, October 7, 2025 5:33â€¯AM"><a href=#chatlog__message-container-1424993081488441438>10/7/2025 5:33â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>How does LanceDB perform with geospatial data, satellite imagery, etc?   What would be it&#39;s advantages over Qdrant for this type of use case?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1425086748983300117 class=chatlog__message-container data-message-id=1425086748983300117><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=ramihassanein data-user-id=743865640393375835>Rami</span> <span class=chatlog__timestamp title="Tuesday, October 7, 2025 11:45â€¯AM"><a href=#chatlog__message-container-1425086748983300117>10/7/2025 11:45â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>When doing hybrid search how do i sort the results by score. Is that score from fts only or fts+vector together? Thanks</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1425143099029590122 class=chatlog__message-container data-message-id=1425143099029590122><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, October 7, 2025 3:29â€¯PM"> <a href=#chatlog__message-container-1425143099029590122>10/7/2025 3:29â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1425464356568694907 class=chatlog__message-container data-message-id=1425464356568694907><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=wilspo_74459 data-user-id=1336325284621975668>wilspo</span> <span class=chatlog__timestamp title="Wednesday, October 8, 2025 12:46â€¯PM"><a href=#chatlog__message-container-1425464356568694907>10/8/2025 12:46â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;m using Lancedb with Datafusion to join and sort across multiple Lance tables. One of these tables have frequent writes and I&#39;m looking for a way to keep my Datafusion context in sync with the lance table that changes. The lance files are in S3, and I have multiple processes querying these tables. I have currently registered tables to Datafusion using 
<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">FFILanceTableProvider</code> from <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lance</code> but the data is static from registration time.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1425516106713403488 class=chatlog__message-container data-message-id=1425516106713403488><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, October 8, 2025 4:12â€¯PM"> <a href=#chatlog__message-container-1425516106713403488>10/8/2025 4:12â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1427884192439734302 class=chatlog__message-container data-message-id=1427884192439734302><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/424058047879577611/7308cf6a6285d5d61777991d05c054dd.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=vpavlyshyn data-user-id=424058047879577611>vpavlyshyn</span> <span class=chatlog__timestamp title="Wednesday, October 15, 2025 5:02â€¯AM"><a href=#chatlog__message-container-1427884192439734302>10/15/2025 5:02â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hey folks . i am working on a book <a href="https://leanpub.com/edgeai-pocket-knowledgegraphs-on-user-device">https://leanpub.com/edgeai-pocket-knowledgegraphs-on-user-device</a> about edge ai and portable graphs . It is mainly about graphs on relational model but i want to write about alternative db. 
i have few questions :
<ul><li>is it possible to tun lance on user phone ?</li><li>how to run vectorserch and cypher graph queries on same db </li></ul>Thanks</span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://leanpub.com/edgeai-pocket-knowledgegraphs-on-user-device><div class="chatlog__markdown chatlog__markdown-preserve">Edge AI : Pocket Knowledge Graphs on user device</div></a></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/WRn-etUNQLLtC6E-v_fQJTwo1oSU632lFxGfev3XdO4/%3F1758053455/https/d2sofvawe08yqg.cloudfront.net/edgeai-pocket-knowledgegraphs-on-user-device/s_featured> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/WRn-etUNQLLtC6E-v_fQJTwo1oSU632lFxGfev3XdO4/%3F1758053455/https/d2sofvawe08yqg.cloudfront.net/edgeai-pocket-knowledgegraphs-on-user-device/s_featured alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div><div id=chatlog__message-container-1427884355698688020 class=chatlog__message-container data-message-id=1427884355698688020><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, October 15, 2025 5:02â€¯AM">5:02â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i also working on temporal agent memory <a href="https://leanpub.com/time-aware-ai-memory">https://leanpub.com/time-aware-ai-memory</a></span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://leanpub.com/time-aware-ai-memory><div class="chatlog__markdown chatlog__markdown-preserve">Temporal Aware AI memory: Why time is a key in a memory</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">So how do you make an AI agent and conversational agent understand time? How does time shape attention? How is time important for the context engine? You will learn how to add time to knowledge graphs, how time and causality drive context, and how to make the knowledge graphs that are used for AI memory time-aware.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/An7ukZXIgqmjlGeoGht3esk6HGj6LB0fiE_IDzzji80/%3F1758958835/https/d2sofvawe08yqg.cloudfront.net/time-aware-ai-memory/s_featured> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/An7ukZXIgqmjlGeoGht3esk6HGj6LB0fiE_IDzzji80/%3F1758958835/https/d2sofvawe08yqg.cloudfront.net/time-aware-ai-memory/s_featured alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1428025763822833828 class=chatlog__message-container data-message-id=1428025763822833828><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/424058047879577611/7308cf6a6285d5d61777991d05c054dd.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=vpavlyshyn>vpavlyshyn</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1427884192439734302')"> hey folks . i am working on a book <a href="https://leanpub.com/edgeai-pocket-knowledgegraphs-on-user-device">https://leanpub.com/edgeai-pocket-knowledgegraphs-on-user-device</a> about edge ai and portable graphs . It is mainly about graphs on relational model but i want to write about alternative db. 
i have few questions :
<ul><li>is it possible to tun lance on user phone ?</li><li>how to run vectorserch and cypher graph queries on same db </li></ul>Thanks </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Wednesday, October 15, 2025 2:24â€¯PM"><a href=#chatlog__message-container-1428025763822833828>10/15/2025 2:24â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi <span class="chatlog__markdown-mention" title="vpavlyshyn">@vpavlyshyn</span>, this new repo (still early days) should be of interest:
<a href="https://github.com/lancedb/lance-graph">https://github.com/lancedb/lance-graph</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance-graph><div class="chatlog__markdown chatlog__markdown-preserve">GitHub - lancedb/lance-graph: Run Graph Queries with Lance</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Run Graph Queries with Lance. Contribute to lancedb/lance-graph development by creating an account on GitHub.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/FrdEO5DPes-r0T5Db9oDVXAnty2Mix6m1Xv2fj9q5Vg/https/opengraph.githubassets.com/e705045d3cf29741fd929e0ad7e80492db40e8dbe5e788539b64f7a9888a2b67/lancedb/lance-graph> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/FrdEO5DPes-r0T5Db9oDVXAnty2Mix6m1Xv2fj9q5Vg/https/opengraph.githubassets.com/e705045d3cf29741fd929e0ad7e80492db40e8dbe5e788539b64f7a9888a2b67/lancedb/lance-graph alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1428026258008047718 class=chatlog__message-container data-message-id=1428026258008047718><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/424058047879577611/7308cf6a6285d5d61777991d05c054dd.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=vpavlyshyn data-user-id=424058047879577611>vpavlyshyn</span> <span class=chatlog__timestamp title="Wednesday, October 15, 2025 2:26â€¯PM"><a href=#chatlog__message-container-1428026258008047718>10/15/2025 2:26â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yep i just need a sample that glue it with vector</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1428026366288461935 class=chatlog__message-container data-message-id=1428026366288461935><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Wednesday, October 15, 2025 2:26â€¯PM"><a href=#chatlog__message-container-1428026366288461935>10/15/2025 2:26â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Right, worth playing around with it for sure</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1429010112919506957 class=chatlog__message-container data-message-id=1429010112919506957><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=user855 data-user-id=426505001867673600>user855</span> <span class=chatlog__timestamp title="Saturday, October 18, 2025 7:36â€¯AM"><a href=#chatlog__message-container-1429010112919506957>10/18/2025 7:36â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Are there guidelines or suggestions for how to manage training tables with hundreds of features. 

Any tips for managing the authoring experience for that?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1430432008080982051 class=chatlog__message-container data-message-id=1430432008080982051><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=yah2er0ne data-user-id=963889951810941039>Yang</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, October 22, 2025 5:46â€¯AM"> <a href=#chatlog__message-container-1430432008080982051>10/22/2025 5:46â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1430542976374800414 class=chatlog__message-container data-message-id=1430542976374800414><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/592462716937961482/6886bd45381f0f993a5be5d893836329.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=lewibs data-user-id=592462716937961482>lewibs</span> <span class=chatlog__timestamp title="Wednesday, October 22, 2025 1:07â€¯PM"><a href=#chatlog__message-container-1430542976374800414>10/22/2025 1:07â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>quick question, is lanceDB designed to replace a traditional DB or be used as an interface for indexing data kinda like elasticsearch?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1430618537524854972 class=chatlog__message-container data-message-id=1430618537524854972><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, October 22, 2025 6:07â€¯PM"> <a href=#chatlog__message-container-1430618537524854972>10/22/2025 6:07â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1430701263015776368 class=chatlog__message-container data-message-id=1430701263015776368><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/800380183903076372/99022b6d160633b74005c7c39f3c91b8.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=amit.chita data-user-id=800380183903076372>Chita</span> <span class=chatlog__timestamp title="Wednesday, October 22, 2025 11:36â€¯PM"><a href=#chatlog__message-container-1430701263015776368>10/22/2025 11:36â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi Everyone, 

I was looking at this demo <a href="https://saas-examples-large-scale.vercel.app/">https://saas-examples-large-scale.vercel.app/</a> and played with it a bit. I&#39;ve seen that response speed varies, between less than a second to even 20 seconds for a response. I wanted to know if that&#39;s how IVF-PQ behaves on these amounts of data, what takes most of the time there, and is there a way to overcome it. 

Would love to learn more from the community !</span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href="https://saas-examples-large-scale.vercel.app/"><div class="chatlog__markdown chatlog__markdown-preserve">LanceDB Wikipedia Search Demo</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">A demonstration of LanceDB&amp;apos;s vector search capabilities using Wikipedia data. Features semantic search, full-text search, and hybrid search across millions of Wikipedia articles.</div></div></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1431227571902611512 class=chatlog__message-container data-message-id=1431227571902611512><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=yah2er0ne data-user-id=963889951810941039>Yang</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, October 24, 2025 10:27â€¯AM"> <a href=#chatlog__message-container-1431227571902611512>10/24/2025 10:27â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1431396272685846589 class=chatlog__message-container data-message-id=1431396272685846589><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=khanof89 data-user-id=401832379720794113>Shahrukh</span> <span class=chatlog__timestamp title="Friday, October 24, 2025 9:37â€¯PM"><a href=#chatlog__message-container-1431396272685846589>10/24/2025 9:37â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hello everyone ! is this the right channel to ask question about an error ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1431410829915324559 class=chatlog__message-container data-message-id=1431410829915324559><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, October 24, 2025 10:35â€¯PM"> <a href=#chatlog__message-container-1431410829915324559>10/24/2025 10:35â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1433390289518592113 class=chatlog__message-container data-message-id=1433390289518592113><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/255275229302095873/f21003fa2c2992a8ce33987d53644344.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=ggozad data-user-id=255275229302095873>ggozad</span> <span class=chatlog__timestamp title="Thursday, October 30, 2025 9:41â€¯AM"><a href=#chatlog__message-container-1433390289518592113>10/30/2025 9:41â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello I have been building haiku.rag (<a href="https://github.com/ggozad/haiku.rag)">https://github.com/ggozad/haiku.rag)</a> a python RAG library that uses lanceDB &amp; pydantic AI.
To simplify I have two tables one for Documents and one for Chunks:

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-python">class DocumentRecord(LanceModel):
    id: str = Field(default_factory=lambda: str(uuid4()))
    content: str
    uri: str | None = None
    title: str | None = None
    metadata: str = Field(default=&quot;{}&quot;)
    created_at: str = Field(default_factory=lambda: &quot;&quot;)
    updated_at: str = Field(default_factory=lambda: &quot;&quot;)


class ChunkRecord(LanceModel):
    id: str = Field(default_factory=lambda: str(uuid4()))
    document_id: str
    content: str
    metadata: str = Field(default=&quot;{}&quot;)
    order: int = Field(default=0)
    vector: Vector(vector_dim) = Field(default_factory=lambda: [0.0] * vector_dim)  # type: ignore</code>

Now I would like to add &quot;filtering&quot; capabilities to my vector search on Chunks based on Document metadata (e.g., only search chunks from documents with a specific title or created_at date).
How can I achieve this efficiently using lanceDB? Is there a recommended approach to join or filter based on related table data during vector search?</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/ggozad/haiku.rag><div class="chatlog__markdown chatlog__markdown-preserve">GitHub - ggozad/haiku.rag: Retrieval Augmented Generation based on ...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Retrieval Augmented Generation based on LanceDB. Contribute to ggozad/haiku.rag development by creating an account on GitHub.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/HLXP-WVG79Hteu8_YJTKBmBIT4mrSjJwU10cYZPQNTY/https/opengraph.githubassets.com/2b519fc6f7e619b715d79724148917fd59d16bd8ffcbbf213f8f1f4ee455cbca/ggozad/haiku.rag> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/HLXP-WVG79Hteu8_YJTKBmBIT4mrSjJwU10cYZPQNTY/https/opengraph.githubassets.com/2b519fc6f7e619b715d79724148917fd59d16bd8ffcbbf213f8f1f4ee455cbca/ggozad/haiku.rag alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1433397087625809970 class=chatlog__message-container data-message-id=1433397087625809970><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/255275229302095873/f21003fa2c2992a8ce33987d53644344.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/255275229302095873/f21003fa2c2992a8ce33987d53644344.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=ggozad>ggozad</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1433390289518592113')"> Hello I have been building haiku.rag (<a href="https://github.com/ggozad/haiku.rag)">https://github.com/ggozad/haiku.rag)</a> a python RAG library that uses lanceDB &amp; pydantic AI.
To simplify I have two tables one for Documents and one for Chunks:

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-python">class DocumentRecord(LanceModel):
    id: str = Field(default_factory=lambda: str(uuid4()))
    content: str
    uri: str | None = None
    title: str | None = None
    metadata: str = Field(default=&quot;{}&quot;)
    created_at: str = Field(default_factory=lambda: &quot;&quot;)
    updated_at: str = Field(default_factory=lambda: &quot;&quot;)


class ChunkRecord(LanceModel):
    id: str = Field(default_factory=lambda: str(uuid4()))
    document_id: str
    content: str
    metadata: str = Field(default=&quot;{}&quot;)
    order: int = Field(default=0)
    vector: Vector(vector_dim) = Field(default_factory=lambda: [0.0] * vector_dim)  # type: ignore</code>

Now I would like to add &quot;filtering&quot; capabilities to my vector search on Chunks based on Document metadata (e.g., only search chunks from documents with a specific title or created_at date).
How can I achieve this efficiently using lanceDB? Is there a recommended approach to join or filter based on related table data during vector search? </span></div></div><div class=chatlog__header><span class=chatlog__author title=ggozad data-user-id=255275229302095873>ggozad</span> <span class=chatlog__timestamp title="Thursday, October 30, 2025 10:08â€¯AM"><a href=#chatlog__message-container-1433397087625809970>10/30/2025 10:08â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>So far I think I can do either:
<ul><li>De-normalize and duplicate in the chunk table the columns I need.</li><li>Do two-phase search, where I filter on the documents then search with filtering with <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">document_id IN ...</code>

Is there something better I am missing?</li></ul></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1433441463420846162 class=chatlog__message-container data-message-id=1433441463420846162><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/195643605598208000/f2da56abb16a762baa422626699224b1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=valkum data-user-id=195643605598208000>Valkum</span> <span class=chatlog__timestamp title="Thursday, October 30, 2025 1:04â€¯PM"><a href=#chatlog__message-container-1433441463420846162>10/30/2025 1:04â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey, I am trying to merge-in large batches, but I want to let LanceDB backfill embeddings if needed.
<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">add</code> uses <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">MaybeEmbedded</code> or similar (not sure how the Python SDK does this). But for <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">merge</code> it doesn&#39;t, which causes <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lance error: Not supported: Deleting rows from the target table when there is no match in the source table is not supported when the source data has a different schema than the target data</code>

Is there anything planned to improve this?</span> <span class=chatlog__edited-timestamp title="Thursday, October 30, 2025 1:05â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1433449517017075868 class=chatlog__message-container data-message-id=1433449517017075868><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=valkum data-user-id=195643605598208000>Valkum</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, October 30, 2025 1:36â€¯PM"> <a href=#chatlog__message-container-1433449517017075868>10/30/2025 1:36â€¯PM</a> </span></div></div></div><div id=chatlog__message-container-1433778920787804234 class=chatlog__message-container data-message-id=1433778920787804234><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=jhsieh data-user-id=714506948132864011>jmhsieh</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, October 31, 2025 11:25â€¯AM"> <a href=#chatlog__message-container-1433778920787804234>10/31/2025 11:25â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1434926693365317632 class=chatlog__message-container data-message-id=1434926693365317632><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/195643605598208000/f2da56abb16a762baa422626699224b1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=valkum data-user-id=195643605598208000>Valkum</span> <span class=chatlog__timestamp title="Monday, November 3, 2025 3:26â€¯PM"><a href=#chatlog__message-container-1434926693365317632>11/3/2025 3:26â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>What are the plans for Python/Rust interop (i.e. using the same table from Rust and Python). Currently, even with setting up the same registry, the metadata keywords are different for the EmbeddingDefinitions.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1434934451342802986 class=chatlog__message-container data-message-id=1434934451342802986><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=jackye8397 data-user-id=762192026653294603>Jack Ye</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, November 3, 2025 3:57â€¯PM"> <a href=#chatlog__message-container-1434934451342802986>11/3/2025 3:57â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1438559119345975449 class=chatlog__message-container data-message-id=1438559119345975449><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Thursday, November 13, 2025 4:00â€¯PM"><a href=#chatlog__message-container-1438559119345975449>11/13/2025 4:00â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi all, based on the maturity of the Lance format and how important Polars is for many of our users, I proposed a new <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">scan_lance</code> method that would mimic existing scanners that Polars has for Iceberg, parquet, etc. If there&#39;s community interest in this, please upvote, and add your list of concerns/needs!
<a href="https://github.com/pola-rs/polars/issues/25320">https://github.com/pola-rs/polars/issues/25320</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/pola-rs/polars/issues/25320><div class="chatlog__markdown chatlog__markdown-preserve">Add <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">scan_lance</code> to Polars &#183; Issue #25320 &#183; pola-rs/polars</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Description Lance is an open data format for multimodal data, and interoperates well with the Arrow ecosystem. For many Lance users, scanning from Polars DataFrames and outputting Lance tables to P...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/UXKSaOOK5ZYGSMrawTwDdsautnMoUsp1dkboFjBLyDM/https/opengraph.githubassets.com/b255bf50461b2ff67bf1f94f558fa03dc8850c595a217196f155fc9f21f1ca39/pola-rs/polars/issues/25320> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/UXKSaOOK5ZYGSMrawTwDdsautnMoUsp1dkboFjBLyDM/https/opengraph.githubassets.com/b255bf50461b2ff67bf1f94f558fa03dc8850c595a217196f155fc9f21f1ca39/pola-rs/polars/issues/25320 alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=fire><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ”¥ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg loading=lazy> <span class=chatlog__reaction-count>3</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1440434706226352219 class=chatlog__message-container data-message-id=1440434706226352219><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1197265240375697409/d715e040732aa2190b519b7ef70165c8.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=soumitsr data-user-id=1197265240375697409>Soumit S Rahman</span> <span class=chatlog__timestamp title="Tuesday, November 18, 2025 8:13â€¯PM"><a href=#chatlog__message-container-1440434706226352219>11/18/2025 8:13â€¯PM</a></span></div></div></div></div><div id=chatlog__message-container-1440434712056434870 class=chatlog__message-container data-message-id=1440434712056434870><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, November 18, 2025 8:13â€¯PM">8:13â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey all, wondering if anyone got an answer to this? I am also looking for a way to do pre-limit ordering / sorting by a column value (to support paging using offset). Is there a way to do that in lancedb OSS?</span> <span class=chatlog__edited-timestamp title="Tuesday, November 18, 2025 8:17â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1440463653903011949 class=chatlog__message-container data-message-id=1440463653903011949><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, November 18, 2025 10:08â€¯PM"> <a href=#chatlog__message-container-1440463653903011949>11/18/2025 10:08â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1441033185021399093 class=chatlog__message-container data-message-id=1441033185021399093><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/413086014832246795/169f6f772a6a82124bffdd7d640cb5ea.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=runyaga2112 data-user-id=413086014832246795>runyaga2112</span> <span class=chatlog__timestamp title="Thursday, November 20, 2025 11:51â€¯AM"><a href=#chatlog__message-container-1441033185021399093>11/20/2025 11:51â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>what is the status of <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lance-graph</code> ? is anyone using it in production?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1441083965141422136 class=chatlog__message-container data-message-id=1441083965141422136><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, November 20, 2025 3:13â€¯PM"> <a href=#chatlog__message-container-1441083965141422136>11/20/2025 3:13â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1445060218571722764 class=chatlog__message-container data-message-id=1445060218571722764><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=destini10 data-user-id=235421441472987147>DeStiNi</span> <span class=chatlog__timestamp title="Monday, December 1, 2025 2:33â€¯PM"><a href=#chatlog__message-container-1445060218571722764>12/1/2025 2:33â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i had a quick doubt around FTS. the docs say that we&#39;ve moved to native FTS with lancedb but the python package for lancedb as of today (v0.25.3) still uses tantivy (<a href="https://github.com/lancedb/lancedb/blob/main/python/python/lancedb/fts.py)">https://github.com/lancedb/lancedb/blob/main/python/python/lancedb/fts.py)</a>. i also see from another thread in discord that tantivy is depreciated. Can anyone help clarify this? much appreciated.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1445067017525788685 class=chatlog__message-container data-message-id=1445067017525788685><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, December 1, 2025 3:00â€¯PM"> <a href=#chatlog__message-container-1445067017525788685>12/1/2025 3:00â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1448721764766060544 class=chatlog__message-container data-message-id=1448721764766060544><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=scotch0000_87724 data-user-id=1445530338788114524>scotch0000</span> <span class=chatlog__timestamp title="Thursday, December 11, 2025 5:03â€¯PM"><a href=#chatlog__message-container-1448721764766060544>12/11/2025 5:03â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Question - I want to build a vector index that also supports date range queries - e.g. I want to do queries like &quot;find k nearest vectors for records between <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">start_date</code> and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">end_date</code>&quot;.  

Is there a way to do this that will give me high recall?  Using pre-/post-filtering on the date field gives me a lot of false negatives (vectors that are close to my query that don&#39;t get returned).  Increasing nprobes/refine gets me high recall, but is ~ as slow as brute-forcing.  Is there a way to &quot;combine&quot; a scalar index and a vector index?

Thanks!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1448722445111394557 class=chatlog__message-container data-message-id=1448722445111394557><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/256442550683041793/957261bc8f0ac51195cdaa3270bfc93a.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=etrotta data-user-id=256442550683041793>etrotta</span> <span class=chatlog__timestamp title="Thursday, December 11, 2025 5:05â€¯PM"><a href=#chatlog__message-container-1448722445111394557>12/11/2025 5:05â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://lancedb.com/docs/search/hybrid-search/">https://lancedb.com/docs/search/hybrid-search/</a> ?
actually <a href="https://lancedb.com/docs/search/filtering/#pre-filtering-with-vector-search">https://lancedb.com/docs/search/filtering/#pre-filtering-with-vector-search</a></span> <span class=chatlog__edited-timestamp title="Thursday, December 11, 2025 5:06â€¯PM">(edited)</span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href="https://lancedb.com/docs/search/filtering/"><div class="chatlog__markdown chatlog__markdown-preserve">Metadata Filtering in LanceDB</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">LanceDB supports filtering features of query results based on metadata fields. While joint vector and metadata search at scale presents a significant challenge, â€¦</div></div></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1448724942832140461 class=chatlog__message-container data-message-id=1448724942832140461><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/256442550683041793/957261bc8f0ac51195cdaa3270bfc93a.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=etrotta>etrotta</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1448722445111394557')"> <a href="https://lancedb.com/docs/search/hybrid-search/">https://lancedb.com/docs/search/hybrid-search/</a> ?
actually <a href="https://lancedb.com/docs/search/filtering/#pre-filtering-with-vector-search">https://lancedb.com/docs/search/filtering/#pre-filtering-with-vector-search</a> </span> <span class=chatlog__reply-edited-timestamp title="Thursday, December 11, 2025 5:06â€¯PM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author title=scotch0000_87724 data-user-id=1445530338788114524>scotch0000</span> <span class=chatlog__timestamp title="Thursday, December 11, 2025 5:15â€¯PM"><a href=#chatlog__message-container-1448724942832140461>12/11/2025 5:15â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Thanks!  

The pre-filtering/post-filtering stuff misses a lot of results - in one example, if I have 1870 &quot;true positive&quot; vectors to be retrieved, doing the pre/post-filtering only gives me 300 of them (so missing 80+%).  This can be fixed by increasing <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">nprobes/refine</code> from <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">20/10</code> to <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">500/200</code> but then things get really slow.

hybrid search ... that&#39;s interesting, I hadn&#39;t seen that.  It&#39;d potentially be possible to hack that into working, but I feel like the range queries I&#39;m trying to do don&#39;t necessarily map well to the kinds of queries that FTS is good at</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1448728484158509131 class=chatlog__message-container data-message-id=1448728484158509131><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, December 11, 2025 5:29â€¯PM"> <a href=#chatlog__message-container-1448728484158509131>12/11/2025 5:29â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1450182939781632060 class=chatlog__message-container data-message-id=1450182939781632060><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/195643605598208000/f2da56abb16a762baa422626699224b1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=valkum data-user-id=195643605598208000>Valkum</span> <span class=chatlog__timestamp title="Monday, December 15, 2025 5:49â€¯PM"><a href=#chatlog__message-container-1450182939781632060>12/15/2025 5:49â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Am I missing something, or is there a mismatch of function names for <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">LanceTable::migrate_v2_manifest_paths</code>. It uses <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">self._table.migrate_v2_manifest_paths</code> but <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">AsyncTable</code> only has <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">migrate_manifest_paths_v2</code>.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1450192653630308508 class=chatlog__message-container data-message-id=1450192653630308508><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=jackye8397 data-user-id=762192026653294603>Jack Ye</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, December 15, 2025 6:27â€¯PM"> <a href=#chatlog__message-container-1450192653630308508>12/15/2025 6:27â€¯PM</a> </span></div></div></div><div id=chatlog__message-container-1450989267819040813 class=chatlog__message-container data-message-id=1450989267819040813><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, December 17, 2025 11:13â€¯PM"> <a href=#chatlog__message-container-1450989267819040813>12/17/2025 11:13â€¯PM</a> </span></div></div></div></div>

</div>
<div class=postamble><div class=postamble__entry>Exported 962 message(s)</div><div class=postamble__entry>Timezone: UTC+0</div></div>
