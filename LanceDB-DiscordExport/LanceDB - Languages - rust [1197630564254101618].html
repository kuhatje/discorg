<!DOCTYPE html><html lang=en><head><title>LanceDB - rust</title><meta charset=utf-8><meta name=viewport content="width=device-width"><style>@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-normal-400.woff2");font-family:gg sans;font-weight:400;font-style:normal}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-normal-500.woff2");font-family:gg sans;font-weight:500;font-style:normal}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-normal-600.woff2");font-family:gg sans;font-weight:600;font-style:normal}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-normal-700.woff2");font-family:gg sans;font-weight:700;font-style:normal}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-normal-800.woff2");font-family:gg sans;font-weight:800;font-style:normal}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-italic-400.woff2");font-family:gg sans;font-weight:400;font-style:italic}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-italic-500.woff2");font-family:gg sans;font-weight:500;font-style:italic}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-italic-600.woff2");font-family:gg sans;font-weight:600;font-style:italic}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-italic-700.woff2");font-family:gg sans;font-weight:700;font-style:italic}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-italic-800.woff2");font-family:gg sans;font-weight:800;font-style:italic}html,body{margin:0;padding:0;background-color:#36393e;color:#dcddde;font-family:"gg sans","Helvetica Neue",Helvetica,Arial,sans-serif;font-size:17px;font-weight:400;scroll-behavior:smooth}a{color:#00aff4;text-decoration:none}a:hover{text-decoration:underline}img{object-fit:contain;image-rendering:high-quality;image-rendering:-webkit-optimize-contrast}.preamble{display:grid;grid-template-columns:auto 1fr;max-width:100%;padding:1rem}.preamble__guild-icon-container{grid-column:1}.preamble__guild-icon{max-width:88px;max-height:88px}.preamble__entries-container{grid-column:2;margin-left:1rem}.preamble__entry{margin-bottom:0.15rem;color:#ffffff;font-size:1.4rem}.preamble__entry--small{font-size:1rem}.chatlog{padding:1rem 0;width:100%;border-top:1px solid rgba(255,255,255,0.1);border-bottom:1px solid rgba(255,255,255,0.1)}.chatlog__message-group{margin-bottom:1rem}.chatlog__message-container{background-color:transparent;transition:background-color 1s ease}.chatlog__message-container--highlighted{background-color:rgba(114,137,218,0.2)}.chatlog__message-container--pinned{background-color:rgba(249,168,37,0.05)}.chatlog__message{display:grid;grid-template-columns:auto 1fr;padding:0.15rem 0;direction:ltr;unicode-bidi:bidi-override}.chatlog__message:hover{background-color:#32353b}.chatlog__message:hover .chatlog__short-timestamp{display:block}.chatlog__message-aside{grid-column:1;width:72px;padding:0.15rem 0.15rem 0 0.15rem;text-align:center}.chatlog__reply-symbol{height:10px;margin:6px 4px 4px 36px;border-left:2px solid #4f545c;border-top:2px solid #4f545c;border-radius:8px 0 0 0}.chatlog__avatar{width:40px;height:40px;border-radius:50%}.chatlog__short-timestamp{display:none;color:#a3a6aa;font-size:0.75rem;font-weight:500;direction:ltr;unicode-bidi:bidi-override}.chatlog__message-primary{grid-column:2;min-width:0}.chatlog__reply{display:flex;margin-bottom:0.15rem;align-items:center;color:#b5b6b8;font-size:0.875rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.chatlog__reply-avatar{width:16px;height:16px;margin-right:0.25rem;border-radius:50%}.chatlog__reply-author{margin-right:0.3rem;font-weight:600}.chatlog__reply-content{overflow:hidden;text-overflow:ellipsis}.chatlog__reply-link{cursor:pointer}.chatlog__reply-link *{display:inline;pointer-events:none}.chatlog__reply-link .chatlog__markdown-quote{display:inline}.chatlog__reply-link .chatlog__markdown-pre{display:inline}.chatlog__reply-link:hover{color:#ffffff}.chatlog__reply-link:hover *:not(.chatlog__markdown-spoiler){color:inherit}.chatlog__reply-edited-timestamp{margin-left:0.25rem;color:#a3a6aa;font-size:0.75rem;font-weight:500;direction:ltr;unicode-bidi:bidi-override}.chatlog__system-notification-icon{width:18px;height:18px}.chatlog__system-notification-author{font-weight:500;color:#ffffff}.chatlog__system-notification-content{color:#96989d}.chatlog__system-notification-link{font-weight:500;color:#ffffff}.chatlog__system-notification-timestamp{margin-left:0.3rem;color:#a3a6aa;font-size:0.75rem;font-weight:500;direction:ltr;unicode-bidi:bidi-override}.chatlog__system-notification-timestamp a{color:inherit}.chatlog__header{margin-bottom:0.1rem}.chatlog__author{font-weight:500;color:#ffffff}.chatlog__author-tag{position:relative;top:-0.1rem;margin-left:0.3rem;padding:0.05rem 0.3rem;border-radius:3px;background-color:#5865F2;color:#ffffff;font-size:0.625rem;font-weight:500;line-height:1.3}.chatlog__timestamp{margin-left:0.3rem;color:#a3a6aa;font-size:0.75rem;font-weight:500;direction:ltr;unicode-bidi:bidi-override}.chatlog__timestamp a{color:inherit}.chatlog__content{padding-right:1rem;font-size:0.95rem;word-wrap:break-word}.chatlog__edited-timestamp{margin-left:0.15rem;color:#a3a6aa;font-size:0.75rem;font-weight:500}.chatlog__attachment{position:relative;width:fit-content;margin-top:0.3rem;border-radius:3px;overflow:hidden}.chatlog__attachment--hidden{cursor:pointer;box-shadow:0 0 1px 1px rgba(0,0,0,0.1)}.chatlog__attachment--hidden *{pointer-events:none}.chatlog__attachment-spoiler-caption{display:none;position:absolute;left:50%;top:50%;z-index:999;padding:0.4rem 0.8rem;border-radius:20px;transform:translate(-50%,-50%);background-color:rgba(0,0,0,0.9);color:#dcddde;font-size:0.9rem;font-weight:600;letter-spacing:0.05rem}.chatlog__attachment--hidden .chatlog__attachment-spoiler-caption{display:block}.chatlog__attachment--hidden:hover .chatlog__attachment-spoiler-caption{color:#fff}.chatlog__attachment-media{max-width:45vw;max-height:500px;vertical-align:top;border-radius:3px}.chatlog__attachment--hidden .chatlog__attachment-media{filter:blur(44px)}.chatlog__attachment-generic{max-width:520px;width:100%;height:40px;padding:10px;border:1px solid #292b2f;border-radius:3px;background-color:#2f3136;overflow:hidden}.chatlog__attachment--hidden .chatlog__attachment-generic{filter:blur(44px)}.chatlog__attachment-generic-icon{float:left;width:30px;height:100%;margin-right:10px}.chatlog__attachment-generic-size{color:#72767d;font-size:12px}.chatlog__attachment-generic-name{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.chatlog__embed{display:flex;margin-top:0.3rem;max-width:520px}.chatlog__embed-color-pill{flex-shrink:0;width:0.25rem;border-top-left-radius:3px;border-bottom-left-radius:3px}.chatlog__embed-color-pill--default{background-color:#202225}.chatlog__embed-content-container{display:flex;flex-direction:column;padding:0.5rem 0.6rem;border:1px solid rgba(46,48,54,0.6);border-top-right-radius:3px;border-bottom-right-radius:3px;background-color:rgba(46,48,54,0.3)}.chatlog__embed-content{display:flex;width:100%}.chatlog__embed-text{flex:1}.chatlog__embed-author-container{display:flex;margin-bottom:0.5rem;align-items:center}.chatlog__embed-author-icon{width:20px;height:20px;margin-right:0.5rem;border-radius:50%}.chatlog__embed-author{color:#ffffff;font-size:0.875rem;font-weight:600;direction:ltr;unicode-bidi:bidi-override}.chatlog__embed-author-link{color:#ffffff}.chatlog__embed-title{margin-bottom:0.5rem;color:#ffffff;font-size:0.875rem;font-weight:600}.chatlog__embed-description{color:#dcddde;font-weight:500;font-size:0.85rem}.chatlog__embed-fields{display:flex;flex-wrap:wrap;gap:0 0.5rem}.chatlog__embed-field{flex:0;min-width:100%;max-width:506px;padding-top:0.6rem;font-size:0.875rem}.chatlog__embed-field--inline{flex:1;flex-basis:auto;min-width:50px}.chatlog__embed-field-name{margin-bottom:0.2rem;color:#ffffff;font-weight:600}.chatlog__embed-field-value{color:#dcddde;font-weight:500}.chatlog__embed-thumbnail{flex:0;max-width:80px;max-height:80px;margin-left:1.2rem;border-radius:3px}.chatlog__embed-images{display:grid;margin-top:0.6rem;grid-template-columns:repeat(2,1fr);gap:0.25rem}.chatlog__embed-images--single{display:block}.chatlog__embed-image{object-fit:cover;object-position:center;max-width:500px;max-height:400px;width:100%;height:100%;border-radius:3px}.chatlog__embed-footer{margin-top:0.6rem;color:#dcddde}.chatlog__embed-footer-icon{width:20px;height:20px;margin-right:0.2rem;border-radius:50%;vertical-align:middle}.chatlog__embed-footer-text{vertical-align:middle;font-size:0.75rem;font-weight:500}.chatlog__embed-invite-container{min-width:320px;padding:0.6rem 0.7rem;border:1px solid rgba(46,48,54,0.6);border-radius:3px;background-color:rgba(46,48,54,0.3)}.chatlog__embed-invite-title{margin:0 0 0.8rem 0;color:#b9bbbe;font-size:0.75rem;font-weight:700;text-transform:uppercase}.chatlog__embed-invite{display:flex}.chatlog__embed-invite-guild-icon{width:50px;height:50px;border-radius:0.85rem}.chatlog__embed-invite-info{margin-left:1rem}.chatlog__embed-invite-guild-name{color:#ffffff;font-weight:600}.chatlog__embed-invite-guild-name a{color:inherit}.chatlog__embed-invite-channel-icon{width:18px;height:18px;vertical-align:bottom}.chatlog__embed-invite-channel-name{font-size:0.9rem;font-weight:600}.chatlog__embed-generic-image{object-fit:contain;object-position:left;max-width:45vw;max-height:500px;vertical-align:top;border-radius:3px}.chatlog__embed-generic-video{object-fit:contain;object-position:left;max-width:45vw;max-height:500px;vertical-align:top;border-radius:3px}.chatlog__embed-generic-gifv{object-fit:contain;object-position:left;max-width:45vw;max-height:500px;vertical-align:top;border-radius:3px}.chatlog__embed-spotify{border:0}.chatlog__embed-twitch{border:0}.chatlog__embed-youtube-container{margin-top:0.6rem}.chatlog__embed-youtube{border:0;border-radius:3px}.chatlog__sticker{width:180px;height:180px}.chatlog__sticker--media{max-width:100%;max-height:100%}.chatlog__reactions{display:flex}.chatlog__reaction{display:flex;margin:0.35rem 0.1rem 0.1rem 0;padding:0.125rem 0.375rem;border:1px solid transparent;border-radius:8px;background-color:#2f3136;align-items:center}.chatlog__reaction:hover{border:1px solid hsla(0,0%,100%,.2);background-color:transparent}.chatlog__reaction-count{min-width:9px;margin-left:0.35rem;color:#b9bbbe;font-size:0.875rem}.chatlog__reaction:hover .chatlog__reaction-count{color:#dcddde}.chatlog__markdown{max-width:100%;line-height:1.3;overflow-wrap:break-word}.chatlog__markdown h1{margin:1rem 0 0.5rem;color:#f2f3f5;font-size:1.5rem;line-height:1}.chatlog__markdown h2{margin:1rem 0 0.5rem;color:#f2f3f5;font-size:1.25rem;line-height:1}.chatlog__markdown h3{margin:1rem 0 0.5rem;color:#f2f3f5;font-size:1rem;line-height:1}.chatlog__markdown h1:first-child,h2:first-child,h3:first-child{margin-top:0.5rem}.chatlog__markdown ul,ol{margin:0 0 0 1rem;padding:0}.chatlog__markdown-preserve{white-space:pre-wrap}.chatlog__markdown-spoiler{background-color:rgba(255,255,255,0.1);padding:0 2px;border-radius:3px}.chatlog__markdown-spoiler--hidden{cursor:pointer;background-color:#202225;color:rgba(0,0,0,0)}.chatlog__markdown-spoiler--hidden:hover{background-color:rgba(32,34,37,0.8)}.chatlog__markdown-spoiler--hidden::selection{color:rgba(0,0,0,0)}.chatlog__markdown-quote{display:flex;margin:0.05rem 0}.chatlog__markdown-quote-border{margin-right:0.5rem;border:2px solid #4f545c;border-radius:3px}.chatlog__markdown-pre{background-color:#2f3136;font-family:"Consolas","Courier New",Courier,monospace;font-size:0.85rem;text-decoration:inherit}.chatlog__markdown-pre--multiline{display:block;margin-top:0.25rem;padding:0.5rem;border:2px solid #282b30;border-radius:5px;color:#b9bbbe}.chatlog__markdown-pre--multiline.hljs{background-color:#2f3136;color:#b9bbbe}.chatlog__markdown-pre--inline{display:inline-block;padding:2px;border-radius:3px}.chatlog__markdown-mention{border-radius:3px;padding:0 2px;background-color:rgba(88,101,242,.3);color:#dee0fc;font-weight:500}.chatlog__markdown-mention:hover{background-color:#5865f2;color:#ffffff}.chatlog__markdown-timestamp{background-color:rgba(255,255,255,0.1);padding:0 2px;border-radius:3px}.chatlog__emoji{width:1.325rem;height:1.325rem;margin:0 0.06rem;vertical-align:-0.4rem}.chatlog__emoji--small{width:1rem;height:1rem}.chatlog__emoji--large{width:2.8rem;height:2.8rem}.postamble{padding:1.25rem}.postamble__entry{color:#ffffff}</style><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/solarized-dark.min.css><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js></script><script>document.addEventListener('DOMContentLoaded',()=>{document.querySelectorAll('.chatlog__markdown-pre--multiline').forEach(e=>hljs.highlightBlock(e));});</script><script src=https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.8.1/lottie.min.js></script><script>document.addEventListener('DOMContentLoaded',()=>{document.querySelectorAll('.chatlog__sticker--media[data-source]').forEach(e=>{const anim=lottie.loadAnimation({container:e,renderer:'svg',loop:true,autoplay:true,path:e.getAttribute('data-source')});anim.addEventListener('data_failed',()=>e.innerHTML='<strong>[Sticker cannot be rendered]</strong>');});});</script><script>function scrollToMessage(event,id){const element=document.getElementById('chatlog__message-container-'+id);if(!element)
return;event.preventDefault();element.classList.add('chatlog__message-container--highlighted');window.scrollTo({top:element.getBoundingClientRect().top-document.body.getBoundingClientRect().top-(window.innerHeight/2),behavior:'smooth'});window.setTimeout(()=>element.classList.remove('chatlog__message-container--highlighted'),2000);}
function showSpoiler(event,element){if(!element)
return;if(element.classList.contains('chatlog__attachment--hidden')){event.preventDefault();element.classList.remove('chatlog__attachment--hidden');}
if(element.classList.contains('chatlog__markdown-spoiler--hidden')){event.preventDefault();element.classList.remove('chatlog__markdown-spoiler--hidden');}}</script><svg style=display:none xmlns=http://www.w3.org/2000/svg><defs><symbol id=attachment-icon viewBox="0 0 720 960"><path fill=#f4f5fb d=M50,935a25,25,0,0,1-25-25V50A25,25,0,0,1,50,25H519.6L695,201.32V910a25,25,0,0,1-25,25Z /><path fill=#7789c4 d=M509.21,50,670,211.63V910H50V50H509.21M530,0H50A50,50,0,0,0,0,50V910a50,50,0,0,0,50,50H670a50,50,0,0,0,50-50h0V191Z /><path fill=#f4f5fb d=M530,215a25,25,0,0,1-25-25V50a25,25,0,0,1,16.23-23.41L693.41,198.77A25,25,0,0,1,670,215Z /><path fill=#7789c4 d=M530,70.71,649.29,190H530V70.71M530,0a50,50,0,0,0-50,50V190a50,50,0,0,0,50,50H670a50,50,0,0,0,50-50Z /></symbol><symbol id=join-icon viewBox="0 0 18 18"><path fill=#3ba55c d="m0 8h14.2l-3.6-3.6 1.4-1.4 6 6-6 6-1.4-1.4 3.6-3.6h-14.2" /></symbol><symbol id=leave-icon viewBox="0 0 18 18"><path fill=#ed4245 d="m3.8 8 3.6-3.6-1.4-1.4-6 6 6 6 1.4-1.4-3.6-3.6h14.2v-2" /></symbol><symbol id=call-icon viewBox="0 0 18 18"><path fill=#3ba55c fill-rule=evenodd d="M17.7163041 15.36645368c-.0190957.02699568-1.9039523 2.6680735-2.9957762 2.63320406-3.0676659-.09785935-6.6733809-3.07188394-9.15694343-5.548738C3.08002193 9.9740657.09772497 6.3791404 0 3.3061316v-.024746C0 2.2060575 2.61386252.3152347 2.64082114.2972376c.7110335-.4971705 1.4917101-.3149497 1.80959713.1372281.19320342.2744561 2.19712724 3.2811005 2.42290565 3.6489167.09884826.1608492.14714912.3554431.14714912.5702838 0 .2744561-.07975258.5770327-.23701117.8751101-.1527655.2902036-.65262318 1.1664385-.89862055 1.594995.2673396.3768148.94804468 1.26429792 2.351016 2.66357424 1.39173858 1.39027775 2.28923588 2.07641807 2.67002628 2.34187563.4302146-.2452108 1.3086162-.74238132 1.5972981-.89423205.5447887-.28682915 1.0907006-.31944893 1.4568885-.08661115.3459689.2182151 3.3383754 2.21027167 3.6225641 2.41611376.2695862.19234426.4144887.5399137.4144887.91672846 0 .2969525-.089862.61190215-.2808189.88523346" /></symbol><symbol id=pencil-icon viewBox="0 0 18 18"><path fill=#99aab5 d="m0 14.25v3.75h3.75l11.06-11.06-3.75-3.75zm17.71-10.21c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75z" /></symbol><symbol id=pin-icon viewBox="0 0 18 18"><path fill=#b9bbbe d="m16.908 8.39684-8.29587-8.295827-1.18584 1.184157 1.18584 1.18584-4.14834 4.1475v.00167l-1.18583-1.18583-1.185 1.18583 3.55583 3.55502-4.740831 4.74 1.185001 1.185 4.74083-4.74 3.55581 3.555 1.185-1.185-1.185-1.185 4.1475-4.14836h.0009l1.185 1.185z" /></symbol><symbol id=channel-icon viewBox="0 0 24 24"><path fill=#b9bbbe d="M5.88657 21C5.57547 21 5.3399 20.7189 5.39427 20.4126L6.00001 17H2.59511C2.28449 17 2.04905 16.7198 2.10259 16.4138L2.27759 15.4138C2.31946 15.1746 2.52722 15 2.77011 15H6.35001L7.41001 9H4.00511C3.69449 9 3.45905 8.71977 3.51259 8.41381L3.68759 7.41381C3.72946 7.17456 3.93722 7 4.18011 7H7.76001L8.39677 3.41262C8.43914 3.17391 8.64664 3 8.88907 3H9.87344C10.1845 3 10.4201 3.28107 10.3657 3.58738L9.76001 7H15.76L16.3968 3.41262C16.4391 3.17391 16.6466 3 16.8891 3H17.8734C18.1845 3 18.4201 3.28107 18.3657 3.58738L17.76 7H21.1649C21.4755 7 21.711 7.28023 21.6574 7.58619L21.4824 8.58619C21.4406 8.82544 21.2328 9 20.9899 9H17.41L16.35 15H19.7549C20.0655 15 20.301 15.2802 20.2474 15.5862L20.0724 16.5862C20.0306 16.8254 19.8228 17 19.5799 17H16L15.3632 20.5874C15.3209 20.8261 15.1134 21 14.8709 21H13.8866C13.5755 21 13.3399 20.7189 13.3943 20.4126L14 17H8.00001L7.36325 20.5874C7.32088 20.8261 7.11337 21 6.87094 21H5.88657ZM9.41045 9L8.35045 15H14.3504L15.4104 9H9.41045Z" /></symbol><symbol id=thread-icon viewBox="0 0 24 24"><path fill=#b9bbbe d="M5.43309 21C5.35842 21 5.30189 20.9325 5.31494 20.859L5.99991 17H2.14274C2.06819 17 2.01168 16.9327 2.02453 16.8593L2.33253 15.0993C2.34258 15.0419 2.39244 15 2.45074 15H6.34991L7.40991 9H3.55274C3.47819 9 3.42168 8.93274 3.43453 8.85931L3.74253 7.09931C3.75258 7.04189 3.80244 7 3.86074 7H7.75991L8.45234 3.09903C8.46251 3.04174 8.51231 3 8.57049 3H10.3267C10.4014 3 10.4579 3.06746 10.4449 3.14097L9.75991 7H15.7599L16.4523 3.09903C16.4625 3.04174 16.5123 3 16.5705 3H18.3267C18.4014 3 18.4579 3.06746 18.4449 3.14097L17.7599 7H21.6171C21.6916 7 21.7481 7.06725 21.7353 7.14069L21.4273 8.90069C21.4172 8.95811 21.3674 9 21.3091 9H17.4099L17.0495 11.04H15.05L15.4104 9H9.41035L8.35035 15H10.5599V17H7.99991L7.30749 20.901C7.29732 20.9583 7.24752 21 7.18934 21H5.43309Z" /><path fill=#b9bbbe d="M13.4399 12.96C12.9097 12.96 12.4799 13.3898 12.4799 13.92V20.2213C12.4799 20.7515 12.9097 21.1813 13.4399 21.1813H14.3999C14.5325 21.1813 14.6399 21.2887 14.6399 21.4213V23.4597C14.6399 23.6677 14.8865 23.7773 15.0408 23.6378L17.4858 21.4289C17.6622 21.2695 17.8916 21.1813 18.1294 21.1813H22.5599C23.0901 21.1813 23.5199 20.7515 23.5199 20.2213V13.92C23.5199 13.3898 23.0901 12.96 22.5599 12.96H13.4399Z" /></symbol></defs></svg><body><div class=preamble><div class=preamble__guild-icon-container><img class=preamble__guild-icon src="https://cdn.discordapp.com/icons/1030247538198061086/3b63f3695230f74fda100de956749b12.png?size=512" alt="Guild icon" loading=lazy></div><div class=preamble__entries-container><div class=preamble__entry>LanceDB</div><div class=preamble__entry>Languages / rust</div></div></div>
<div class="chatlog">

<div class=chatlog__message-group><div id=chatlog__message-container-1200180245974765749 class=chatlog__message-container data-message-id=1200180245974765749><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Thursday, January 25, 2024 3:47â€¯PM"><a href=#chatlog__message-container-1200180245974765749>1/25/2024 3:47â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://docs.rs/vectordb/0.4.4/vectordb/">https://docs.rs/vectordb/0.4.4/vectordb/</a> We start to stablize and clean up our Rust SDK

Looking for feedbacks</span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href="https://docs.rs/vectordb/0.4.4/vectordb/"><div class="chatlog__markdown chatlog__markdown-preserve">vectordb - Rust</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">VectorDB (LanceDB) â€“ Developer-friendly, serverless vector database for AI applications</div></div></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1200598157260767403 class=chatlog__message-container data-message-id=1200598157260767403><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Friday, January 26, 2024 7:28â€¯PM"><a href=#chatlog__message-container-1200598157260767403>1/26/2024 7:28â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We have updated quickstart to include Rust SDK 

<a href="https://lancedb.github.io/lancedb/basic/">https://lancedb.github.io/lancedb/basic/</a>

Give it a try and let us know what do you think!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1200598323774636093 class=chatlog__message-container data-message-id=1200598323774636093><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/448333244790734858/a27bfbc2d1207f17266c98503b2caba1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jnewhouse data-user-id=448333244790734858>jnewhouse</span> <span class=chatlog__timestamp title="Friday, January 26, 2024 7:29â€¯PM"><a href=#chatlog__message-container-1200598323774636093>1/26/2024 7:29â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi there! I&#39;m one of the main developers on Arroyo (<a href="https://github.com/ArroyoSystems/arroyo)">https://github.com/ArroyoSystems/arroyo)</a> and came across Lance in a recent DataFusion announcement. Our checkpoint files are currently just parquet on S3, which we scan on restoration, but we&#39;d like to be able to quickly do point reads, and Lance seems like a good fit. I&#39;m wondering if there are repos I should take a look at that do similar things.</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/ArroyoSystems/arroyo><div class="chatlog__markdown chatlog__markdown-preserve">GitHub - ArroyoSystems/arroyo: Distributed stream processing engine...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Distributed stream processing engine in Rust. Contribute to ArroyoSystems/arroyo development by creating an account on GitHub.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/WHLRkSfS6dnGxb3sVf4iCKSG-pJxt0ATNrrDrxnAqcg/https/opengraph.githubassets.com/df3590524356d2b25a238018d67e1767ac0118b4c80fa1fec11ff034815bfe85/ArroyoSystems/arroyo> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/WHLRkSfS6dnGxb3sVf4iCKSG-pJxt0ATNrrDrxnAqcg/https/opengraph.githubassets.com/df3590524356d2b25a238018d67e1767ac0118b4c80fa1fec11ff034815bfe85/ArroyoSystems/arroyo alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1200599298434400256 class=chatlog__message-container data-message-id=1200599298434400256><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Friday, January 26, 2024 7:32â€¯PM"><a href=#chatlog__message-container-1200599298434400256>1/26/2024 7:32â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>lance uses the same arrow-rs API , <a href="https://docs.rs/lance/0.9.9/lance/">https://docs.rs/lance/0.9.9/lance/</a></span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href="https://docs.rs/lance/0.9.9/lance/"><div class="chatlog__markdown chatlog__markdown-preserve">lance - Rust</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Lance Columnar Data Format</div></div></div></div></div></div></div></div></div><div id=chatlog__message-container-1200599368621895742 class=chatlog__message-container data-message-id=1200599368621895742><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, January 26, 2024 7:33â€¯PM">7:33â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>should be easy to convert from parquet-rs to lance-rs</span></div></div></div></div><div id=chatlog__message-container-1200599963487445063 class=chatlog__message-container data-message-id=1200599963487445063><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, January 26, 2024 7:35â€¯PM">7:35â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>the method you are looking at is <a href="https://docs.rs/lance/0.9.9/lance/dataset/struct.Dataset.html#method.take">https://docs.rs/lance/0.9.9/lance/dataset/struct.Dataset.html#method.take</a></span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://docs.rs/lance/0.9.9/lance/dataset/struct.Dataset.html><div class="chatlog__markdown chatlog__markdown-preserve">Dataset in lance::dataset - Rust</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Lance Dataset</div></div></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1200605466267488276 class=chatlog__message-container data-message-id=1200605466267488276><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/448333244790734858/a27bfbc2d1207f17266c98503b2caba1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jnewhouse data-user-id=448333244790734858>jnewhouse</span> <span class=chatlog__timestamp title="Friday, January 26, 2024 7:57â€¯PM"><a href=#chatlog__message-container-1200605466267488276>1/26/2024 7:57â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Just reading through the code, it looks like the public methods don&#39;t let me pass in a SendableRecordBatchStream to be written to a fragment. Found this issue which touches on the same issue: <a href="https://github.com/lancedb/lance/issues/1792">https://github.com/lancedb/lance/issues/1792</a>. I would want lance to be writing files as Arroyo processes data, then finishing them on each checkpoint (every 10 seconds or so).</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/issues/1792.><div class="chatlog__markdown chatlog__markdown-preserve">Issues &#183; lancedb/lance</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Modern columnar data format for ML and LLMs implemented in Rust. Convert from parquet in 2 lines of code for 100x faster random access, vector index, and data versioning. Compatible with Pandas, Du...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/3-TEZjheWLGpsN7Ax30HDHQfoEIkklXBp7-xw_9cFCk/https/opengraph.githubassets.com/30e7cfaff843b0fcd54208df5042357ec4b667b6f52e7bf7b728b6b8f6756900/lancedb/lance> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/3-TEZjheWLGpsN7Ax30HDHQfoEIkklXBp7-xw_9cFCk/https/opengraph.githubassets.com/30e7cfaff843b0fcd54208df5042357ec4b667b6f52e7bf7b728b6b8f6756900/lancedb/lance alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1200605577827594372 class=chatlog__message-container data-message-id=1200605577827594372><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Friday, January 26, 2024 7:57â€¯PM"><a href=#chatlog__message-container-1200605577827594372>1/26/2024 7:57â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>oh i see, lemme check</span></div></div></div></div><div id=chatlog__message-container-1200606054384423022 class=chatlog__message-container data-message-id=1200606054384423022><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, January 26, 2024 7:59â€¯PM">7:59â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://docs.rs/lance/0.9.9/lance/dataset/fragment/struct.FileFragment.html#method.create">https://docs.rs/lance/0.9.9/lance/dataset/fragment/struct.FileFragment.html#method.create</a> can you use this one? This is for creating each individual fragments from RecordBatchStream</span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://docs.rs/lance/0.9.9/lance/dataset/fragment/struct.FileFragment.html><div class="chatlog__markdown chatlog__markdown-preserve">FileFragment in lance::dataset::fragment - Rust</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">A Fragment of a Lance <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Dataset</code>.</div></div></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1200606481029005333 class=chatlog__message-container data-message-id=1200606481029005333><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/448333244790734858/a27bfbc2d1207f17266c98503b2caba1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jnewhouse data-user-id=448333244790734858>jnewhouse</span> <span class=chatlog__timestamp title="Friday, January 26, 2024 8:01â€¯PM"><a href=#chatlog__message-container-1200606481029005333>1/26/2024 8:01â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>RecordBatchReader is the Iterator/sync version for multiple record batches.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1200606555184304238 class=chatlog__message-container data-message-id=1200606555184304238><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Friday, January 26, 2024 8:01â€¯PM"><a href=#chatlog__message-container-1200606555184304238>1/26/2024 8:01â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i see. lets do a async version of the API then <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"></span></div></div></div></div><div id=chatlog__message-container-1200606762382938112 class=chatlog__message-container data-message-id=1200606762382938112><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, January 26, 2024 8:02â€¯PM">8:02â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>we do have users to run these distributedly and , eventually do a global commit</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1200607356136992818 class=chatlog__message-container data-message-id=1200607356136992818><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/448333244790734858/a27bfbc2d1207f17266c98503b2caba1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jnewhouse data-user-id=448333244790734858>jnewhouse</span> <span class=chatlog__timestamp title="Friday, January 26, 2024 8:04â€¯PM"><a href=#chatlog__message-container-1200607356136992818>1/26/2024 8:04â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Internally it looks like there is conversion to the RecordBatchStream form, so if we could pass that in that&#39;d do the trick: <a href="https://github.com/lancedb/lance/blob/v0.9.9/rust/lance/src/dataset/write.rs#L114">https://github.com/lancedb/lance/blob/v0.9.9/rust/lance/src/dataset/write.rs#L114</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/blob/v0.9.9/rust/lance/src/dataset/write.rs><div class="chatlog__markdown chatlog__markdown-preserve">lance/rust/lance/src/dataset/write.rs at v0.9.9 &#183; lancedb/lance</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Modern columnar data format for ML and LLMs implemented in Rust. Convert from parquet in 2 lines of code for 100x faster random access, vector index, and data versioning. Compatible with Pandas, Du...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/3-TEZjheWLGpsN7Ax30HDHQfoEIkklXBp7-xw_9cFCk/https/opengraph.githubassets.com/30e7cfaff843b0fcd54208df5042357ec4b667b6f52e7bf7b728b6b8f6756900/lancedb/lance> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/3-TEZjheWLGpsN7Ax30HDHQfoEIkklXBp7-xw_9cFCk/https/opengraph.githubassets.com/30e7cfaff843b0fcd54208df5042357ec4b667b6f52e7bf7b728b6b8f6756900/lancedb/lance alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=ðŸ«¡><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ«¡ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1fae1.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1201578909834170458 class=chatlog__message-container data-message-id=1201578909834170458><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/857516897855340544/2e075a3748c7eb6b1c94f0107c6974f7.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=lei.xu>lei</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1200598157260767403')"> We have updated quickstart to include Rust SDK 

<a href="https://lancedb.github.io/lancedb/basic/">https://lancedb.github.io/lancedb/basic/</a>

Give it a try and let us know what do you think! </span></div></div><div class=chatlog__header><span class=chatlog__author title=sarav1n data-user-id=857516897855340544>Sarav</span> <span class=chatlog__timestamp title="Monday, January 29, 2024 12:25â€¯PM"><a href=#chatlog__message-container-1201578909834170458>1/29/2024 12:25â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I just tried out the basic example ( simple.rs ). 

I can only get it to work if i set arrow-schema and arrow-array both to 49.0. Run into errors with 50.0. This is for both vectorDB 4 and 4.6.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1201591531908382841 class=chatlog__message-container data-message-id=1201591531908382841><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Monday, January 29, 2024 1:15â€¯PM"><a href=#chatlog__message-container-1201591531908382841>1/29/2024 1:15â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Got it. Yea so the arrow need to be the same as what in vectordb. The main branch is already on 50, but it has not been released</span></div></div></div></div><div id=chatlog__message-container-1201592211842793514 class=chatlog__message-container data-message-id=1201592211842793514><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Monday, January 29, 2024 1:18â€¯PM">1:18â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I will make a change to doc to make it easier</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207531719406915614 class=chatlog__message-container data-message-id=1207531719406915614><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/614626571676024892/4f27dd8ba9cb4b593ed4e334bf532d6c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jeremychone data-user-id=614626571676024892>jeremychone</span> <span class=chatlog__timestamp title="Wednesday, February 14, 2024 10:39â€¯PM"><a href=#chatlog__message-container-1207531719406915614>2/14/2024 10:39â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, I am finally at the point to start working with VectorDB. 

For what I gather, it requires, to have installed protobuf (for protoc), is that correct?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207537060613980272 class=chatlog__message-container data-message-id=1207537060613980272><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, February 14, 2024 11:01â€¯PM"><a href=#chatlog__message-container-1207537060613980272>2/14/2024 11:01â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yeah that&#39;s correct</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207543252430102618 class=chatlog__message-container data-message-id=1207543252430102618><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Wednesday, February 14, 2024 11:25â€¯PM"><a href=#chatlog__message-container-1207543252430102618>2/14/2024 11:25â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>That should be the only <em>extra</em> piece</span></div></div></div></div><div id=chatlog__message-container-1207543359460347945 class=chatlog__message-container data-message-id=1207543359460347945><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, February 14, 2024 11:26â€¯PM">11:26â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Oh, and maturin / venv or conda if you want to build python</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207543404901302322 class=chatlog__message-container data-message-id=1207543404901302322><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/614626571676024892/4f27dd8ba9cb4b593ed4e334bf532d6c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1207537060613980272')"> yeah that&#39;s correct </span></div></div><div class=chatlog__header><span class=chatlog__author title=jeremychone data-user-id=614626571676024892>jeremychone</span> <span class=chatlog__timestamp title="Wednesday, February 14, 2024 11:26â€¯PM"><a href=#chatlog__message-container-1207543404901302322>2/14/2024 11:26â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>ok, just a question, is there a way to remove this dependency? It kind of add quite a bit of complexity to our dev process.</span></div></div></div></div><div id=chatlog__message-container-1207543476091363388 class=chatlog__message-container data-message-id=1207543476091363388><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, February 14, 2024 11:26â€¯PM">11:26â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>no big deal if it is not possible or not wanted.</span></div></div></div></div><div id=chatlog__message-container-1207543697911189544 class=chatlog__message-container data-message-id=1207543697911189544><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, February 14, 2024 11:27â€¯PM">11:27â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>So far we got spoiled, everything self contained without cargo build (and node/bun for the web stuff).</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207543766643380264 class=chatlog__message-container data-message-id=1207543766643380264><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, February 14, 2024 11:27â€¯PM"><a href=#chatlog__message-container-1207543766643380264>2/14/2024 11:27â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>we use protobuf at the format level to represent various metadata types. The idea is that for most changes protobuf manages compat automatically so we don&#39;t have to have a lot of breaking changes as the format evolves.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207543903054467122 class=chatlog__message-container data-message-id=1207543903054467122><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/614626571676024892/4f27dd8ba9cb4b593ed4e334bf532d6c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1207543766643380264')"> we use protobuf at the format level to represent various metadata types. The idea is that for most changes protobuf manages compat automatically so we don&#39;t have to have a lot of breaking changes as the format evolves. </span></div></div><div class=chatlog__header><span class=chatlog__author title=jeremychone data-user-id=614626571676024892>jeremychone</span> <span class=chatlog__timestamp title="Wednesday, February 14, 2024 11:28â€¯PM"><a href=#chatlog__message-container-1207543903054467122>2/14/2024 11:28â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>ok, no problem. We will incorporate that.</span></div></div></div></div><div id=chatlog__message-container-1207544180482637915 class=chatlog__message-container data-message-id=1207544180482637915><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, February 14, 2024 11:29â€¯PM">11:29â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>make sense about the compat. There is a crate <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">protoc</code>, but not sure it would be applicable. 
Anyway, no big deal, I am excited to get started with VectorDB. I saw you use apache arrow-rs, which is cool.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207544276867612682 class=chatlog__message-container data-message-id=1207544276867612682><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, February 14, 2024 11:29â€¯PM"><a href=#chatlog__message-container-1207544276867612682>2/14/2024 11:29â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>we are going through a major refactor in the Rust / nodejs codebase right now. That will likely land in a couple of weeks. so please expect a bunch of breaking changes then</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207544337244889179 class=chatlog__message-container data-message-id=1207544337244889179><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/614626571676024892/4f27dd8ba9cb4b593ed4e334bf532d6c.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=jeremychone>jeremychone</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1207544180482637915')"> make sense about the compat. There is a crate <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">protoc</code>, but not sure it would be applicable. 
Anyway, no big deal, I am excited to get started with VectorDB. I saw you use apache arrow-rs, which is cool. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, February 14, 2024 11:30â€¯PM"><a href=#chatlog__message-container-1207544337244889179>2/14/2024 11:30â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yeah we do. we â¤ï¸ arrow-rs</span></div></div></div></div><div id=chatlog__message-container-1207544402852061216 class=chatlog__message-container data-message-id=1207544402852061216><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, February 14, 2024 11:30â€¯PM">11:30â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="wjones127">@Will Jones</span> is one of the arrow-rs maintainers actually</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207544436070813696 class=chatlog__message-container data-message-id=1207544436070813696><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/614626571676024892/4f27dd8ba9cb4b593ed4e334bf532d6c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jeremychone data-user-id=614626571676024892>jeremychone</span> <span class=chatlog__timestamp title="Wednesday, February 14, 2024 11:30â€¯PM"><a href=#chatlog__message-container-1207544436070813696>2/14/2024 11:30â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Awesome!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207555312182104064 class=chatlog__message-container data-message-id=1207555312182104064><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/614626571676024892/4f27dd8ba9cb4b593ed4e334bf532d6c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jeremychone data-user-id=614626571676024892>jeremychone</span> <span class=chatlog__timestamp title="Thursday, February 15, 2024 12:13â€¯AM"><a href=#chatlog__message-container-1207555312182104064>2/15/2024 12:13â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Another noob question. 

let&#39;s say I have a UID string of 26 char/bytes, and I just want to get it back with my search result. 

I would defined the schema with something like that: 

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-rust">    let schema = Arc::new(Schema::new(vec![
        Field::new(&quot;id&quot;, DataType::Int32, false),
        Field::new(&quot;uid&quot;, DataType::Utf8, false), // &lt;&lt;-- To be able to store a string
        Field::new(
            &quot;vector&quot;,
            DataType::FixedSizeList(Arc::new(Field::new(&quot;item&quot;, DataType::Float32, true)), DIM as i32),
            true,
        ),
    ]));</code>

Right?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207555417484562452 class=chatlog__message-container data-message-id=1207555417484562452><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, February 15, 2024 12:14â€¯AM"><a href=#chatlog__message-container-1207555417484562452>2/15/2024 12:14â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yeah that looks right to me</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207555779742408705 class=chatlog__message-container data-message-id=1207555779742408705><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/614626571676024892/4f27dd8ba9cb4b593ed4e334bf532d6c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jeremychone data-user-id=614626571676024892>jeremychone</span> <span class=chatlog__timestamp title="Thursday, February 15, 2024 12:15â€¯AM"><a href=#chatlog__message-container-1207555779742408705>2/15/2024 12:15â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>btw, sorry, another one, when we get the embeddings from OpenAI, mistral, I think the typical dimension is 1000, I think. 

So, the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">DIM</code> will be <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">1000</code> right? 

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-rust">async fn create_table(db: Arc&lt;dyn Connection&gt;) -&gt; Result&lt;TableRef&gt; {
    // --8&lt;-- [start:create_table]
    const TOTAL: usize = 1000;
    const DIM: usize = 1000; // &lt;&lt;-- for embeddings

...</code></span> <span class=chatlog__edited-timestamp title="Thursday, February 15, 2024 12:15â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207555965436567582 class=chatlog__message-container data-message-id=1207555965436567582><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, February 15, 2024 12:16â€¯AM"><a href=#chatlog__message-container-1207555965436567582>2/15/2024 12:16â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yup, that&#39;s right. Note that they all have to be the same length</span></div></div></div></div><div id=chatlog__message-container-1207556113222996029 class=chatlog__message-container data-message-id=1207556113222996029><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 15, 2024 12:16â€¯AM">12:16â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>and if you&#39;re getting embeddings from both openai and mistral, you can store them in two separate columns. each can be searched separately</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207556410011815966 class=chatlog__message-container data-message-id=1207556410011815966><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/614626571676024892/4f27dd8ba9cb4b593ed4e334bf532d6c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1207556113222996029')"> and if you&#39;re getting embeddings from both openai and mistral, you can store them in two separate columns. each can be searched separately </span></div></div><div class=chatlog__header><span class=chatlog__author title=jeremychone data-user-id=614626571676024892>jeremychone</span> <span class=chatlog__timestamp title="Thursday, February 15, 2024 12:18â€¯AM"><a href=#chatlog__message-container-1207556410011815966>2/15/2024 12:18â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>ha, very cool.</span></div></div></div></div><div id=chatlog__message-container-1207558058633596928 class=chatlog__message-container data-message-id=1207558058633596928><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 15, 2024 12:24â€¯AM">12:24â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span> Thank you so much. I think I have enough to work with for a couple of days. Eventually, I plan to create a short tutorial video about this library. We are planning to build a prod desktop app using VectorDb if everything worked out, so, that will be exciting as well.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=tada><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸŽ‰ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f389.svg loading=lazy> <span class=chatlog__reaction-count>2</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207565580702457926 class=chatlog__message-container data-message-id=1207565580702457926><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/614626571676024892/4f27dd8ba9cb4b593ed4e334bf532d6c.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=jeremychone>jeremychone</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1207558058633596928')"> <span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span> Thank you so much. I think I have enough to work with for a couple of days. Eventually, I plan to create a short tutorial video about this library. We are planning to build a prod desktop app using VectorDb if everything worked out, so, that will be exciting as well. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, February 15, 2024 12:54â€¯AM"><a href=#chatlog__message-container-1207565580702457926>2/15/2024 12:54â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i&#39;d be very excited to see it! Our Rust API is a bit rough (confession: we&#39;ve been more focused on python/nodejs as user-facing APIs) so don&#39;t hesitate to ask here or open github issues if you run into any problems</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207579670145400914 class=chatlog__message-container data-message-id=1207579670145400914><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/857516897855340544/2e075a3748c7eb6b1c94f0107c6974f7.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1207555965436567582')"> yup, that&#39;s right. Note that they all have to be the same length </span></div></div><div class=chatlog__header><span class=chatlog__author title=sarav1n data-user-id=857516897855340544>Sarav</span> <span class=chatlog__timestamp title="Thursday, February 15, 2024 1:50â€¯AM"><a href=#chatlog__message-container-1207579670145400914>2/15/2024 1:50â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Isnt the DIM the embedding dimension, so not always 1000. 1536 for ADA, (and other options with the newer models).</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207586274349809756 class=chatlog__message-container data-message-id=1207586274349809756><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/614626571676024892/4f27dd8ba9cb4b593ed4e334bf532d6c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1207565580702457926')"> i&#39;d be very excited to see it! Our Rust API is a bit rough (confession: we&#39;ve been more focused on python/nodejs as user-facing APIs) so don&#39;t hesitate to ask here or open github issues if you run into any problems </span></div></div><div class=chatlog__header><span class=chatlog__author title=jeremychone data-user-id=614626571676024892>jeremychone</span> <span class=chatlog__timestamp title="Thursday, February 15, 2024 2:16â€¯AM"><a href=#chatlog__message-container-1207586274349809756>2/15/2024 2:16â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Cool will do.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207586936399855616 class=chatlog__message-container data-message-id=1207586936399855616><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/614626571676024892/4f27dd8ba9cb4b593ed4e334bf532d6c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/857516897855340544/2e075a3748c7eb6b1c94f0107c6974f7.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=sarav1n>Sarav</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1207579670145400914')"> Isnt the DIM the embedding dimension, so not always 1000. 1536 for ADA, (and other options with the newer models). </span></div></div><div class=chatlog__header><span class=chatlog__author title=jeremychone data-user-id=614626571676024892>jeremychone</span> <span class=chatlog__timestamp title="Thursday, February 15, 2024 2:19â€¯AM"><a href=#chatlog__message-container-1207586936399855616>2/15/2024 2:19â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Btw, you might be right. I just said 1000, because this is a number we can give to ollama I think, but I am not familiar enough to know what the right dim for what model.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207595766244179968 class=chatlog__message-container data-message-id=1207595766244179968><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/857516897855340544/2e075a3748c7eb6b1c94f0107c6974f7.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/614626571676024892/4f27dd8ba9cb4b593ed4e334bf532d6c.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=jeremychone>jeremychone</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1207586936399855616')"> Btw, you might be right. I just said 1000, because this is a number we can give to ollama I think, but I am not familiar enough to know what the right dim for what model. </span></div></div><div class=chatlog__header><span class=chatlog__author title=sarav1n data-user-id=857516897855340544>Sarav</span> <span class=chatlog__timestamp title="Thursday, February 15, 2024 2:54â€¯AM"><a href=#chatlog__message-container-1207595766244179968>2/15/2024 2:54â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>You can pretty much google the model you plan to use + embedding dimension and get  the number.</span></div></div></div></div><div id=chatlog__message-container-1207596252787900426 class=chatlog__message-container data-message-id=1207596252787900426><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, February 15, 2024 2:56â€¯AM">2:56â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Another quick place to reference is the popular MTEB leaderboard - <a href="https://huggingface.co/spaces/mteb/leaderboard">https://huggingface.co/spaces/mteb/leaderboard</a>

This list both open and closed source models, the second column being the embedding dimension. 

Ive been playing around with BGE small and have initialized mine with DIM_SIZE of 384 and everything works as expected. Able to write and retrieve</span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://huggingface.co/spaces/mteb/leaderboard><div class="chatlog__markdown chatlog__markdown-preserve">MTEB Leaderboard - a Hugging Face Space by mteb</div></a></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/pGDfcPHeWVTftAq1PCFfRWKu_removY4Q2tS07lTB6M/https/cdn-thumbnails.huggingface.co/social-thumbnails/spaces/mteb/leaderboard.png> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/pGDfcPHeWVTftAq1PCFfRWKu_removY4Q2tS07lTB6M/https/cdn-thumbnails.huggingface.co/social-thumbnails/spaces/mteb/leaderboard.png alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207596970303168512 class=chatlog__message-container data-message-id=1207596970303168512><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/614626571676024892/4f27dd8ba9cb4b593ed4e334bf532d6c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/857516897855340544/2e075a3748c7eb6b1c94f0107c6974f7.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=sarav1n>Sarav</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1207596252787900426')"> Another quick place to reference is the popular MTEB leaderboard - <a href="https://huggingface.co/spaces/mteb/leaderboard">https://huggingface.co/spaces/mteb/leaderboard</a>

This list both open and closed source models, the second column being the embedding dimension. 

Ive been playing around with BGE small and have initialized mine with DIM_SIZE of 384 and everything works as expected. Able to write and retrieve </span></div></div><div class=chatlog__header><span class=chatlog__author title=jeremychone data-user-id=614626571676024892>jeremychone</span> <span class=chatlog__timestamp title="Thursday, February 15, 2024 2:59â€¯AM"><a href=#chatlog__message-container-1207596970303168512>2/15/2024 2:59â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Awesome, thanks!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208915798425477181 class=chatlog__message-container data-message-id=1208915798425477181><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/657265318745341970/e5c9a21216fafb03a2f9b05c4cd63f65.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=m18e data-user-id=657265318745341970>m18e</span> <span class=chatlog__timestamp title="Sunday, February 18, 2024 6:19â€¯PM"><a href=#chatlog__message-container-1208915798425477181>2/18/2024 6:19â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;ve got a couple changes to lance + lancedb to support custom object stores; is this something that would be interested in being upstreamed?</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=ðŸ«¡><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ«¡ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1fae1.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1208950690475675668 class=chatlog__message-container data-message-id=1208950690475675668><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Sunday, February 18, 2024 8:38â€¯PM"><a href=#chatlog__message-container-1208950690475675668>2/18/2024 8:38â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Which custom object stores are you thinking about? Definitely interested in support more storage backends</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1209161467535032360 class=chatlog__message-container data-message-id=1209161467535032360><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/657265318745341970/e5c9a21216fafb03a2f9b05c4cd63f65.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=m18e data-user-id=657265318745341970>m18e</span> <span class=chatlog__timestamp title="Monday, February 19, 2024 10:35â€¯AM"><a href=#chatlog__message-container-1209161467535032360>2/19/2024 10:35â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>we have a custom object store that we built that we wish to run LanceDB on top of; the changes to lance/vectordb are more to support anything implementing the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">ObjectStore</code> trait from the object_store crate</span></div></div></div></div><div id=chatlog__message-container-1209162868126253187 class=chatlog__message-container data-message-id=1209162868126253187><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Monday, February 19, 2024 10:41â€¯AM">10:41â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>let me rebase off the latest lance/lancedb releases and I can put together a PR</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1209187352480841758 class=chatlog__message-container data-message-id=1209187352480841758><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Monday, February 19, 2024 12:18â€¯PM"><a href=#chatlog__message-container-1209187352480841758>2/19/2024 12:18â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We&#39;ve had requests for a stable / non-experimental Rust API for a while now.  That work is beginning in <a href="https://github.com/lancedb/lancedb/pull/993">https://github.com/lancedb/lancedb/pull/993</a> and <a href="https://github.com/lancedb/lancedb/issues/996">https://github.com/lancedb/lancedb/issues/996</a>

This will include some breaking changes to the current API (I don&#39;t anticipate any removals of feature / capability, just some renaming and restructuring).

We welcome and encourage input from any existing or potential Rust users.</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/pull/993><div class="chatlog__markdown chatlog__markdown-preserve">refactor: rust vectordb API stabilization of the Connection trait b...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">This is the start of a more comprehensive refactor and stabilization of the Rust API.  The Connection trait is cleaned up to not require lance and to match the Connection trait in other APIs.  In a...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/Ri6EIY9-TDDCWi7A2c-lpxFg3enNq9cPquGzDbVZj0U/https/opengraph.githubassets.com/fa5e4572ee638fcb3fe67b70ba6d2476179495926e53c736eafd06b7f10920df/lancedb/lancedb/pull/993> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/Ri6EIY9-TDDCWi7A2c-lpxFg3enNq9cPquGzDbVZj0U/https/opengraph.githubassets.com/fa5e4572ee638fcb3fe67b70ba6d2476179495926e53c736eafd06b7f10920df/lancedb/lancedb/pull/993 alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/issues/996><div class="chatlog__markdown chatlog__markdown-preserve">Feature: complete rust API &#183; Issue #996 &#183; lancedb/lancedb</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">SDK Rust Description The Rust vectordb is currently marked experimental. It also differs from the other SDKs in some ways. This feature is an epic feature to track the various things that need to h...</div></div></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1209812251326943232 class=chatlog__message-container data-message-id=1209812251326943232><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/268998445908492290/0db9db7d1f09289666a7d0ebf94e3c21.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=alleggsandher data-user-id=268998445908492290>justintime</span> <span class=chatlog__timestamp title="Wednesday, February 21, 2024 5:41â€¯AM"><a href=#chatlog__message-container-1209812251326943232>2/21/2024 5:41â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Any good code samples for how to use lance(db) from Rust? My ideal usecase is to have something which takes in a list-of-JSON, store it in the first column (as bson), reify some fields, then compute embeddings. Is the best entrypoint for this to be found in lance or lancedb? It would be great to be able to query from both Python and Rust.</span></div></div></div></div><div id=chatlog__message-container-1209812857458266142 class=chatlog__message-container data-message-id=1209812857458266142><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, February 21, 2024 5:44â€¯AM">5:44â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Also, regarding versioning, is this additive? So if I recompute a column, will the original values be stored in the file? And if so, is there a way to edit that history to reduce space?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1209838468314963968 class=chatlog__message-container data-message-id=1209838468314963968><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/268998445908492290/0db9db7d1f09289666a7d0ebf94e3c21.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=alleggsandher>justintime</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1209812251326943232')"> Any good code samples for how to use lance(db) from Rust? My ideal usecase is to have something which takes in a list-of-JSON, store it in the first column (as bson), reify some fields, then compute embeddings. Is the best entrypoint for this to be found in lance or lancedb? It would be great to be able to query from both Python and Rust. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Wednesday, February 21, 2024 7:26â€¯AM"><a href=#chatlog__message-container-1209838468314963968>2/21/2024 7:26â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">Any good code samples for how to use lance(db) from Rust?
</div></div>
We are in the process of stabilizing our rust API for lancedb (as in, this week and the next week or two).  Until then, the api docs and tests are probably the best starting point. 

<div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">Is the best entrypoint for this to be found in lance or lancedb?
</div></div>
What you&#39;re describing should be doable with lancedb and that should be simpler.

<div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">store it in the first column (as bson), reify some fields, then compute embeddings.
</div></div>
Sadly, no proper bson support at this time.  There&#39;s some discussion of it in <a href="https://github.com/apache/arrow-datafusion/issues/7845">https://github.com/apache/arrow-datafusion/issues/7845</a> .  You can still store bson data as &quot;binary data&quot;.  You just need to do the compute / field extraction type stuff yourself (e.g. pull a stream of batches from lance, for each batch decode into bson, ...)

Are you planning on computing embeddings in Rust?  What library do you plan to use?  There are a few approaches you can take for adding embeddings after the fact.  You can use merge_insert to do a &quot;bulk update&quot; of as many rows at a time as you want (read a batch of rows, calculate embeddings, update the rows).  You can also compute an entire column&#39;s worth of embeddings and then add a column with add_column.

<div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">It would be great to be able to query from both Python and Rust
</div></div>
This works today

<div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">Also, regarding versioning, is this additive? So if I recompute a column, will the original values be stored in the file?
</div></div>
Yes.

<div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">And if so, is there a way to edit that history to reduce space?
</div></div>
rust: <a href="https://docs.rs/vectordb/latest/vectordb/table/trait.Table.html#tymethod.optimize">https://docs.rs/vectordb/latest/vectordb/table/trait.Table.html#tymethod.optimize</a>
python: <a href="https://lancedb.github.io/lancedb/python/python/#lancedb.table.Table.cleanup_old_versions">https://lancedb.github.io/lancedb/python/python/#lancedb.table.Table.cleanup_old_versions</a></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210069403937546291 class=chatlog__message-container data-message-id=1210069403937546291><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/857516897855340544/2e075a3748c7eb6b1c94f0107c6974f7.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/268998445908492290/0db9db7d1f09289666a7d0ebf94e3c21.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=alleggsandher>justintime</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1209812251326943232')"> Any good code samples for how to use lance(db) from Rust? My ideal usecase is to have something which takes in a list-of-JSON, store it in the first column (as bson), reify some fields, then compute embeddings. Is the best entrypoint for this to be found in lance or lancedb? It would be great to be able to query from both Python and Rust. </span></div></div><div class=chatlog__header><span class=chatlog__author title=sarav1n data-user-id=857516897855340544>Sarav</span> <span class=chatlog__timestamp title="Wednesday, February 21, 2024 10:43â€¯PM"><a href=#chatlog__message-container-1210069403937546291>2/21/2024 10:43â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>This might be of help 

<a href="https://github.com/lancedb/lancedb/blob/main/rust/vectordb/examples/simple.rs">https://github.com/lancedb/lancedb/blob/main/rust/vectordb/examples/simple.rs</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/blob/main/rust/vectordb/examples/simple.rs><div class="chatlog__markdown chatlog__markdown-preserve">lancedb/rust/vectordb/examples/simple.rs at main &#183; lancedb/lancedb</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Developer-friendly, serverless vector database for AI applications. Easily add long-term memory to your LLM apps! - lancedb/lancedb</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/kdiEhwQfPf9s4w0EaMrYHlkM1KZxXduqZurdXPNJzvk/https/opengraph.githubassets.com/d660c8a8a74992a93628cbc28895285fd29481593a928bdb76d59023d596697c/lancedb/lancedb> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/kdiEhwQfPf9s4w0EaMrYHlkM1KZxXduqZurdXPNJzvk/https/opengraph.githubassets.com/d660c8a8a74992a93628cbc28895285fd29481593a928bdb76d59023d596697c/lancedb/lancedb alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1211393709409697832 class=chatlog__message-container data-message-id=1211393709409697832><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/720869485317193772/0a2335319dc3b1cd7d58392f93685b2a.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=samcreator data-user-id=720869485317193772>Sam Keen</span> <span class=chatlog__timestamp title="Sunday, February 25, 2024 2:26â€¯PM"><a href=#chatlog__message-container-1211393709409697832>2/25/2024 2:26â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hey folks, I&#39;ve been playing with the vectordb crate.  My ultimate goal is to use LanceDB to store embeddings. I have a POC working (full code: <a href="https://github.com/samkeen/lancedb-test/blob/main/src/main.rs)">https://github.com/samkeen/lancedb-test/blob/main/src/main.rs)</a>

Question: When doing a search, I want to have the original text to show to the user?  Is this a reasonable way to approach that; along side the embeddings Field, have a Utf8 Field to store the original text?
thx in advance, obligatory apologies for my noob Rust code <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg">  
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">let schema = Arc::new(Schema::new(vec![
        Field::new(&quot;id&quot;, DataType::Int32, false),
        Field::new(
            &quot;embeddings&quot;,
            DataType::FixedSizeList(
                Arc::new(Field::new(&quot;item&quot;, DataType::Float32, true)),
                dimensions_count as i32,
            ),
            true,
        ),
        Field::new(&quot;text&quot;, DataType::Utf8, false),
    ]));</code></span> <span class=chatlog__edited-timestamp title="Sunday, February 25, 2024 2:31â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1211405703915249717 class=chatlog__message-container data-message-id=1211405703915249717><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Sunday, February 25, 2024 3:13â€¯PM"><a href=#chatlog__message-container-1211405703915249717>2/25/2024 3:13â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yes, this is fine.  You just need to select the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">text</code> column during vector search</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1211408032047693834 class=chatlog__message-container data-message-id=1211408032047693834><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/720869485317193772/0a2335319dc3b1cd7d58392f93685b2a.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=lei.xu>lei</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1211405703915249717')"> Yes, this is fine.  You just need to select the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">text</code> column during vector search </span></div></div><div class=chatlog__header><span class=chatlog__author title=samcreator data-user-id=720869485317193772>Sam Keen</span> <span class=chatlog__timestamp title="Sunday, February 25, 2024 3:23â€¯PM"><a href=#chatlog__message-container-1211408032047693834>2/25/2024 3:23â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>thank you, also I&#39;m doing this to get the distances, is there an accessor of some sort I should be using instead?
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">let distances = record_batch.column_by_name(&quot;_distance&quot;).unwrap();</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1211411464506843186 class=chatlog__message-container data-message-id=1211411464506843186><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Sunday, February 25, 2024 3:36â€¯PM"><a href=#chatlog__message-container-1211411464506843186>2/25/2024 3:36â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>oh this is the way. after you get <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">RecordBatch</code>, it is all <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">arrow-rs</code> now.</span> <span class=chatlog__edited-timestamp title="Sunday, February 25, 2024 3:36â€¯PM">(edited)</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1214986584449880154 class=chatlog__message-container data-message-id=1214986584449880154><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=__vmg data-user-id=138497924542758912>vmg</span> <span class=chatlog__timestamp title="Wednesday, March 6, 2024 12:22â€¯PM"><a href=#chatlog__message-container-1214986584449880154>3/6/2024 12:22â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>What&#39;s the best way to convert a lance database to a single file for cloud storage?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1215123210152976480 class=chatlog__message-container data-message-id=1215123210152976480><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, March 6, 2024 9:25â€¯PM"> <a href=#chatlog__message-container-1215123210152976480>3/6/2024 9:25â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1215674625082662974 class=chatlog__message-container data-message-id=1215674625082662974><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=.simoncw data-user-id=408569948689137665>SimonCW</span> <span class=chatlog__timestamp title="Friday, March 8, 2024 9:56â€¯AM"><a href=#chatlog__message-container-1215674625082662974>3/8/2024 9:56â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey hey, I&#39;m building a small all-local, all-OSS RAG demonstrator. Currently my stack is ollama-rsfor OSS LLMs (might switch to llamafile), fastembed-rs for embeddings, and pgvector extension as VectorDB. I want to switch to LanceDB to avoid depending on Docker, Postgres Server, etc. Ideally, in the end, the user would just have to download a single binary. 

Anyhow, my real question is this:
The Rust sdk is quite a bit lower-level than the Python API. For example, you have to define the schema via arrow-schema. I know that you are in the progress of rewriting the Rust SDK (I&#39;m already using the lancedb crate). But is this something that will change soon? Or is the rewrite more about the missing functionality in the Rust sdk? I found this <a href="https://github.com/lancedb/lancedb/issues/996">gh issue</a> but it doesn&#39;t answer my question. I&#39;m asking because I could delay switching from postrgres for a week or two and work on other stuff first.</span> <span class=chatlog__edited-timestamp title="Friday, March 8, 2024 10:06â€¯AM">(edited)</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/issues/996><div class="chatlog__markdown chatlog__markdown-preserve">Feature: complete rust API &#183; Issue #996 &#183; lancedb/lancedb</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">SDK Rust Description The Rust vectordb is currently marked experimental. It also differs from the other SDKs in some ways. This feature is an epic feature to track the various things that need to h...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/TnJTYlQp0JbQuwRbiQ-U6WQoHfPVCVdi1vveHcg1BL0/https/opengraph.githubassets.com/f5f89246c5ed962cd48cae4419e5d618b4a23ec6c10565bc716d5f30b2694e89/lancedb/lancedb/issues/996> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/TnJTYlQp0JbQuwRbiQ-U6WQoHfPVCVdi1vveHcg1BL0/https/opengraph.githubassets.com/f5f89246c5ed962cd48cae4419e5d618b4a23ec6c10565bc716d5f30b2694e89/lancedb/lancedb/issues/996 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1215679914431221760 class=chatlog__message-container data-message-id=1215679914431221760><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=.simoncw>SimonCW</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1215674625082662974')"> Hey hey, I&#39;m building a small all-local, all-OSS RAG demonstrator. Currently my stack is ollama-rsfor OSS LLMs (might switch to llamafile), fastembed-rs for embeddings, and pgvector extension as VectorDB. I want to switch to LanceDB to avoid depending on Docker, Postgres Server, etc. Ideally, in the end, the user would just have to download a single binary. 

Anyhow, my real question is this:
The Rust sdk is quite a bit lower-level than the Python API. For example, you have to define the schema via arrow-schema. I know that you are in the progress of rewriting the Rust SDK (I&#39;m already using the lancedb crate). But is this something that will change soon? Or is the rewrite more about the missing functionality in the Rust sdk? I found this <a href="https://github.com/lancedb/lancedb/issues/996">gh issue</a> but it doesn&#39;t answer my question. I&#39;m asking because I could delay switching from postrgres for a week or two and work on other stuff first. </span> <span class=chatlog__reply-edited-timestamp title="Friday, March 8, 2024 10:06â€¯AM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Friday, March 8, 2024 10:17â€¯AM"><a href=#chatlog__message-container-1215679914431221760>3/8/2024 10:17â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>The rust rewrite is primarily focused on reworking the API so that it is thoroughly documented, compatible with the python API, and something we can commit to supporting with backwards compatibility (so we can take off the &quot;experimental&quot; warning).

That won&#39;t really change the fact that the rust SDK is low level though.  We will still be working with arrow_schema.  Neither arrow-rs or lancedb are good equivalents to something like pyarrow or pandas (arrow-rs is too low level and lancedb is not a dataframe library).

I think one potential avenue might be better integration with polars.  I&#39;m hoping we can soon support import/export from polars dataframes in rust.  Would that help tackle this issue?  Is there something specific about arrow schemas that is difficult or is there a different rust library you are using to represent your data today?</span></div></div></div></div><div id=chatlog__message-container-1215680102969638923 class=chatlog__message-container data-message-id=1215680102969638923><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, March 8, 2024 10:18â€¯AM">10:18â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We could also probably add better import/export with just plain rust vecs, especially for simple primitive types and probably tensors/vectors.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1215745909518893168 class=chatlog__message-container data-message-id=1215745909518893168><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=.simoncw data-user-id=408569948689137665>SimonCW</span> <span class=chatlog__timestamp title="Friday, March 8, 2024 2:40â€¯PM"><a href=#chatlog__message-container-1215745909518893168>3/8/2024 2:40â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Disclaimer: I&#39;m relatively new to rust and LanceDB, so some of the stuff I&#39;m saying might be stupid <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™ƒ"
    title="upside_down"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f643.svg"> . But I&#39;m here to learn and help.

Working with the arrow types and schema directly feels like working with the DB internals. It feels quite unergonomic to me as an application developer. As an application developer I don&#39;t want to learn about a low-level library (arrow) that defines a memory layout. 

For example, see the schema definition below. How should I&#39;ve known that I should use <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">FixedSizeList</code> for embeddings with LanceDB?
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-rust">    let schema = Arc::new(Schema::new(vec![
        Field::new(&quot;id&quot;, DataType::Int32, false),
        Field::new(&quot;text&quot;, DataType::Utf8, true),
        Field::new(
            &quot;vector&quot;,
            DataType::FixedSizeList(
                Arc::new(Field::new(&quot;item&quot;, DataType::Float32, true)),
                EMBEDDINGSIZE,
            ),
            true,
        ),
    ]));</code>

Compared to postgressql with pgvector:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-sql">(id bigserial PRIMARY KEY, chunk text, embedding vector(1024));</code>
Pgvector then has a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Vector</code> type and you can do <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">let embedding = Vector::from(embedding_vec);</code>  to insert into the db.

Not really an apples to apples comparison, comparing Rust code to SQL but I think you get the idea.</span> <span class=chatlog__edited-timestamp title="Friday, March 8, 2024 2:51â€¯PM">(edited)</span></div></div></div></div><div id=chatlog__message-container-1215747482437292032 class=chatlog__message-container data-message-id=1215747482437292032><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, March 8, 2024 2:46â€¯PM">2:46â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I think one option would be to create your own types, e.g. Vector Type and have nice conversion functions from array, vector, etc.</span> <span class=chatlog__edited-timestamp title="Friday, March 8, 2024 2:56â€¯PM">(edited)</span></div></div></div></div><div id=chatlog__message-container-1215748293456429097 class=chatlog__message-container data-message-id=1215748293456429097><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, March 8, 2024 2:49â€¯PM">2:49â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>For me, importing for polars wouldn&#39;t help. I&#39;m iterating through chunks of text (<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Vec&lt;&amp;str&gt;</code>) and creating embeddings with fastembed-rs which returns <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Vec&lt;Vec&lt;f32&gt;&gt;</code>.</span></div></div></div></div><div id=chatlog__message-container-1215749989611868261 class=chatlog__message-container data-message-id=1215749989611868261><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, March 8, 2024 2:56â€¯PM">2:56â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Another option could be the analogue to the Python SDK where you can define a LanceModel that get&#39;s converted to an Arrow Schema. For inserting data, types could be inferred and converted from Rust primitives.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1215805284807741470 class=chatlog__message-container data-message-id=1215805284807741470><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Friday, March 8, 2024 6:36â€¯PM"><a href=#chatlog__message-container-1215805284807741470>3/8/2024 6:36â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Interesting.  There is the <a href="https://docs.rs/serde_arrow/latest/serde_arrow/">https://docs.rs/serde_arrow/latest/serde_arrow/</a> crate.  We could add that as a feature and then take in a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Vec&lt;impl serde::Deserialize&gt;</code>

I don&#39;t know about a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Vector</code> type just beause <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Vec</code> is so similar but a A <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">struct Tensor(Vec&lt;f32&gt;)</code> or <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">struct LanceVector(Vec&lt;f32&gt;)</code> might not be so bad.</span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href="https://docs.rs/serde_arrow/latest/serde_arrow/"><div class="chatlog__markdown chatlog__markdown-preserve">serde_arrow - Rust</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve"><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">serde_arrow</code> - convert sequences Rust objects to / from arrow arrays</div></div></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=heart><img class="chatlog__emoji chatlog__emoji--small" alt=â¤ï¸ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/2764.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div><div class=chatlog__reaction title=thumbsup_tone3><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ðŸ½ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d-1f3fd.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div><div id=chatlog__message-container-1215805388696584294 class=chatlog__message-container data-message-id=1215805388696584294><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, March 8, 2024 6:36â€¯PM">6:36â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Also, yes, I htink <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Vec&lt;&amp;str&gt;</code> and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Vec&lt;Vec&lt;f32&gt;&gt;</code> should be supported</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup_tone3><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ðŸ½ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d-1f3fd.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1216008796598571148 class=chatlog__message-container data-message-id=1216008796598571148><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=.simoncw data-user-id=408569948689137665>SimonCW</span> <span class=chatlog__timestamp title="Saturday, March 9, 2024 8:04â€¯AM"><a href=#chatlog__message-container-1216008796598571148>3/9/2024 8:04â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;d personally be fine with a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Vector</code>. I didn&#39;t find the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">pgvector::Vector</code> confusing.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1222265555785093281 class=chatlog__message-container data-message-id=1222265555785093281><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/480737314704850964/2576c9f109fd98908ec7b818db098781.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=yourtechbud data-user-id=480737314704850964>YourTechBud</span> <span class=chatlog__timestamp title="Tuesday, March 26, 2024 3:26â€¯PM"><a href=#chatlog__message-container-1222265555785093281>3/26/2024 3:26â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey. Sorry if this is a repeat question but I wanted to understand something about the rust driver.

From what i understand, currently we have 2 maintenance tasks that needs to be done on a periodic basis:
<ul><li>Reindexing the vector and fts index. I believe scalar indexes don&#39;t need to be re indexed. (I am aware that fts isn&#39;t currently supported in the rust driver)</li><li>run compaction to merge the fragments.

How do you perform the above activities in rust? I don&#39;t see any corresponding methods. Is <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">optimize</code> the method which will handle all of this for me?</li></ul></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1222288903109738648 class=chatlog__message-container data-message-id=1222288903109738648><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Tuesday, March 26, 2024 4:59â€¯PM"><a href=#chatlog__message-container-1222288903109738648>3/26/2024 4:59â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I assume you are using lancedb rust crate

We can use the parameter to decide <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">OptimizeActions</code> <a href="https://docs.rs/lancedb/latest/lancedb/table/enum.OptimizeAction.html">https://docs.rs/lancedb/latest/lancedb/table/enum.OptimizeAction.html</a></span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://docs.rs/lancedb/latest/lancedb/table/enum.OptimizeAction.html><div class="chatlog__markdown chatlog__markdown-preserve">OptimizeAction in lancedb::table - Rust</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Optimize the dataset.</div></div></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>2</span></div></div></div></div></div><div id=chatlog__message-container-1222288939038281969 class=chatlog__message-container data-message-id=1222288939038281969><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, March 26, 2024 4:59â€¯PM">4:59â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://docs.rs/lancedb/latest/lancedb/table/struct.Table.html#method.optimize">https://docs.rs/lancedb/latest/lancedb/table/struct.Table.html#method.optimize</a></span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://docs.rs/lancedb/latest/lancedb/table/struct.Table.html><div class="chatlog__markdown chatlog__markdown-preserve">Table in lancedb::table - Rust</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">A Table is a collection of strong typed Rows.</div></div></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1222622810866716673 class=chatlog__message-container data-message-id=1222622810866716673><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/480737314704850964/2576c9f109fd98908ec7b818db098781.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=yourtechbud data-user-id=480737314704850964>YourTechBud</span> <span class=chatlog__timestamp title="Wednesday, March 27, 2024 3:06â€¯PM"><a href=#chatlog__message-container-1222622810866716673>3/27/2024 3:06â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Oh. Got it. Thanks</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1224422378738679918 class=chatlog__message-container data-message-id=1224422378738679918><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/857516897855340544/2e075a3748c7eb6b1c94f0107c6974f7.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=sarav1n data-user-id=857516897855340544>Sarav</span> <span class=chatlog__timestamp title="Monday, April 1, 2024 2:17â€¯PM"><a href=#chatlog__message-container-1224422378738679918>4/1/2024 2:17â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>When does 4.14 go on crates.io?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1224427845862948915 class=chatlog__message-container data-message-id=1224427845862948915><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Monday, April 1, 2024 2:39â€¯PM"><a href=#chatlog__message-container-1224427845862948915>4/1/2024 2:39â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>it is under new  <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lancedb</code> crate now.</span> <span class=chatlog__edited-timestamp title="Monday, April 1, 2024 2:39â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1225562250836971691 class=chatlog__message-container data-message-id=1225562250836971691><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/274377022287904769/a033a7cc0188a8b225a3ae189806187c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=shelbyjenkins data-user-id=274377022287904769>ShelbyAsA</span> <span class=chatlog__timestamp title="Thursday, April 4, 2024 5:46â€¯PM"><a href=#chatlog__message-container-1225562250836971691>4/4/2024 5:46â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, I wrote this today to access the results of queries. Looking for feedback.

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">async fn values_from_query(
    mut stream: Pin&lt;Box&lt;dyn RecordBatchStream + Send&gt;&gt;,
    include_distance: bool,
) -&gt; Result&lt;Vec&lt;VectorResult&gt;, Box&lt;dyn std::error::Error&gt;&gt; {
    let mut output = Vec::new();
    loop {
        let record_batch = match stream.try_next().await {
            Ok(record_batch_option) =&gt; match record_batch_option {
                Some(record_batch) =&gt; record_batch,
                None =&gt; break,
            },
            Err(e) =&gt; return Err(Box::new(e)),
        };
        let id_array = record_batch
            .column_by_name(&quot;id&quot;)
            .unwrap()
            .as_any()
            .downcast_ref::&lt;Int32Array&gt;()
            .unwrap()
            .values();
        let dist_array = if include_distance {
            Some(
                record_batch
                    .column_by_name(&quot;_distance&quot;)
                    .unwrap()
                    .as_any()
                    .downcast_ref::&lt;Float32Array&gt;()
                    .unwrap()
                    .values(),
            )
        } else {
            None
        };
        let vec_col = record_batch
            .column_by_name(&quot;vector&quot;)
            .unwrap()
            .as_any()
            .downcast_ref::&lt;FixedSizeListArray&gt;()
            .unwrap();

        for i in 0..id_array.len() {
            let vector_result = VectorResult {
                id: id_array[i],
                vector: vec_col
                    .value(i)
                    .as_any()
                    .downcast_ref::&lt;Float32Array&gt;()
                    .unwrap()
                    .values()
                    .to_vec(),
                distance: dist_array.map(|dist_array| dist_array[i]),
            };
            output.push(vector_result);
        }
    }
    Ok(output)
}</code></span></div></div></div></div><div id=chatlog__message-container-1225562967500787834 class=chatlog__message-container data-message-id=1225562967500787834><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, April 4, 2024 5:49â€¯PM">5:49â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Also, I&#39;d add that this was harder than it should of been for me. The examples, docs, and tests weren&#39;t very helpful because they assume an understanding of Arrow. And Claude/GPT don&#39;t seem to know Arrow well enough either.

Excited to try Lance out though!</span></div></div></div></div><div id=chatlog__message-container-1225563589239378030 class=chatlog__message-container data-message-id=1225563589239378030><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, April 4, 2024 5:52â€¯PM">5:52â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Also, I assume FTS is coming to the Rust client and I should implement Tantivy myself? <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ˜„"
    title="smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f604.svg"></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1225565097666154520 class=chatlog__message-container data-message-id=1225565097666154520><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, April 4, 2024 5:58â€¯PM"> <a href=#chatlog__message-container-1225565097666154520>4/4/2024 5:58â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1225828771597385799 class=chatlog__message-container data-message-id=1225828771597385799><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/274377022287904769/a033a7cc0188a8b225a3ae189806187c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=shelbyjenkins data-user-id=274377022287904769>ShelbyAsA</span> <span class=chatlog__timestamp title="Friday, April 5, 2024 11:25â€¯AM"><a href=#chatlog__message-container-1225828771597385799>4/5/2024 11:25â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Does anyone have experience with evaluating the performance of semantic search?

Like, benchmarking? Maybe there is a library or dataset that could be used to evaluate retrieval?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1225901204433797120 class=chatlog__message-container data-message-id=1225901204433797120><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Friday, April 5, 2024 4:13â€¯PM"><a href=#chatlog__message-container-1225901204433797120>4/5/2024 4:13â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi folks, we were using the vectordb crate until now. Should we be using lancedb ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1225902502734594171 class=chatlog__message-container data-message-id=1225902502734594171><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=diptanuc>diptanuc</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1225901204433797120')"> Hi folks, we were using the vectordb crate until now. Should we be using lancedb ? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Friday, April 5, 2024 4:18â€¯PM"><a href=#chatlog__message-container-1225902502734594171>4/5/2024 4:18â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lancedb</code> crate is our new API. <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">vectordb</code> will be deprecated in the near future. <a href="https://blog.lancedb.com/exciting-news-for-lancedb-community/">https://blog.lancedb.com/exciting-news-for-lancedb-community/</a></span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href="https://blog.lancedb.com/exciting-news-for-lancedb-community/"><div class="chatlog__markdown chatlog__markdown-preserve"><img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸŒŸ"
    title="star2"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f31f.svg"> Exciting News for LanceDB Community!<img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸš€"
    title="rocket"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f680.svg"></div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Dear LanceDB Community,

We are thrilled to announce some significant updates in our open-source software, LanceDB, the database designed for multimodal AI/ML data processing based on the Lance file format. In response to community feedback and to enhance the user experience, we are introducing a brand-new Rust client and</div></div></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1225909277089075332 class=chatlog__message-container data-message-id=1225909277089075332><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Friday, April 5, 2024 4:45â€¯PM"><a href=#chatlog__message-container-1225909277089075332>4/5/2024 4:45â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Very nice!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1225976927165222964 class=chatlog__message-container data-message-id=1225976927165222964><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/134507911215972352/32717ce32e5dce7b5e451b6564535cc3.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=justquill data-user-id=134507911215972352>Quill</span> <span class=chatlog__timestamp title="Friday, April 5, 2024 9:14â€¯PM"><a href=#chatlog__message-container-1225976927165222964>4/5/2024 9:14â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi all! I&#39;m entertaining bringing in lancedb into Zed the editor for our semantic search, for humans and models alike. Two things are a bit in the way -- tokio dependence and this git2 dependency at build time: <a href="https://github.com/lancedb/lance/issues/2159">https://github.com/lancedb/lance/issues/2159</a>

I see a lot of potential in having this interchange format through lance so that indexing Zed does can be used by agents, other apps, etc.</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/issues/2159><div class="chatlog__markdown chatlog__markdown-preserve">Remove git dep from within &#183; Issue #2159 &#183; lancedb/lance</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Hey all! I am experimenting with using lancedb&#39;s crate for semantic search for the Zed editor. However, substrait has a dependency on git2 at build time that conflicts with our own linked copy ...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/xDgf7lA8ewFO56JLkTb0b1o0ujs1kK-vYTWkP94Ushw/https/opengraph.githubassets.com/aae683744ba5058998e7976a166b62f7de5ee026ae3d603f11c1045b2017fb52/lancedb/lance/issues/2159> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/xDgf7lA8ewFO56JLkTb0b1o0ujs1kK-vYTWkP94Ushw/https/opengraph.githubassets.com/aae683744ba5058998e7976a166b62f7de5ee026ae3d603f11c1045b2017fb52/lancedb/lance/issues/2159 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1225990932277497902 class=chatlog__message-container data-message-id=1225990932277497902><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, April 5, 2024 10:10â€¯PM"> <a href=#chatlog__message-container-1225990932277497902>4/5/2024 10:10â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1226205209957630002 class=chatlog__message-container data-message-id=1226205209957630002><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/5.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=cr1688 data-user-id=972108768865296434>CR</span> <span class=chatlog__timestamp title="Saturday, April 6, 2024 12:21â€¯PM"><a href=#chatlog__message-container-1226205209957630002>4/6/2024 12:21â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is there any working example to save the record batch into LanceDB for reference? I&#39;ve tried out <a href="https://github.com/lancedb/lancedb/blob/main/rust/lancedb/examples/simple.rs">https://github.com/lancedb/lancedb/blob/main/rust/lancedb/examples/simple.rs</a> but it doesn&#39;t work</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/blob/main/rust/lancedb/examples/simple.rs><div class="chatlog__markdown chatlog__markdown-preserve">lancedb/rust/lancedb/examples/simple.rs at main &#183; lancedb/lancedb</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Developer-friendly, serverless vector database for AI applications. Easily add long-term memory to your LLM apps! - lancedb/lancedb</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/PeUZkDgUWgMAfx3IfUVQelsL7QCEEVKKm5j-E0jz_XQ/https/opengraph.githubassets.com/9eb4093d4f7879f5c3e4311399a4cfc82f53b564971252b118e59c24a993c70b/lancedb/lancedb> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/PeUZkDgUWgMAfx3IfUVQelsL7QCEEVKKm5j-E0jz_XQ/https/opengraph.githubassets.com/9eb4093d4f7879f5c3e4311399a4cfc82f53b564971252b118e59c24a993c70b/lancedb/lancedb alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div><div id=chatlog__message-container-1226205901610946693 class=chatlog__message-container data-message-id=1226205901610946693><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, April 6, 2024 12:24â€¯PM">12:24â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>A similar question has been found here <a href="https://github.com/lancedb/lancedb/issues/1153">https://github.com/lancedb/lancedb/issues/1153</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/issues/1153><div class="chatlog__markdown chatlog__markdown-preserve">examples/simple.rs rust example uses unreleased code &#183; Issue #1153 ...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Description In examples/simple.rs it has the following code: use lancedb::arrow::IntoArrow; ... fn create_some_records() -&gt; Result&lt;impl IntoArrow&gt; { ... } but on the latest release lancedb...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/ObnZt1DzA65ZtLvQZnD1MUpr3C_oThR6pQkMi2AuzHw/https/opengraph.githubassets.com/aa5d12f1451cb47adf04ae50acd38424fbddf0e532151facfdb3070b6ac787a0/lancedb/lancedb/issues/1153> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/ObnZt1DzA65ZtLvQZnD1MUpr3C_oThR6pQkMi2AuzHw/https/opengraph.githubassets.com/aa5d12f1451cb47adf04ae50acd38424fbddf0e532151facfdb3070b6ac787a0/lancedb/lancedb/issues/1153 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1226302157305675776 class=chatlog__message-container data-message-id=1226302157305675776><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/274377022287904769/a033a7cc0188a8b225a3ae189806187c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/5.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=cr1688>CR</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1226205209957630002')"> Is there any working example to save the record batch into LanceDB for reference? I&#39;ve tried out <a href="https://github.com/lancedb/lancedb/blob/main/rust/lancedb/examples/simple.rs">https://github.com/lancedb/lancedb/blob/main/rust/lancedb/examples/simple.rs</a> but it doesn&#39;t work </span></div></div><div class=chatlog__header><span class=chatlog__author title=shelbyjenkins data-user-id=274377022287904769>ShelbyAsA</span> <span class=chatlog__timestamp title="Saturday, April 6, 2024 6:46â€¯PM"><a href=#chatlog__message-container-1226302157305675776>4/6/2024 6:46â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>see here <a href="https://discord.com/channels/1030247538198061086/1197630564254101618/1225562250836971691" onclick="scrollToMessage(event, '1225562250836971691')">https://discord.com/channels/1030247538198061086/1197630564254101618/1225562250836971691</a></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1226540739253506089 class=chatlog__message-container data-message-id=1226540739253506089><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=navdeep710 data-user-id=1089838382982647819>navdeep107</span> <span class=chatlog__timestamp title="Sunday, April 7, 2024 10:35â€¯AM"><a href=#chatlog__message-container-1226540739253506089>4/7/2024 10:35â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello Fellow Rusticans!!,  need a help or direction with querying lancedb via duckdb but in rust

do i need to convert the data into arrow(recordbatchreader) and make it queryable via scan_arrow_ipc ? 
or is there a native way to call upon lance files ? any help or hint will be super helpful <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™"
    title="pray"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg"> <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™"
    title="pray"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg"></span> <span class=chatlog__edited-timestamp title="Sunday, April 7, 2024 10:35â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1226619513588682787 class=chatlog__message-container data-message-id=1226619513588682787><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Sunday, April 7, 2024 3:48â€¯PM"> <a href=#chatlog__message-container-1226619513588682787>4/7/2024 3:48â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1226904753188114565 class=chatlog__message-container data-message-id=1226904753188114565><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/381479142505316353/316f13e88cf0f3309eebc88e5a00cef4.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=.epicism. data-user-id=381479142505316353>.epicism.</span> <span class=chatlog__timestamp title="Monday, April 8, 2024 10:41â€¯AM"><a href=#chatlog__message-container-1226904753188114565>4/8/2024 10:41â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello, I want to ingest a time-series of strings and create an inverted index against it. My goal is that this is the first stage, then second stage would be extraction and ML activity. I was looking at if Lance can be the storage and indexing layer, but the IVF index appears to be more of a kNN search than a proper inverted index. I see in the python example you use the tantivy library, and there&#39;s chat around in the future modifying it for this type of purpose, but it&#39;s designed to more to be a document index over a dynamic index. Is there any thought in if you&#39;re thinking about implementing a LSM-tree style index, B+ in-memory tree or something else for full-text search indexing?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1226909669625298972 class=chatlog__message-container data-message-id=1226909669625298972><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, April 8, 2024 11:01â€¯AM"> <a href=#chatlog__message-container-1226909669625298972>4/8/2024 11:01â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1226976392470597673 class=chatlog__message-container data-message-id=1226976392470597673><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/5.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=cr1688 data-user-id=972108768865296434>CR</span> <span class=chatlog__timestamp title="Monday, April 8, 2024 3:26â€¯PM"><a href=#chatlog__message-container-1226976392470597673>4/8/2024 3:26â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>How could we use the overwrite mode for creating a table with LanceDB in Rust? Is there any example?</span> <span class=chatlog__edited-timestamp title="Monday, April 8, 2024 3:47â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1226998424814092409 class=chatlog__message-container data-message-id=1226998424814092409><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/5.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=cr1688>CR</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1226976392470597673')"> How could we use the overwrite mode for creating a table with LanceDB in Rust? Is there any example? </span> <span class=chatlog__reply-edited-timestamp title="Monday, April 8, 2024 3:47â€¯PM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Monday, April 8, 2024 4:53â€¯PM"><a href=#chatlog__message-container-1226998424814092409>4/8/2024 4:53â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Should be something like:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-rust">let table = conn
  .create_table(&quot;my_table&quot;, record_batch_iter)
  .mode(CreateTableMode::Overwrite)
  .execute()
  .await?;</code></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>3</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1228112132160098426 class=chatlog__message-container data-message-id=1228112132160098426><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Thursday, April 11, 2024 6:39â€¯PM"><a href=#chatlog__message-container-1228112132160098426>4/11/2024 6:39â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hey folks, how can I disable openssl transitive dependencies in lancedb crate?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1228114336451526766 class=chatlog__message-container data-message-id=1228114336451526766><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Thursday, April 11, 2024 6:47â€¯PM"><a href=#chatlog__message-container-1228114336451526766>4/11/2024 6:47â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>default_features=false did the trick, would recommend making sure the dependencies lancedb brings in have a way to turn off openssl</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1228305510759927950 class=chatlog__message-container data-message-id=1228305510759927950><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, April 12, 2024 7:27â€¯AM"> <a href=#chatlog__message-container-1228305510759927950>4/12/2024 7:27â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1230028496680648745 class=chatlog__message-container data-message-id=1230028496680648745><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/5.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=cr1688 data-user-id=972108768865296434>CR</span> <span class=chatlog__timestamp title="Wednesday, April 17, 2024 1:34â€¯AM"><a href=#chatlog__message-container-1230028496680648745>4/17/2024 1:34â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I read that the full-text search for Rust is not yet ready, so I would like to seek for opinions is this the right way to obtain the output from the data we have stored in LanceDB? Accessing the Arrow&#39;s array manually in the record batch seems not straight forward. <code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">async fn read_file_metadata_from_lancedb(table_name: &amp;str) -&gt; Result&lt;Value&gt; {
  let uri = &quot;data/sample-lancedb&quot;;
  let db = connect(uri).execute().await?;
  let tbl = db.open_table(table_name).execute().await?;
  let stream = tbl.query().execute().await?;
  let batches: Vec&lt;RecordBatch&gt; = stream.try_collect().await?;
  let mut output_json = json!({});
  if let Some(batches) = batches.get(0) {
    let file_name = batches.column(0).as_any().downcast_ref::&lt;StringArray&gt;().context(&quot;Failed to downcast column to StringArray&quot;)?.value(0).to_string();
    let file_size = batches.column(1).as_any().downcast_ref::&lt;UInt64Array&gt;().context(&quot;Failed to downcast column to UInt64Array&quot;)?.value(0);
    let file_uploaded_timestamp = batches.column(2).as_any().downcast_ref::&lt;StringArray&gt;().context(&quot;Failed to downcast column to StringArray&quot;)?.value(0).to_string();
    // Other metadata
    output_json = json!({
      &quot;file_name&quot;: file_name,
      &quot;file_size&quot;: file_size,
      &quot;file_uploaded_timestamp&quot;: file_uploaded_timestamp,
      // Other metadata
    });
  }
  Ok(output_json)
}</code></span> <span class=chatlog__edited-timestamp title="Wednesday, April 17, 2024 1:38â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1230119294969450574 class=chatlog__message-container data-message-id=1230119294969450574><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, April 17, 2024 7:34â€¯AM"> <a href=#chatlog__message-container-1230119294969450574>4/17/2024 7:34â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1231955869684731925 class=chatlog__message-container data-message-id=1231955869684731925><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/381479142505316353/316f13e88cf0f3309eebc88e5a00cef4.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=.epicism. data-user-id=381479142505316353>.epicism.</span> <span class=chatlog__timestamp title="Monday, April 22, 2024 9:12â€¯AM"><a href=#chatlog__message-container-1231955869684731925>4/22/2024 9:12â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Heyo, I&#39;m learning how to build on the Lance for a time-series application and I have some questions.  Can I:
1. Partition data by a column, for example, date
2. Save the newest data local and then offset it to cloud object storage like S3 for fast query time? 
3. Can I have local data stores for distributed collection and then upload + combine to an object store?
I&#39;m using the Rust library alone. Thanks!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1233440970167554159 class=chatlog__message-container data-message-id=1233440970167554159><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Friday, April 26, 2024 11:34â€¯AM"><a href=#chatlog__message-container-1233440970167554159>4/26/2024 11:34â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey guys, I have a question, semi related to the rust client. How do you guys normalize the cosine similarity results? We are normalizing the image and text embedding features from CLIP but after doing the similatity search, the result is still &gt;  1</span></div></div></div></div><div id=chatlog__message-container-1233441087549603851 class=chatlog__message-container data-message-id=1233441087549603851><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, April 26, 2024 11:34â€¯AM">11:34â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">similarity = (100.0 * image_features @ text_features.T).softmax(dim=-1)
values, indices = similarity[0].topk(5)</code></span></div></div></div></div><div id=chatlog__message-container-1233441317627887626 class=chatlog__message-container data-message-id=1233441317627887626><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, April 26, 2024 11:35â€¯AM">11:35â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>This is from the README of CLIP, do we need to do something like this on our end after we get the result from Lance? I was looking at the clip examples on Lance&#39;s website and they seem to not have any post processing after the similarity search</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1233472029806559237 class=chatlog__message-container data-message-id=1233472029806559237><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, April 26, 2024 1:37â€¯PM"> <a href=#chatlog__message-container-1233472029806559237>4/26/2024 1:37â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1236765649162735666 class=chatlog__message-container data-message-id=1236765649162735666><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/274377022287904769/a033a7cc0188a8b225a3ae189806187c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=shelbyjenkins data-user-id=274377022287904769>ShelbyAsA</span> <span class=chatlog__timestamp title="Sunday, May 5, 2024 3:45â€¯PM"><a href=#chatlog__message-container-1236765649162735666>5/5/2024 3:45â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Can someone validate my implementation of datetime?

creating the field
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">        Field::new(
            DATE_FIELD_NAME,
            DataType::Timestamp(Microsecond, Some(&quot;+0000&quot;.into())),
            false,
        ),</code>

inserting
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">let dates_vector: Vec&lt;i64&gt; = dates.iter().map(|e| e.timestamp_micros()).collect();
...
Arc::new(TimestampMicrosecondArray::from(dates_vector).with_timezone(&quot;+0000&quot;)),</code>

filtering
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">    fn format_date(date: &amp;DateTime&lt;FixedOffset&gt;) -&gt; String {
            format!(&quot;cast(&#39;{date}&#39; as timestamp)&quot;)
        }

...

        let date_filter = format!(
                    &quot;{DATE_FIELD_NAME} &gt;= {} AND {DATE_FIELD_NAME} &lt;= {}&quot;,
                    format_date(start_date),
                    format_date(end_date),
                );
                builder.only_if(date_filter)</code>

My tests work, but it feels brittle. I guess my main concern is if it registers the correct UTC timezone. On insert and querying I&#39;m using UTC.

Also, if this is all correct, I&#39;d be happy to document this somewhere, because man it took me hours to figure this out. I thought I was learning lance, but I&#39;m really learning arrow <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ«¡"
    title="ðŸ«¡"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1fae1.svg"></span> <span class=chatlog__edited-timestamp title="Sunday, May 5, 2024 3:49â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1236767913722122341 class=chatlog__message-container data-message-id=1236767913722122341><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/274377022287904769/a033a7cc0188a8b225a3ae189806187c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=shelbyjenkins data-user-id=274377022287904769>ShelbyAsA</span> <span class=chatlog__timestamp title="Sunday, May 5, 2024 3:54â€¯PM"><a href=#chatlog__message-container-1236767913722122341>5/5/2024 3:54â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Also, while I&#39;m here

I shared this function a few weeks back for extracting search results. I cleaned it up, but I have one question about it.
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">async fn values_from_search(
    mut stream: Pin&lt;Box&lt;dyn RecordBatchStream + Send&gt;&gt;,
) -&gt; Result&lt;Vec&lt;SemanticSearchResult&gt;&gt; {
    let mut output = Vec::new();
    loop {
        let record_batch = match stream.try_next().await {
            Ok(record_batch_option) =&gt; match record_batch_option {
                Some(record_batch) =&gt; record_batch,
                None =&gt; break,
            },
            Err(e) =&gt; return Err(anyhow::Error::new(e)),
        };
        let id_array: &amp;[i32] = get_id_array(&amp;record_batch);
        let dist_array: &amp;[f32] = get_dist_array(&amp;record_batch);

        for (i, id) in id_array.iter().enumerate() {
            let vector_result = SemanticSearchResult {
                id: *id,
                vector: get_vector_array(&amp;record_batch, i),
                distance: dist_array[i],
            };
            output.push(vector_result);
        }
    }
    Ok(output)
}</code>

for the vector values, I&#39;m having too clone them vs referencing them like I do with the others.

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">// Needs to be rewritten to not clone the values with to_vec()
fn get_vector_array(record_batch: &amp;RecordBatch, i: usize) -&gt; Vec&lt;f32&gt; {
    record_batch
        .column_by_name(&quot;vector&quot;)
        .expect(&quot;Column &#39;vector&#39; not found&quot;)
        .as_any()
        .downcast_ref::&lt;FixedSizeListArray&gt;()
        .expect(&quot;Column &#39;vector&#39; is not of type FixedSizeListArray&quot;)
        .value(i)
        .as_any()
        .downcast_ref::&lt;Float32Array&gt;()
        .expect(&quot;Column &#39;vector&#39; is not of type Float32Array&quot;)
        .values()
        .to_vec()
}</code>
That&#39;s inefficient right? Could I write this function to return &amp;[&amp;[f32]]? I haven&#39;t been able to figure it out.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1237011361771425852 class=chatlog__message-container data-message-id=1237011361771425852><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/274377022287904769/a033a7cc0188a8b225a3ae189806187c.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=shelbyjenkins>ShelbyAsA</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1236767913722122341')"> Also, while I&#39;m here

I shared this function a few weeks back for extracting search results. I cleaned it up, but I have one question about it.
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">async fn values_from_search(
    mut stream: Pin&lt;Box&lt;dyn RecordBatchStream + Send&gt;&gt;,
) -&gt; Result&lt;Vec&lt;SemanticSearchResult&gt;&gt; {
    let mut output = Vec::new();
    loop {
        let record_batch = match stream.try_next().await {
            Ok(record_batch_option) =&gt; match record_batch_option {
                Some(record_batch) =&gt; record_batch,
                None =&gt; break,
            },
            Err(e) =&gt; return Err(anyhow::Error::new(e)),
        };
        let id_array: &amp;[i32] = get_id_array(&amp;record_batch);
        let dist_array: &amp;[f32] = get_dist_array(&amp;record_batch);

        for (i, id) in id_array.iter().enumerate() {
            let vector_result = SemanticSearchResult {
                id: *id,
                vector: get_vector_array(&amp;record_batch, i),
                distance: dist_array[i],
            };
            output.push(vector_result);
        }
    }
    Ok(output)
}</code>

for the vector values, I&#39;m having too clone them vs referencing them like I do with the others.

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">// Needs to be rewritten to not clone the values with to_vec()
fn get_vector_array(record_batch: &amp;RecordBatch, i: usize) -&gt; Vec&lt;f32&gt; {
    record_batch
        .column_by_name(&quot;vector&quot;)
        .expect(&quot;Column &#39;vector&#39; not found&quot;)
        .as_any()
        .downcast_ref::&lt;FixedSizeListArray&gt;()
        .expect(&quot;Column &#39;vector&#39; is not of type FixedSizeListArray&quot;)
        .value(i)
        .as_any()
        .downcast_ref::&lt;Float32Array&gt;()
        .expect(&quot;Column &#39;vector&#39; is not of type Float32Array&quot;)
        .values()
        .to_vec()
}</code>
That&#39;s inefficient right? Could I write this function to return &amp;[&amp;[f32]]? I haven&#39;t been able to figure it out. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Monday, May 6, 2024 8:01â€¯AM"><a href=#chatlog__message-container-1237011361771425852>5/6/2024 8:01â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">My tests work, but it feels brittle. I guess my main concern is if it registers the correct UTC timezone. On insert and querying I&#39;m using UTC.
</div></div>
The timestamp values (e.g. the numbers) should always be in UTC, so this is good.

<div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">DataType::Timestamp(Microsecond, Some(&quot;+0000&quot;.into()))
</div></div>
If you are storing UTC then it would be more conventional to use <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">None</code> instead of <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Some(&quot;+0000&quot;.into())</code>

That being said, there are only a few places where the time zone part of the data type is used at all.  This would be in functions like <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">to_char</code> or <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">extract</code>  So if you aren&#39;t using those functions it probably doesn&#39;t matter too much what you use for the time zone.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1237013617082105856 class=chatlog__message-container data-message-id=1237013617082105856><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Monday, May 6, 2024 8:10â€¯AM"><a href=#chatlog__message-container-1237013617082105856>5/6/2024 8:10â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">That&#39;s inefficient right? Could I write this function to return &amp;[&amp;[f32]]? I haven&#39;t been able to figure it out.
</div></div>
Yes, what you have is inefficient.  You could either return <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Vec&lt;Float32Array&gt;</code> (which propagates Arrow into your code base) or <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">&amp;[&amp;[f32]]</code> should be possible.  <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Float32Array.values</code> returns <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">ScalarBuffer&lt;f32&gt;</code> and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">ScalarBuffer&lt;f32&gt;</code> implements <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Deref&lt;[f32]&gt;</code> so you can do <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">.values().deref()</code> and you will get <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">&amp;[f32]</code>.</span></div></div></div></div><div id=chatlog__message-container-1237015114889297952 class=chatlog__message-container data-message-id=1237015114889297952><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Monday, May 6, 2024 8:16â€¯AM">8:16â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">Also, if this is all correct, I&#39;d be happy to document this somewhere, because man it took me hours to figure this out. I thought I was learning lance, but I&#39;m really learning arrow <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ«¡"
    title="ðŸ«¡"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1fae1.svg"> 
</div></div>
We would definitely welcome a PR to improve the docs, e.g. to provide some basic examples on extracting values out of Arrow arrays.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1237055329456619631 class=chatlog__message-container data-message-id=1237055329456619631><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/5.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=cr1688 data-user-id=972108768865296434>CR</span> <span class=chatlog__timestamp title="Monday, May 6, 2024 10:56â€¯AM"><a href=#chatlog__message-container-1237055329456619631>5/6/2024 10:56â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, is LanceDB in Rust capable of storing images at this stage?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1237058252332732549 class=chatlog__message-container data-message-id=1237058252332732549><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/274377022287904769/a033a7cc0188a8b225a3ae189806187c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wpace>WestonPace</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1237011361771425852')"> <div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">My tests work, but it feels brittle. I guess my main concern is if it registers the correct UTC timezone. On insert and querying I&#39;m using UTC.
</div></div>
The timestamp values (e.g. the numbers) should always be in UTC, so this is good.

<div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">DataType::Timestamp(Microsecond, Some(&quot;+0000&quot;.into()))
</div></div>
If you are storing UTC then it would be more conventional to use <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">None</code> instead of <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Some(&quot;+0000&quot;.into())</code>

That being said, there are only a few places where the time zone part of the data type is used at all.  This would be in functions like <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">to_char</code> or <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">extract</code>  So if you aren&#39;t using those functions it probably doesn&#39;t matter too much what you use for the time zone. </span></div></div><div class=chatlog__header><span class=chatlog__author title=shelbyjenkins data-user-id=274377022287904769>ShelbyAsA</span> <span class=chatlog__timestamp title="Monday, May 6, 2024 11:07â€¯AM"><a href=#chatlog__message-container-1237058252332732549>5/6/2024 11:07â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Ok, that&#39;s good to know. I read this in the arrow documentation, and assumed I needed the timestamp to filter.

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">    /// One consequence is that timestamp values without a timezone cannot
    /// be reliably compared or ordered, since they may have different points of
    /// reference.  In particular, it is *not* possible to interpret an unset
    /// or empty timezone as the same as &quot;UTC&quot;.</code>
<a href="https://docs.rs/arrow/latest/arrow/datatypes/enum.DataType.html#variant.Timestamp">https://docs.rs/arrow/latest/arrow/datatypes/enum.DataType.html#variant.Timestamp</a>

It works as you said with &quot;None&quot;.</span> <span class=chatlog__edited-timestamp title="Monday, May 6, 2024 11:15â€¯AM">(edited)</span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://docs.rs/arrow/latest/arrow/datatypes/enum.DataType.html><div class="chatlog__markdown chatlog__markdown-preserve">DataType in arrow::datatypes - Rust</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">The set of datatypes that are supported by this implementation of Apache Arrow.</div></div></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1237062612349489272 class=chatlog__message-container data-message-id=1237062612349489272><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/274377022287904769/a033a7cc0188a8b225a3ae189806187c.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=shelbyjenkins>ShelbyAsA</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1237058252332732549')"> Ok, that&#39;s good to know. I read this in the arrow documentation, and assumed I needed the timestamp to filter.

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">    /// One consequence is that timestamp values without a timezone cannot
    /// be reliably compared or ordered, since they may have different points of
    /// reference.  In particular, it is *not* possible to interpret an unset
    /// or empty timezone as the same as &quot;UTC&quot;.</code>
<a href="https://docs.rs/arrow/latest/arrow/datatypes/enum.DataType.html#variant.Timestamp">https://docs.rs/arrow/latest/arrow/datatypes/enum.DataType.html#variant.Timestamp</a>

It works as you said with &quot;None&quot;. </span> <span class=chatlog__reply-edited-timestamp title="Monday, May 6, 2024 11:15â€¯AM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Monday, May 6, 2024 11:25â€¯AM"><a href=#chatlog__message-container-1237062612349489272>5/6/2024 11:25â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Actually, reading that, I think you were right before, but use <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Some(&quot;UTC&quot;.to_string())</code> and not <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">None</code>.  Very sorry.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div><div id=chatlog__message-container-1237063200634048623 class=chatlog__message-container data-message-id=1237063200634048623><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Monday, May 6, 2024 11:27â€¯AM">11:27â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I messed up in my earlier statement (somehow timestamps always managed to get me confused).  Using <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">None</code> is saying &quot;This timestamp represents a calendar time not tied to any particular instant or time zone&quot; which is not the case if you&#39;re converting UTC timestamps.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1237107109049401446 class=chatlog__message-container data-message-id=1237107109049401446><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/274377022287904769/a033a7cc0188a8b225a3ae189806187c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wpace>WestonPace</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1237013617082105856')"> <div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">That&#39;s inefficient right? Could I write this function to return &amp;[&amp;[f32]]? I haven&#39;t been able to figure it out.
</div></div>
Yes, what you have is inefficient.  You could either return <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Vec&lt;Float32Array&gt;</code> (which propagates Arrow into your code base) or <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">&amp;[&amp;[f32]]</code> should be possible.  <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Float32Array.values</code> returns <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">ScalarBuffer&lt;f32&gt;</code> and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">ScalarBuffer&lt;f32&gt;</code> implements <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Deref&lt;[f32]&gt;</code> so you can do <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">.values().deref()</code> and you will get <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">&amp;[f32]</code>. </span></div></div><div class=chatlog__header><span class=chatlog__author title=shelbyjenkins data-user-id=274377022287904769>ShelbyAsA</span> <span class=chatlog__timestamp title="Monday, May 6, 2024 2:21â€¯PM"><a href=#chatlog__message-container-1237107109049401446>5/6/2024 2:21â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;ve spent a few hours on this, and I&#39;m not sure there is a way to handle this with the imports given.

The goal should be to transfer ownership of the underlying results without cloning or copying. So query -&gt; recordbatch -&gt; vector column -&gt; Vec&lt;Vec&lt;f32&gt;&gt; -&gt; Vec&lt;f32&gt;

I read through all of the arrow code for arrays and buffers, and they don&#39;t present a way to do this. Buffer has into_vec() which would work, but the only way to access the buffers creates a &amp;[Buffer].</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1237108692583976991 class=chatlog__message-container data-message-id=1237108692583976991><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/274377022287904769/a033a7cc0188a8b225a3ae189806187c.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=shelbyjenkins>ShelbyAsA</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1237107109049401446')"> I&#39;ve spent a few hours on this, and I&#39;m not sure there is a way to handle this with the imports given.

The goal should be to transfer ownership of the underlying results without cloning or copying. So query -&gt; recordbatch -&gt; vector column -&gt; Vec&lt;Vec&lt;f32&gt;&gt; -&gt; Vec&lt;f32&gt;

I read through all of the arrow code for arrays and buffers, and they don&#39;t present a way to do this. Buffer has into_vec() which would work, but the only way to access the buffers creates a &amp;[Buffer]. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Monday, May 6, 2024 2:28â€¯PM"><a href=#chatlog__message-container-1237108692583976991>5/6/2024 2:28â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>If the goal is to get <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Vec&lt;Vec&lt;f32&gt;&gt;</code> or <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Vec&lt;f32&gt;</code> then I agree a copy is required.  If the goal is to get <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Vec&lt;&amp;[f32]&gt;</code> or <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">&amp;[&amp;[f32]]</code> then I don&#39;t think you need a copy.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div><div id=chatlog__message-container-1237109013271937032 class=chatlog__message-container data-message-id=1237109013271937032><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Monday, May 6, 2024 2:29â€¯PM">2:29â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>This is because Arrow arrays / buffers / batches are cheaply cloneable, and every clone may be referencing the same underlying data buffers.  So there is no safe way to assume any given array / buffer is the sole owner of the underlying data.</span></div></div></div></div><div id=chatlog__message-container-1237110012858466345 class=chatlog__message-container data-message-id=1237110012858466345><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Monday, May 6, 2024 2:33â€¯PM">2:33â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Here is one concrete example.  If a batch size is given on a scan (e.g. batch size 100) and the underlying files are stored with a larger batch size (e.g. batch size 1000) then the first 10 batches will all be referencing the same underlying data buffers.  So there would be no sole owner that can safely call <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">into_vec</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1240367626782245005 class=chatlog__message-container data-message-id=1240367626782245005><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/398313083887550485/63f0f14bd0bafc2c7589712c3ab75429.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=conor4897 data-user-id=398313083887550485>conor4897</span> <span class=chatlog__timestamp title="Wednesday, May 15, 2024 2:18â€¯PM"><a href=#chatlog__message-container-1240367626782245005>5/15/2024 2:18â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey all, I am trying to convert a table to a polars dataframe. I assumed this would be as simple as using <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">SendableRecordBatchStream</code> and calling <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">into_polars</code> on it. However when I attempt this, I receive the following error: 
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">called `Result::unwrap()` on an `Err` value: Other { message: &quot;Error in Polars DataFrame integration.&quot;, source: Some(ComputeError(ErrString(&quot;offsets must not exceed the values length&quot;))) }</code> 
The conversion into a polars dataframe works in the python implementation but not in rust. I believe that this may be due to an invalid pointer being returned from a query call, however I am not sure. Still learning rust so could be a user error but any help is appreciated. Here is a screenshot of the code:</span> <span class=chatlog__edited-timestamp title="Wednesday, May 15, 2024 2:24â€¯PM">(edited)</span></div><div class=chatlog__attachment><a href="https://cdn.discordapp.com/attachments/1197630564254101618/1240367626585374830/image.png?ex=697ba45f&amp;is=697a52df&amp;hm=09633d6e5c3618abdd7e932e8ab56c7f0528123f3fe611dfcbf15902aad20943&amp;"> <img class=chatlog__attachment-media src="https://cdn.discordapp.com/attachments/1197630564254101618/1240367626585374830/image.png?ex=697ba45f&amp;is=697a52df&amp;hm=09633d6e5c3618abdd7e932e8ab56c7f0528123f3fe611dfcbf15902aad20943&amp;" alt="Image attachment" title="Image: image.png (52.86 KB)" loading=lazy> </a></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1240381207339077687 class=chatlog__message-container data-message-id=1240381207339077687><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, May 15, 2024 3:12â€¯PM"> <a href=#chatlog__message-container-1240381207339077687>5/15/2024 3:12â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1242995596072321266 class=chatlog__message-container data-message-id=1242995596072321266><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/720869485317193772/0a2335319dc3b1cd7d58392f93685b2a.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=samcreator data-user-id=720869485317193772>Sam Keen</span> <span class=chatlog__timestamp title="Wednesday, May 22, 2024 8:20â€¯PM"><a href=#chatlog__message-container-1242995596072321266>5/22/2024 8:20â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hey folks, I&#39;ve created a thin wrapper around LanceDb and FastEmbed.rs; <a href="https://crates.io/crates/vec-embed-store">https://crates.io/crates/vec-embed-store</a>
I&#39;m new-ish to Rust (and arrow), so any feedback is greatly appreciated.  The lib is currently functional and I am using this lib in one of projects so if you are also new to Rust and LanceDB, my hope is you can find it as a reference point for your own builds.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=fire><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ”¥ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg loading=lazy> <span class=chatlog__reaction-count>5</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1244720802247737355 class=chatlog__message-container data-message-id=1244720802247737355><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/599052005088034844/8ad81138d0f58c34c6de9f16185886a0.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=verilyveritas data-user-id=599052005088034844>veritas</span> <span class=chatlog__timestamp title="Monday, May 27, 2024 2:36â€¯PM"><a href=#chatlog__message-container-1244720802247737355>5/27/2024 2:36â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Are there plans for full text search in Rust, maybe with tantivy?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1244822729375617160 class=chatlog__message-container data-message-id=1244822729375617160><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, May 27, 2024 9:21â€¯PM"> <a href=#chatlog__message-container-1244822729375617160>5/27/2024 9:21â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1246008074599403552 class=chatlog__message-container data-message-id=1246008074599403552><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/5.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=cr1688 data-user-id=972108768865296434>CR</span> <span class=chatlog__timestamp title="Friday, May 31, 2024 3:51â€¯AM"><a href=#chatlog__message-container-1246008074599403552>5/31/2024 3:51â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, is there any multi-modal embedding function example in Rust? There seems a feature that we do not need to define the embedding function, how we also could do this with LanceDB in Rust?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1246108138260791386 class=chatlog__message-container data-message-id=1246108138260791386><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Friday, May 31, 2024 10:28â€¯AM"><a href=#chatlog__message-container-1246108138260791386>5/31/2024 10:28â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="universalmind303">@universalmind303</span> is just adding the embedding registry to rust now. Weâ€™re starting with just OpenAI and then work our way to HF embedding models which will have CLIP .</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1246109430567927869 class=chatlog__message-container data-message-id=1246109430567927869><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=universalmind303 data-user-id=674379435058921472>universalmind303</span> <span class=chatlog__timestamp title="Friday, May 31, 2024 10:33â€¯AM"><a href=#chatlog__message-container-1246109430567927869>5/31/2024 10:33â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>The OpenAI one just landed yesterday! 

full example here! 
<a href="https://github.com/lancedb/lancedb/blob/main/rust/lancedb/examples/openai.rs#L15">https://github.com/lancedb/lancedb/blob/main/rust/lancedb/examples/openai.rs#L15</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/blob/main/rust/lancedb/examples/openai.rs><div class="chatlog__markdown chatlog__markdown-preserve">lancedb/rust/lancedb/examples/openai.rs at main &#183; lancedb/lancedb</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Developer-friendly, serverless vector database for AI applications. Easily add long-term memory to your LLM apps! - lancedb/lancedb</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/22t5ZWcRtgcWOfE8hzXjImAr0JN-6ljFx0fAB_KnU80/https/opengraph.githubassets.com/a0d5c65b4a0cf9357675a880e2f681e565f8a8cd0c617a0a6f5d75c72a57cd7f/lancedb/lancedb> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/22t5ZWcRtgcWOfE8hzXjImAr0JN-6ljFx0fAB_KnU80/https/opengraph.githubassets.com/a0d5c65b4a0cf9357675a880e2f681e565f8a8cd0c617a0a6f5d75c72a57cd7f/lancedb/lancedb alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1246109822542282842 class=chatlog__message-container data-message-id=1246109822542282842><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Friday, May 31, 2024 10:35â€¯AM"><a href=#chatlog__message-container-1246109822542282842>5/31/2024 10:35â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="cr1688">@CR</span> is OpenAI sufficient? Or you need like CLIP from HuggingFace or smth?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1246115549398958111 class=chatlog__message-container data-message-id=1246115549398958111><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/5.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=cr1688 data-user-id=972108768865296434>CR</span> <span class=chatlog__timestamp title="Friday, May 31, 2024 10:58â€¯AM"><a href=#chatlog__message-container-1246115549398958111>5/31/2024 10:58â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>It seems there are some new things on lancedb::embeddings not yet available in LanceDB 0.5.1 right? I think an example with hugging face will be useful <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1246115682836283536 class=chatlog__message-container data-message-id=1246115682836283536><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/5.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1246109822542282842')"> <span class="chatlog__markdown-mention" title="cr1688">@CR</span> is OpenAI sufficient? Or you need like CLIP from HuggingFace or smth? </span></div></div><div class=chatlog__header><span class=chatlog__author title=cr1688 data-user-id=972108768865296434>CR</span> <span class=chatlog__timestamp title="Friday, May 31, 2024 10:58â€¯AM"><a href=#chatlog__message-container-1246115682836283536>5/31/2024 10:58â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Thanks for the help! Yes <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ‘"
    title="thumbsup"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg">, let me go through it <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1246119474650943570 class=chatlog__message-container data-message-id=1246119474650943570><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, May 31, 2024 11:13â€¯AM"> <a href=#chatlog__message-container-1246119474650943570>5/31/2024 11:13â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248374768886087831 class=chatlog__message-container data-message-id=1248374768886087831><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Thursday, June 6, 2024 4:35â€¯PM"><a href=#chatlog__message-container-1248374768886087831>6/6/2024 4:35â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey guys, is there an easy way to convert JSON to Arrow Structs and write queries that matches attribute name and values of structs in Lance?</span> <span class=chatlog__edited-timestamp title="Thursday, June 6, 2024 4:37â€¯PM">(edited)</span></div></div></div></div><div id=chatlog__message-container-1248374894693978143 class=chatlog__message-container data-message-id=1248374894693978143><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, June 6, 2024 4:36â€¯PM">4:36â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We have a bunch of code which expands JSON into columns in Indexify, it works but every time I touch the code it feels way too complicated <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ˜„"
    title="smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f604.svg"></span></div></div></div></div><div id=chatlog__message-container-1248375001577689272 class=chatlog__message-container data-message-id=1248375001577689272><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, June 6, 2024 4:36â€¯PM">4:36â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Also, if someone adds a new node which adds new attributes to a JSON struct, we have to use an UDF to update the schema of the table</span> <span class=chatlog__edited-timestamp title="Thursday, June 6, 2024 4:37â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248380507075645440 class=chatlog__message-container data-message-id=1248380507075645440><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=kafonek data-user-id=267153215185879050>kafonek</span> <span class=chatlog__timestamp title="Thursday, June 6, 2024 4:58â€¯PM"><a href=#chatlog__message-container-1248380507075645440>6/6/2024 4:58â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="diptanuc">@diptanuc</span> someone over in the Burn discord flagged <a href="https://docs.rs/serde_arrow/latest/serde_arrow/">https://docs.rs/serde_arrow/latest/serde_arrow/</a> to me when I was asking a similar question about Arrow to Burn tensors. Think that might fit?</span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href="https://docs.rs/serde_arrow/latest/serde_arrow/"><div class="chatlog__markdown chatlog__markdown-preserve">serde_arrow - Rust</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve"><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">serde_arrow</code> - convert sequences Rust objects to / from arrow arrays</div></div></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup_tone4><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ðŸ¾ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d-1f3fe.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248415736620388433 class=chatlog__message-container data-message-id=1248415736620388433><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/173506311651196928/23fdf8ea6da85ec56d4ff4d0aaebac32.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=antblo data-user-id=173506311651196928>AntBlo</span> <span class=chatlog__timestamp title="Thursday, June 6, 2024 7:18â€¯PM"><a href=#chatlog__message-container-1248415736620388433>6/6/2024 7:18â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Small world, huh~?</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=heart><img class="chatlog__emoji chatlog__emoji--small" alt=â¤ï¸ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/2764.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div><div id=chatlog__message-container-1248416961457815604 class=chatlog__message-container data-message-id=1248416961457815604><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, June 6, 2024 7:23â€¯PM">7:23â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>To be perfectly honest, I found it mentioned in lancedb xD
<a href="https://github.com/lancedb/lancedb/issues/1101">https://github.com/lancedb/lancedb/issues/1101</a></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=joy><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ˜‚ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f602.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248420479107338300 class=chatlog__message-container data-message-id=1248420479107338300><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=kafonek data-user-id=267153215185879050>kafonek</span> <span class=chatlog__timestamp title="Thursday, June 6, 2024 7:37â€¯PM"><a href=#chatlog__message-container-1248420479107338300>6/6/2024 7:37â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>( <span class="chatlog__markdown-mention" title="antblo">@AntBlo</span> did you just join this server a few hours ago and this question / repeat of your answer happened? That is a totally wild coincidence)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248431768915152896 class=chatlog__message-container data-message-id=1248431768915152896><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/173506311651196928/23fdf8ea6da85ec56d4ff4d0aaebac32.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=antblo data-user-id=173506311651196928>AntBlo</span> <span class=chatlog__timestamp title="Thursday, June 6, 2024 8:22â€¯PM"><a href=#chatlog__message-container-1248431768915152896>6/6/2024 8:22â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yeah, I had an unrelated question about pyarrow.lib that Will answered for me. Apparently cython doesn&#39;t give you type hints, so there&#39;s no auto-completion for Table and BatchRecord (used by lance)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248470825762553879 class=chatlog__message-container data-message-id=1248470825762553879><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, June 6, 2024 10:57â€¯PM"><a href=#chatlog__message-container-1248470825762553879>6/6/2024 10:57â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="diptanuc">@diptanuc</span> are you converting the JSON into queries?  Or are you storing JSON records and wanting to query them?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248471049276882956 class=chatlog__message-container data-message-id=1248471049276882956><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wpace>WestonPace</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1248470825762553879')"> <span class="chatlog__markdown-mention" title="diptanuc">@diptanuc</span> are you converting the JSON into queries?  Or are you storing JSON records and wanting to query them? </span></div></div><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Thursday, June 6, 2024 10:58â€¯PM"><a href=#chatlog__message-container-1248471049276882956>6/6/2024 10:58â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Want to store json and query them</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1248475255278800991 class=chatlog__message-container data-message-id=1248475255278800991><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, June 6, 2024 11:14â€¯PM"> <a href=#chatlog__message-container-1248475255278800991>6/6/2024 11:14â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1250097270720958545 class=chatlog__message-container data-message-id=1250097270720958545><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/5.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=cr1688 data-user-id=972108768865296434>CR</span> <span class=chatlog__timestamp title="Tuesday, June 11, 2024 10:40â€¯AM"><a href=#chatlog__message-container-1250097270720958545>6/11/2024 10:40â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I have a question regarding how indexing works when setting up LanceDB with cloud storage. Specifically, does the indexing mechanism read all the data from the cloud to the local environment for computational indexing and then synchronize it back to the cloud? I encounter that the default timeout parameters are not sufficient if this is the case (retrieving/reading, indexing, and synchronizing back) no matter how I adjusted the number of vectors to be indexed. What are the best practices to manage this kinds of issue? Just extend the retry and timeout values? Here is the relevant code (I&#39;m using the object_store crate in configuring the GCS):
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">GoogleCloudStorageBuilder::new()
    .with_bucket_name(bucket)
    .with_service_account_path(std::env::var(&quot;GCS_CREDENTIALS&quot;)?)
    .with_retry(RetryConfig::default())
    .build()?;

let storage_url = format!(&quot;gs://{}&quot;, bucket);

let db = connect(storage_url)
    .execute()
    .await?;

// the rest are the open table, append batch, then indexing</code>
Additionally, the following is the error message:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">Error: lance error: LanceError(IO): Generic GCS error: Error after 0 retries in 30.001992009s, max_retries:10, retry_timeout:180s, source:error sending request for url (https://storage.googleapis.com/...): operation timed out, /.../.cargo/registry/src/index.crates.io-6f17d22bba15001f/lance-io-0.12.1/src/encodings/plain.rs:123:17</code></span></div></div></div></div><div id=chatlog__message-container-1250098336065781802 class=chatlog__message-container data-message-id=1250098336065781802><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, June 11, 2024 10:44â€¯AM">10:44â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Let me check again, I just noticed the error message shown 0 retries, something is not right. Apologize for the question.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1250143479871569955 class=chatlog__message-container data-message-id=1250143479871569955><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, June 11, 2024 1:43â€¯PM"> <a href=#chatlog__message-container-1250143479871569955>6/11/2024 1:43â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1252718001241722972 class=chatlog__message-container data-message-id=1252718001241722972><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Tuesday, June 18, 2024 4:14â€¯PM"><a href=#chatlog__message-container-1252718001241722972>6/18/2024 4:14â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey guys do you need liblzma2/xz2 to be installed in a system for lancedb to run?</span></div></div></div></div><div id=chatlog__message-container-1252718076789788744 class=chatlog__message-container data-message-id=1252718076789788744><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, June 18, 2024 4:14â€¯PM">4:14â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Somone just reported on mac the binary is crashing unless they install xz2</span></div></div></div></div><div id=chatlog__message-container-1252718117512020121 class=chatlog__message-container data-message-id=1252718117512020121><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, June 18, 2024 4:14â€¯PM">4:14â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I am wondering if the dependencies can be statically linked</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1252718306939506778 class=chatlog__message-container data-message-id=1252718306939506778><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=diptanuc>diptanuc</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1252718117512020121')"> I am wondering if the dependencies can be statically linked </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Tuesday, June 18, 2024 4:15â€¯PM"><a href=#chatlog__message-container-1252718306939506778>6/18/2024 4:15â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>They can! need to pass down a Rust feature flag: <a href="https://github.com/lancedb/lancedb/blob/e7022b990e395da10a54c958aa03613243d10a50/python/Cargo.toml#L23-L24">https://github.com/lancedb/lancedb/blob/e7022b990e395da10a54c958aa03613243d10a50/python/Cargo.toml#L23-L24</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/blob/e7022b990e395da10a54c958aa03613243d10a50/python/Cargo.toml><div class="chatlog__markdown chatlog__markdown-preserve">lancedb/python/Cargo.toml at e7022b990e395da10a54c958aa03613243d10a...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Developer-friendly, serverless vector database for AI applications. Easily add long-term memory to your LLM apps! - lancedb/lancedb</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/lzpbRaDVguglJKifaHLm7iyCr06AY2yS23bUKgc_P1Y/https/opengraph.githubassets.com/56acd33b69cf2945ac9858f901a5df71a25f9db7f7e623486a09c58ea4a6153b/lancedb/lancedb> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/lzpbRaDVguglJKifaHLm7iyCr06AY2yS23bUKgc_P1Y/https/opengraph.githubassets.com/56acd33b69cf2945ac9858f901a5df71a25f9db7f7e623486a09c58ea4a6153b/lancedb/lancedb alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1252728097040760904 class=chatlog__message-container data-message-id=1252728097040760904><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Tuesday, June 18, 2024 4:54â€¯PM"><a href=#chatlog__message-container-1252728097040760904>6/18/2024 4:54â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="wjones127">@Will Jones</span> Is it possible to expose this flag to the rust crate?</span></div></div></div></div><div id=chatlog__message-container-1252728168079429695 class=chatlog__message-container data-message-id=1252728168079429695><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, June 18, 2024 4:54â€¯PM">4:54â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>lzma-sys is a transitive dependency for us through lancedb</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1252731380085952633 class=chatlog__message-container data-message-id=1252731380085952633><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Tuesday, June 18, 2024 5:07â€¯PM"><a href=#chatlog__message-container-1252731380085952633>6/18/2024 5:07â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>By the way, we are using the rust crate in Indexify <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=fire><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ”¥ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg loading=lazy> <span class=chatlog__reaction-count>2</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1252746515869339728 class=chatlog__message-container data-message-id=1252746515869339728><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=diptanuc>diptanuc</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1252728097040760904')"> <span class="chatlog__markdown-mention" title="wjones127">@Will Jones</span> Is it possible to expose this flag to the rust crate? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Tuesday, June 18, 2024 6:07â€¯PM"><a href=#chatlog__message-container-1252746515869339728>6/18/2024 6:07â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We don&#39;t need to expose the flag. It&#39;s a transitive dependency for lancedb crate too. It comes from DataFusion not us. But by making the dependency explicit you can specify additional flags that should be merged in.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1252783720159641785 class=chatlog__message-container data-message-id=1252783720159641785><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Tuesday, June 18, 2024 8:35â€¯PM"><a href=#chatlog__message-container-1252783720159641785>6/18/2024 8:35â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Thanks <span class="chatlog__markdown-mention" title="wjones127">@Will Jones</span> Our issue is fixed, upgraded to new version of lancedb and arrow crates. Thanks <span class="chatlog__markdown-mention" title="wpace">@WestonPace</span> for helping â¤ï¸</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1252955499423338626 class=chatlog__message-container data-message-id=1252955499423338626><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1008493627930050650/9952e4d696f2b358c9bb1155b3b50956.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=dsgibbons data-user-id=1008493627930050650>dsgibbons</span> <span class=chatlog__timestamp title="Wednesday, June 19, 2024 7:57â€¯AM"><a href=#chatlog__message-container-1252955499423338626>6/19/2024 7:57â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>If I run the Rust tests with a failing test, I get the error: <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">libunwind: stepWithCompactEncoding - invalid compact unwind encoding</code>. I&#39;m running on an M1 Mac, so I suspect it is connected to this issue: <a href="https://github.com/lancedb/lance/issues/2002">https://github.com/lancedb/lance/issues/2002</a>. Has anyone else come across this? If so, are they any workarounds so I can see the failing test output?</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/issues/2002.><div class="chatlog__markdown chatlog__markdown-preserve">Issues &#183; lancedb/lance</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Modern columnar data format for ML and LLMs implemented in Rust. Convert from parquet in 2 lines of code for 100x faster random access, vector index, and data versioning. Compatible with Pandas, Du...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/sCMPK3hRd-WoZsKlNZLbIEvKqRHf0jBX6T3rl2n_xB0/https/opengraph.githubassets.com/28c4717425b9d997600f75f5d08068746ad0dc6e441e0552f08338494b48672f/lancedb/lance> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/sCMPK3hRd-WoZsKlNZLbIEvKqRHf0jBX6T3rl2n_xB0/https/opengraph.githubassets.com/28c4717425b9d997600f75f5d08068746ad0dc6e441e0552f08338494b48672f/lancedb/lance alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1253003910260719651 class=chatlog__message-container data-message-id=1253003910260719651><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, June 19, 2024 11:10â€¯AM"> <a href=#chatlog__message-container-1253003910260719651>6/19/2024 11:10â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1254134674180018186 class=chatlog__message-container data-message-id=1254134674180018186><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/657265318745341970/e5c9a21216fafb03a2f9b05c4cd63f65.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/657265318745341970/e5c9a21216fafb03a2f9b05c4cd63f65.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=m18e>m18e</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1208915798425477181')"> I&#39;ve got a couple changes to lance + lancedb to support custom object stores; is this something that would be interested in being upstreamed? </span></div></div><div class=chatlog__header><span class=chatlog__author title=m18e data-user-id=657265318745341970>m18e</span> <span class=chatlog__timestamp title="Saturday, June 22, 2024 2:03â€¯PM"><a href=#chatlog__message-container-1254134674180018186>6/22/2024 2:03â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>finally: <a href="https://github.com/lancedb/lance/pull/2513">https://github.com/lancedb/lance/pull/2513</a> + <a href="https://github.com/lancedb/lancedb/pull/1399">https://github.com/lancedb/lancedb/pull/1399</a></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=clap><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44f.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1256321761415270520 class=chatlog__message-container data-message-id=1256321761415270520><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/751712925701373972/9363a55fee074e4cd17b9e47438dd933.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=hai.ai data-user-id=751712925701373972>Human Assisted</span> <span class=chatlog__timestamp title="Friday, June 28, 2024 2:54â€¯PM"><a href=#chatlog__message-container-1256321761415270520>6/28/2024 2:54â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Are reads or writes thread safe in rust?  (one process, many threads)   Or should the connection be wrapped in arc/mutex? 

let db = connect(&quot;data&quot;)?;
let table: Table = db.create_table(&quot;documents&quot;, None)?;</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1256333350772281357 class=chatlog__message-container data-message-id=1256333350772281357><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, June 28, 2024 3:40â€¯PM"> <a href=#chatlog__message-container-1256333350772281357>6/28/2024 3:40â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1258300897512001536 class=chatlog__message-container data-message-id=1258300897512001536><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Thursday, July 4, 2024 1:58â€¯AM"><a href=#chatlog__message-container-1258300897512001536>7/4/2024 1:58â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Guys can someone take a look into our LanceDB integration? This was meant to be for local testing but I think people are going to inevitably try adding 10k large files or images into Indexify and insert embeddings into Lance</span></div></div></div></div><div id=chatlog__message-container-1258300947676008479 class=chatlog__message-container data-message-id=1258300947676008479><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, July 4, 2024 1:58â€¯AM">1:58â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I would like to get a little ahead here before we get complains that it&#39;s not working  <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ˜„"
    title="smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f604.svg"></span> <span class=chatlog__edited-timestamp title="Thursday, July 4, 2024 1:58â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1258461366008938610 class=chatlog__message-container data-message-id=1258461366008938610><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, July 4, 2024 12:36â€¯PM"> <a href=#chatlog__message-container-1258461366008938610>7/4/2024 12:36â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1262428757374013574 class=chatlog__message-container data-message-id=1262428757374013574><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1261337492809056316/fcbd33dd69fe3af9214b38643c2e744f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rcheberli data-user-id=1261337492809056316>Rihab</span> <span class=chatlog__timestamp title="Monday, July 15, 2024 11:21â€¯AM"><a href=#chatlog__message-container-1262428757374013574>7/15/2024 11:21â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey there ! I&#39;m using LanceDB with Rust (I&#39;m still new to the language) and I&#39;m a little stuck, can anyone help me out with the confusion ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1263128293058809887 class=chatlog__message-container data-message-id=1263128293058809887><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1261337492809056316/fcbd33dd69fe3af9214b38643c2e744f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rcheberli data-user-id=1261337492809056316>Rihab</span> <span class=chatlog__timestamp title="Wednesday, July 17, 2024 9:40â€¯AM"><a href=#chatlog__message-container-1263128293058809887>7/17/2024 9:40â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey guys. I wanted to ask about versioning. How do we keep track of history and how do we find retention period in lancedb/lance ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1263200093943763088 class=chatlog__message-container data-message-id=1263200093943763088><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, July 17, 2024 2:26â€¯PM"> <a href=#chatlog__message-container-1263200093943763088>7/17/2024 2:26â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1263364720057122917 class=chatlog__message-container data-message-id=1263364720057122917><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Thursday, July 18, 2024 1:20â€¯AM"><a href=#chatlog__message-container-1263364720057122917>7/18/2024 1:20â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey guys do you build Lance on Amazon Linux or RHEL? One of our users are complaining that indexify doesn&#39;t work on amazon linux/rhel because the glibc version is older than what you get on Ubuntu 22.04 so I am trying to compile indexify on RHEL now, and I am getting a bunch of protobuf errors from one of the lance crates</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1263515984048951371 class=chatlog__message-container data-message-id=1263515984048951371><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, July 18, 2024 11:21â€¯AM"> <a href=#chatlog__message-container-1263515984048951371>7/18/2024 11:21â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1263713822481580053 class=chatlog__message-container data-message-id=1263713822481580053><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=garyli_1019 data-user-id=1256134716306886719>garyli1019</span> <span class=chatlog__timestamp title="Friday, July 19, 2024 12:27â€¯AM"><a href=#chatlog__message-container-1263713822481580053>7/19/2024 12:27â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hi guys, is there any way to read from lance through c++?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1263890124983238661 class=chatlog__message-container data-message-id=1263890124983238661><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, July 19, 2024 12:08â€¯PM"> <a href=#chatlog__message-container-1263890124983238661>7/19/2024 12:08â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1264930839804903466 class=chatlog__message-container data-message-id=1264930839804903466><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/799326054442991656/5a389c355da993254e6dc519cb2eb935.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=adammic6202 data-user-id=799326054442991656>ADAM</span> <span class=chatlog__timestamp title="Monday, July 22, 2024 9:03â€¯AM"><a href=#chatlog__message-container-1264930839804903466>7/22/2024 9:03â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hi is there a way to cast a column for example from int to float in lancedb ? Through looking into the source code i found that this function is there to not allow such casting. Is there a way to skip this verification ? <code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight"> /// Limit casts to same type. This is mostly to filter out weird casts like
/// casting a string to a boolean or float to string.
fn is_upcast_downcast(from_type: &amp;DataType, to_type: &amp;DataType) -&gt; bool {
    use DataType::*;
    match from_type {
        from_type if from_type.is_integer() =&gt; to_type.is_integer(),
        from_type if from_type.is_floating() =&gt; to_type.is_floating(),
        from_type if from_type.is_temporal() =&gt; to_type.is_temporal(),
        Boolean =&gt; matches!(to_type, Boolean),
        Utf8 | LargeUtf8 =&gt; matches!(to_type, Utf8 | LargeUtf8),
        Binary | LargeBinary =&gt; matches!(to_type, Binary | LargeBinary),
        Decimal128(_, _) | Decimal256(_, _) =&gt; {
            matches!(to_type, Decimal128(_, _) | Decimal256(_, _))
        }
        List(from_field) | LargeList(from_field) | FixedSizeList(from_field, _) =&gt; match to_type {
            List(to_field) | LargeList(to_field) | FixedSizeList(to_field, _) =&gt; {
                is_upcast_downcast(from_field.data_type(), to_field.data_type())
            }
            _ =&gt; false,
        },
        _ =&gt; false,
    }
}</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1264987754970873962 class=chatlog__message-container data-message-id=1264987754970873962><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, July 22, 2024 12:49â€¯PM"> <a href=#chatlog__message-container-1264987754970873962>7/22/2024 12:49â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1266008983567597689 class=chatlog__message-container data-message-id=1266008983567597689><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/635507634342068228/10b4f881ceeef234f556cbd1dc05f739.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=cat_ethos data-user-id=635507634342068228>catethos</span> <span class=chatlog__timestamp title="Thursday, July 25, 2024 8:27â€¯AM"><a href=#chatlog__message-container-1266008983567597689>7/25/2024 8:27â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, I am new to Rust and can&#39;t get my head around the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">arrow</code> crate, hope someone can point out what I am doing wrong here.
I am getting <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">RecordBatch</code> as a result of the search, and I want to access the value inside. 
let&#39;s say I am accessing the first column via <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">batch.column(0)</code>, if I debug print it, it is something like <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">StringArray[&quot;some text&quot;,]</code>, so I want to get the string inside it by <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">batch.column(0).as_any().downcast_ref::&lt;StringArray&gt;()</code>, but I get a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">None</code>

any idea what is wrong with that?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1266014931619156029 class=chatlog__message-container data-message-id=1266014931619156029><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/635507634342068228/10b4f881ceeef234f556cbd1dc05f739.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=cat_ethos data-user-id=635507634342068228>catethos</span> <span class=chatlog__timestamp title="Thursday, July 25, 2024 8:51â€¯AM"><a href=#chatlog__message-container-1266014931619156029>7/25/2024 8:51â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i suspect I need to downcast_ref to <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Utf8StringArray</code>, but i cannot find where is this type</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1266021842817253482 class=chatlog__message-container data-message-id=1266021842817253482><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=nbtel data-user-id=283390147700195330>nbtel</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, July 25, 2024 9:18â€¯AM"> <a href=#chatlog__message-container-1266021842817253482>7/25/2024 9:18â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1266425991233015848 class=chatlog__message-container data-message-id=1266425991233015848><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/799326054442991656/5a389c355da993254e6dc519cb2eb935.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=adammic6202 data-user-id=799326054442991656>ADAM</span> <span class=chatlog__timestamp title="Friday, July 26, 2024 12:04â€¯PM"><a href=#chatlog__message-container-1266425991233015848>7/26/2024 12:04â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello, I am trying to find a way to add columns in lanceDB in a particular way which is when I provide the values if the number of these values is less than the length of the table it fills the rest with null values. Is there a way to do that ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1266447000472256572 class=chatlog__message-container data-message-id=1266447000472256572><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/635507634342068228/10b4f881ceeef234f556cbd1dc05f739.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=cat_ethos data-user-id=635507634342068228>catethos</span> <span class=chatlog__timestamp title="Friday, July 26, 2024 1:28â€¯PM"><a href=#chatlog__message-container-1266447000472256572>7/26/2024 1:28â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>given that <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">record: RecordBatch</code> and I am getting a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">columns = record.columns()</code>, I can downcast the array using <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">let x: StringArray = downcast_array(&amp;column[0])</code>. But how can I iterate over all the columns and downcast them according to the type as specified in the schema?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1266460473348329649 class=chatlog__message-container data-message-id=1266460473348329649><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, July 26, 2024 2:21â€¯PM"> <a href=#chatlog__message-container-1266460473348329649>7/26/2024 2:21â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1270570423355965492 class=chatlog__message-container data-message-id=1270570423355965492><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/381479142505316353/316f13e88cf0f3309eebc88e5a00cef4.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=.epicism. data-user-id=381479142505316353>.epicism.</span> <span class=chatlog__timestamp title="Tuesday, August 6, 2024 10:33â€¯PM"><a href=#chatlog__message-container-1270570423355965492>8/6/2024 10:33â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello, I&#39;ve gone through the great work the team has done to include full-text search indexing and I&#39;m wondering if there is an ability to expose integrating your own full-text indexes. My use case is closer to a time-series index with unique search patterns where I&#39;d like to time-box the indexes and will have to historically update them when latent data is added.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1270573309519462472 class=chatlog__message-container data-message-id=1270573309519462472><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, August 6, 2024 10:44â€¯PM"> <a href=#chatlog__message-container-1270573309519462472>8/6/2024 10:44â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1275171918231769211 class=chatlog__message-container data-message-id=1275171918231769211><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/635507634342068228/10b4f881ceeef234f556cbd1dc05f739.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=cat_ethos data-user-id=635507634342068228>catethos</span> <span class=chatlog__timestamp title="Monday, August 19, 2024 3:17â€¯PM"><a href=#chatlog__message-container-1275171918231769211>8/19/2024 3:17â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>can a single db connection be used to query two tables in parallel ? something like &#39;join!(tbl.search(...), tbl2.search())&#39; so far i see no improvement in performance</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1276858864792240130 class=chatlog__message-container data-message-id=1276858864792240130><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/857516897855340544/2e075a3748c7eb6b1c94f0107c6974f7.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=sarav1n data-user-id=857516897855340544>Sarav</span> <span class=chatlog__timestamp title="Saturday, August 24, 2024 7:01â€¯AM"><a href=#chatlog__message-container-1276858864792240130>8/24/2024 7:01â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Has anyone try to embed lancedb into an iOS app? Currently it wont compile due to lance-core not supporting mobile architectures. 

I tried tweaking <a href="https://github.com/lancedb/lance/blob/main/rust/lance-core/src/utils/cpu.rs">https://github.com/lancedb/lance/blob/main/rust/lance-core/src/utils/cpu.rs</a> 

to allow building for ios and was able to get it going. But was wondering if folks had tried it and have any guidance?</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/blob/main/rust/lance-core/src/utils/cpu.rs><div class="chatlog__markdown chatlog__markdown-preserve">lance/rust/lance-core/src/utils/cpu.rs at main &#183; lancedb/lance</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Modern columnar data format for ML and LLMs implemented in Rust. Convert from parquet in 2 lines of code for 100x faster random access, vector index, and data versioning. Compatible with Pandas, Du...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/6-M5i_Iizv89Xo6D2_GCEpHCEOBmg_hr_cuG_1P02iM/https/opengraph.githubassets.com/c56345dc97f0a84cdbfc085ac924f08ffc7b65f1fef3f90edd8b39dcb6c37a25/lancedb/lance> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/6-M5i_Iizv89Xo6D2_GCEpHCEOBmg_hr_cuG_1P02iM/https/opengraph.githubassets.com/c56345dc97f0a84cdbfc085ac924f08ffc7b65f1fef3f90edd8b39dcb6c37a25/lancedb/lance alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1276942063476408484 class=chatlog__message-container data-message-id=1276942063476408484><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Saturday, August 24, 2024 12:31â€¯PM"><a href=#chatlog__message-container-1276942063476408484>8/24/2024 12:31â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>It&#39;d be an interesting addition. It is definitely possible to make it work.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1277640293839011962 class=chatlog__message-container data-message-id=1277640293839011962><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1261337492809056316/fcbd33dd69fe3af9214b38643c2e744f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rcheberli data-user-id=1261337492809056316>Rihab</span> <span class=chatlog__timestamp title="Monday, August 26, 2024 10:46â€¯AM"><a href=#chatlog__message-container-1277640293839011962>8/26/2024 10:46â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello ! I wanted to ask if Lancedb/Lance supports indexing ?  
I am trying to work with row_ids and I found that we can access/scan dataset&#39;s metadata, giving us row ID but can we make it physical so we can operate on it ? thanks</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1277648678760218658 class=chatlog__message-container data-message-id=1277648678760218658><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, August 26, 2024 11:19â€¯AM"> <a href=#chatlog__message-container-1277648678760218658>8/26/2024 11:19â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1277659373241368700 class=chatlog__message-container data-message-id=1277659373241368700><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/799326054442991656/5a389c355da993254e6dc519cb2eb935.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=adammic6202 data-user-id=799326054442991656>ADAM</span> <span class=chatlog__timestamp title="Monday, August 26, 2024 12:02â€¯PM"><a href=#chatlog__message-container-1277659373241368700>8/26/2024 12:02â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello, is there a way to generate a unique identifier ( this id can be anything just to perform operations based on it) for each row in my LanceDB dataset ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1277666875261587560 class=chatlog__message-container data-message-id=1277666875261587560><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, August 26, 2024 12:32â€¯PM"> <a href=#chatlog__message-container-1277666875261587560>8/26/2024 12:32â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1278657056265605171 class=chatlog__message-container data-message-id=1278657056265605171><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/799326054442991656/5a389c355da993254e6dc519cb2eb935.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=adammic6202 data-user-id=799326054442991656>ADAM</span> <span class=chatlog__timestamp title="Thursday, August 29, 2024 6:06â€¯AM"><a href=#chatlog__message-container-1278657056265605171>8/29/2024 6:06â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello, does LanceDB support Column Mapping ( similarly to delta tables )?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1278750633305964589 class=chatlog__message-container data-message-id=1278750633305964589><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, August 29, 2024 12:18â€¯PM"> <a href=#chatlog__message-container-1278750633305964589>8/29/2024 12:18â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1285339397574627379 class=chatlog__message-container data-message-id=1285339397574627379><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/227120522243080194/d370a4971f13ecf2fd75815a6639f85b.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=drager__ data-user-id=227120522243080194>drager</span> <span class=chatlog__timestamp title="Monday, September 16, 2024 4:39â€¯PM"><a href=#chatlog__message-container-1285339397574627379>9/16/2024 4:39â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ‘‹"
    title="wave"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44b.svg"> Is this supported for Rust as well? <a href="https://lancedb.github.io/lancedb/embeddings/available_embedding_models/text_embedding_functions/ollama_embedding/">https://lancedb.github.io/lancedb/embeddings/available_embedding_models/text_embedding_functions/ollama_embedding/</a></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1285363270999605252 class=chatlog__message-container data-message-id=1285363270999605252><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, September 16, 2024 6:14â€¯PM"> <a href=#chatlog__message-container-1285363270999605252>9/16/2024 6:14â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1288163947471442022 class=chatlog__message-container data-message-id=1288163947471442022><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/952806354194686013/bfd68f4db01b0040cd584c36ba693624.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=diptanuc data-user-id=952806354194686013>diptanuc</span> <span class=chatlog__timestamp title="Tuesday, September 24, 2024 11:43â€¯AM"><a href=#chatlog__message-container-1288163947471442022>9/24/2024 11:43â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey guys I was looking into the Lance file format. Is it possible to create Datasets on object stores directly and do random access? The examples on the repo show scans and not direct reads</span></div></div></div></div><div id=chatlog__message-container-1288164176975630469 class=chatlog__message-container data-message-id=1288164176975630469><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, September 24, 2024 11:44â€¯AM">11:44â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We are thinking if we should use lance for storing a collection of large blobs.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1288168057570852901 class=chatlog__message-container data-message-id=1288168057570852901><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, September 24, 2024 11:59â€¯AM"> <a href=#chatlog__message-container-1288168057570852901>9/24/2024 11:59â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1288371137771864084 class=chatlog__message-container data-message-id=1288371137771864084><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=dredad data-user-id=456226376043855892>drei</span> <span class=chatlog__timestamp title="Wednesday, September 25, 2024 1:26â€¯AM"><a href=#chatlog__message-container-1288371137771864084>9/25/2024 1:26â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>does the lancedb rust SDK support raw SQL strings ( specifically without duckdb - perhaps via internal datafusion?). also, any rust examples of using lance w/ duckdb?</span> <span class=chatlog__edited-timestamp title="Wednesday, September 25, 2024 1:29â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1288474049999147075 class=chatlog__message-container data-message-id=1288474049999147075><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, September 25, 2024 8:15â€¯AM"> <a href=#chatlog__message-container-1288474049999147075>9/25/2024 8:15â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1294610623841177650 class=chatlog__message-container data-message-id=1294610623841177650><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/263944037818564608/9b23ce139d049cd3f45a5c856eaa521c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=timon8543 data-user-id=263944037818564608>timonv</span> <span class=chatlog__timestamp title="Saturday, October 12, 2024 6:40â€¯AM"><a href=#chatlog__message-container-1294610623841177650>10/12/2024 6:40â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey guys, I&#39;m trying to figure out why swiftide is currently running into github runner limitations and was checking the timings on a clean <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">cargo build --timings --release --all-features</code>. A large part is spend in lancedb and datafusion. I was wondering if everything included from arrow/datafusion is also used, there doesn&#39;t seem to be much feature gating in the lancedb cargo.tomls.</span></div><div class=chatlog__attachment><a href="https://cdn.discordapp.com/attachments/1197630564254101618/1294610623577063487/image.png?ex=697be1d9&amp;is=697a9059&amp;hm=ffb20bbcf96131a58061dfbfece8627be543f1e1082a7f9a1f60fdc669c42435&amp;"> <img class=chatlog__attachment-media src="https://cdn.discordapp.com/attachments/1197630564254101618/1294610623577063487/image.png?ex=697be1d9&amp;is=697a9059&amp;hm=ffb20bbcf96131a58061dfbfece8627be543f1e1082a7f9a1f60fdc669c42435&amp;" alt="Image attachment" title="Image: image.png (302.32 KB)" loading=lazy> </a></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1294646319033614371 class=chatlog__message-container data-message-id=1294646319033614371><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Saturday, October 12, 2024 9:02â€¯AM"> <a href=#chatlog__message-container-1294646319033614371>10/12/2024 9:02â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1295884414462464073 class=chatlog__message-container data-message-id=1295884414462464073><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/735690405101961226/5011a3f77eddfdc0b99f2d7f31365116.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rnulled data-user-id=735690405101961226>rnulled</span> <span class=chatlog__timestamp title="Tuesday, October 15, 2024 7:02â€¯PM"><a href=#chatlog__message-container-1295884414462464073>10/15/2024 7:02â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hi all. any example on how to register an embedding function to an empty table</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1295888679528566814 class=chatlog__message-container data-message-id=1295888679528566814><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/735690405101961226/5011a3f77eddfdc0b99f2d7f31365116.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/735690405101961226/5011a3f77eddfdc0b99f2d7f31365116.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=rnulled>rnulled</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1295884414462464073')"> hi all. any example on how to register an embedding function to an empty table </span></div></div><div class=chatlog__header><span class=chatlog__author title=rnulled data-user-id=735690405101961226>rnulled</span> <span class=chatlog__timestamp title="Tuesday, October 15, 2024 7:18â€¯PM"><a href=#chatlog__message-container-1295888679528566814>10/15/2024 7:18â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>after thinking about this, i guess the solution is to just have data and not create an empty table.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1295899915658072119 class=chatlog__message-container data-message-id=1295899915658072119><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, October 15, 2024 8:03â€¯PM"> <a href=#chatlog__message-container-1295899915658072119>10/15/2024 8:03â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1296240128611717173 class=chatlog__message-container data-message-id=1296240128611717173><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/735690405101961226/5011a3f77eddfdc0b99f2d7f31365116.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/735690405101961226/5011a3f77eddfdc0b99f2d7f31365116.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=rnulled>rnulled</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1295888679528566814')"> after thinking about this, i guess the solution is to just have data and not create an empty table. </span></div></div><div class=chatlog__header><span class=chatlog__author title=rnulled data-user-id=735690405101961226>rnulled</span> <span class=chatlog__timestamp title="Wednesday, October 16, 2024 6:35â€¯PM"><a href=#chatlog__message-container-1296240128611717173>10/16/2024 6:35â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>a follow up to this, i went about creating a table with initial data. creating initial data is difficult. I found this issue still relevant: 

<a href="https://github.com/lancedb/lancedb/issues/1153">https://github.com/lancedb/lancedb/issues/1153</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/issues/1153><div class="chatlog__markdown chatlog__markdown-preserve">examples/simple.rs rust example uses unreleased code &#183; Issue #1153 ...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Description In examples/simple.rs it has the following code: use lancedb::arrow::IntoArrow; ... fn create_some_records() -&gt; Result&lt;impl IntoArrow&gt; { ... } but on the latest release lancedb...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/nLvX1InpmN8PkZsqiAIhIs-oM6XYm6_ttvLgcBjeX9M/https/opengraph.githubassets.com/e22bb8dd4276e36a0f815bd3f074650db2287f2c397f9239d9db98dca3795557/lancedb/lancedb/issues/1153> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/nLvX1InpmN8PkZsqiAIhIs-oM6XYm6_ttvLgcBjeX9M/https/opengraph.githubassets.com/e22bb8dd4276e36a0f815bd3f074650db2287f2c397f9239d9db98dca3795557/lancedb/lancedb/issues/1153 alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1301000942266875974 class=chatlog__message-container data-message-id=1301000942266875974><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/605703536461742080/27c2c09ad74215419478780bfa71bc02.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=iv_s. data-user-id=605703536461742080>iv_s</span> <span class=chatlog__timestamp title="Tuesday, October 29, 2024 9:53â€¯PM"><a href=#chatlog__message-container-1301000942266875974>10/29/2024 9:53â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>heey! I&#39;m trying to add new embedder, confused with compute_source_embeddings method
as far as I understood, source - my source text field, and output - fixed size embedding? I use openai implementation as a ref
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-rust">    fn compute_source_embeddings(&amp;self, source: ArrayRef) -&gt; crate::Result&lt;ArrayRef&gt; {
        let len = source.len(); // !!! length of input text 
        let n_dims = self.model.ndims();
        let inner = self.compute_inner(source)?; // !!! resulting embedding vec

        let fsl = DataType::new_fixed_size_list(DataType::Float32, n_dims as i32, false);

        // We can&#39;t use the FixedSizeListBuilder here because it always adds a null bitmap
        // and we want to explicitly work with non-nullable arrays.
        let array_data = ArrayData::builder(fsl) // !!! propper typing
            .len(len) // ??? why here is an input text length?
            .add_child_data(inner.into_data()) // !!! resulting embeddings
            .build()?;

        Ok(Arc::new(FixedSizeListArray::from(array_data)))
    }</code>

so, how to understand, why array_data has lenth of input text?

same for sentence_transformers embeddings, not so much docs about arrow crate, so could u pls give any clarity?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1301009396238651415 class=chatlog__message-container data-message-id=1301009396238651415><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, October 29, 2024 10:26â€¯PM"> <a href=#chatlog__message-container-1301009396238651415>10/29/2024 10:26â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1301351993453056041 class=chatlog__message-container data-message-id=1301351993453056041><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1063464816532008990/e2216b02e03ed0d2c47eca4b7fb03a27.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jleibs.rerun data-user-id=1063464816532008990>jleibs</span> <span class=chatlog__timestamp title="Wednesday, October 30, 2024 9:08â€¯PM"><a href=#chatlog__message-container-1301351993453056041>10/30/2024 9:08â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;m running into an issue with arrow Dictionary types.

I start by creating an empty table with my schema:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">            let metadata_schema = Arc::new(arrow::datatypes::Schema::new(fields));

            let batches = vec![RecordBatch::new_empty(metadata_schema.clone())];
            let reader = RecordBatchIterator::new(batches.into_iter().map(Ok), metadata_schema);

            let write_params = WriteParams::default();
            let dataset = Dataset::write(reader, dataset_path.as_str(), Some(write_params)).await?;</code>

But later when I try to append to my table I get an error just for the column that happens to use dictionary encoding:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">Append with different schema: dictionary for `recording_type` did not match expected dictionary, location: /home/jleibs/.cargo/registry/src/index.crates.io-6f17d22bba15001f/lance-core-0.18.2/src/datatypes/schema.rs:155:27</code>

The arrow type for that column is:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">        let recording_type_enum = arrow::datatypes::DataType::Dictionary(
            Box::new(arrow::datatypes::DataType::UInt8),
            Box::new(arrow::datatypes::DataType::Utf8),
        );

        arrow::datatypes::Field::new(
            RECORDING_TYPE_FIELD_NAME,
            recording_type_enum,
            false, /* mandatory field */
        )</code>

Is there a way for me to explicitly set the dictionary values when I create the dataset?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1301361924813881388 class=chatlog__message-container data-message-id=1301361924813881388><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=jleibs.rerun data-user-id=1063464816532008990>jleibs</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, October 30, 2024 9:47â€¯PM"> <a href=#chatlog__message-container-1301361924813881388>10/30/2024 9:47â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1301389511397478444 class=chatlog__message-container data-message-id=1301389511397478444><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=dredad data-user-id=456226376043855892>drei</span> <span class=chatlog__timestamp title="Wednesday, October 30, 2024 11:37â€¯PM"><a href=#chatlog__message-container-1301389511397478444>10/30/2024 11:37â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>As I understand from reading other posts concurrent writes via lancedb to s3 may cause corruption - does this extend to concurrent inserts (that presumably create a new object via a PUT)?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1301392717829378093 class=chatlog__message-container data-message-id=1301392717829378093><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, October 30, 2024 11:50â€¯PM"> <a href=#chatlog__message-container-1301392717829378093>10/30/2024 11:50â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1303365225181085808 class=chatlog__message-container data-message-id=1303365225181085808><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/799326054442991656/5a389c355da993254e6dc519cb2eb935.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=adammic6202 data-user-id=799326054442991656>ADAM</span> <span class=chatlog__timestamp title="Tuesday, November 5, 2024 9:28â€¯AM"><a href=#chatlog__message-container-1303365225181085808>11/5/2024 9:28â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello, I am trying to see the delta between two table versions - would you know a good way to return changed, added and deleted rows between versions ? (similarly to doing history in delta tables)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1303368927929307182 class=chatlog__message-container data-message-id=1303368927929307182><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, November 5, 2024 9:42â€¯AM"> <a href=#chatlog__message-container-1303368927929307182>11/5/2024 9:42â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1303949170385883188 class=chatlog__message-container data-message-id=1303949170385883188><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=dredad data-user-id=456226376043855892>drei</span> <span class=chatlog__timestamp title="Thursday, November 7, 2024 12:08â€¯AM"><a href=#chatlog__message-container-1303949170385883188>11/7/2024 12:08â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>For UpdateBuilder, how do you pass a uuid value stored on-table as  FixedSizeBinary(16) to the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">.column</code> in update_expr param? In datafusion it&#39;s <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lit(ScalarValue::FixedSizeBinary(16,Some(value.as_bytes().to_vec())))</code> , but can&#39;t seem to find what to pass for lancedb.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1303954546912919558 class=chatlog__message-container data-message-id=1303954546912919558><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=dredad data-user-id=456226376043855892>drei</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, November 7, 2024 12:29â€¯AM"> <a href=#chatlog__message-container-1303954546912919558>11/7/2024 12:29â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1305539621177786500 class=chatlog__message-container data-message-id=1305539621177786500><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1063464816532008990/e2216b02e03ed0d2c47eca4b7fb03a27.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jleibs.rerun data-user-id=1063464816532008990>jleibs</span> <span class=chatlog__timestamp title="Monday, November 11, 2024 9:28â€¯AM"><a href=#chatlog__message-container-1305539621177786500>11/11/2024 9:28â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is there a way to execute an Update-as-transaction via rust code that provides the data directly via arrow rather than only as a string?

I&#39;m having trouble understanding the relationship between:
<a href="https://docs.rs/lance/latest/lance/dataset/struct.UpdateBuilder.html">https://docs.rs/lance/latest/lance/dataset/struct.UpdateBuilder.html</a> which feels like half of what I want, and <a href="https://docs.rs/lance/latest/lance/dataset/updater/struct.Updater.html">https://docs.rs/lance/latest/lance/dataset/updater/struct.Updater.html</a> which looks closer to what I was imagining in terms of being allowed to provide RecordBatches...  but isn&#39;t clear to me in terms of its relationshop to the execution of a transaction.</span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://docs.rs/lance/latest/lance/dataset/struct.UpdateBuilder.html><div class="chatlog__markdown chatlog__markdown-preserve">UpdateBuilder in lance::dataset - Rust</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Build an update operation.</div></div></div></div></div></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://docs.rs/lance/latest/lance/dataset/updater/struct.Updater.html><div class="chatlog__markdown chatlog__markdown-preserve">Updater in lance::dataset::updater - Rust</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Update or insert a new column.</div></div></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1305546032297279539 class=chatlog__message-container data-message-id=1305546032297279539><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, November 11, 2024 9:53â€¯AM"> <a href=#chatlog__message-container-1305546032297279539>11/11/2024 9:53â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1305796313564315738 class=chatlog__message-container data-message-id=1305796313564315738><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1007985075025096714/3a1d9cc1e61a630eb09e579527770668.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=aei_aei data-user-id=1007985075025096714>Aei</span> <span class=chatlog__timestamp title="Tuesday, November 12, 2024 2:28â€¯AM"><a href=#chatlog__message-container-1305796313564315738>11/12/2024 2:28â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hiï¼If I use the Rust version of lancedb and package it into a program, will others need to install protobuf when using that program?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1305824931950493758 class=chatlog__message-container data-message-id=1305824931950493758><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1261337492809056316/fcbd33dd69fe3af9214b38643c2e744f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rcheberli data-user-id=1261337492809056316>Rihab</span> <span class=chatlog__timestamp title="Tuesday, November 12, 2024 4:22â€¯AM"><a href=#chatlog__message-container-1305824931950493758>11/12/2024 4:22â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello, is there any updates on this Issue ? <a href="https://github.com/lancedb/lance/issues/2454">https://github.com/lancedb/lance/issues/2454</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/issues/2454><div class="chatlog__markdown chatlog__markdown-preserve">Epic: Primary keys &#183; Issue #2454 &#183; lancedb/lance</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">In #2307, we are introducing row ids that are stable after moves. If we make them also stable after updates, then the row ids will be usable as primary keys. This will enable operations like get/up...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/gM91Ct32YvB-Nb3owHP1aEMfO9pKsHyo6j68ZkQkbgY/https/opengraph.githubassets.com/5f406a5d3c63d6ed73eaef908f6ea4b36e237c7f8d49010fb202c8b80ed13c69/lancedb/lance/issues/2454> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/gM91Ct32YvB-Nb3owHP1aEMfO9pKsHyo6j68ZkQkbgY/https/opengraph.githubassets.com/5f406a5d3c63d6ed73eaef908f6ea4b36e237c7f8d49010fb202c8b80ed13c69/lancedb/lance/issues/2454 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1305862173448208439 class=chatlog__message-container data-message-id=1305862173448208439><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, November 12, 2024 6:50â€¯AM"> <a href=#chatlog__message-container-1305862173448208439>11/12/2024 6:50â€¯AM</a> </span></div></div></div><div id=chatlog__message-container-1305863897491963948 class=chatlog__message-container data-message-id=1305863897491963948><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, November 12, 2024 6:56â€¯AM"> <a href=#chatlog__message-container-1305863897491963948>11/12/2024 6:56â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1305891612974645259 class=chatlog__message-container data-message-id=1305891612974645259><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/799326054442991656/5a389c355da993254e6dc519cb2eb935.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=adammic6202 data-user-id=799326054442991656>ADAM</span> <span class=chatlog__timestamp title="Tuesday, November 12, 2024 8:47â€¯AM"><a href=#chatlog__message-container-1305891612974645259>11/12/2024 8:47â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, after upgrading to the latest lance version I am suddenly getting this error: <code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight"> value: DecodeError { description: &quot;expected type URL: \&quot;/lance.encodings.PageLayout\&quot; (got: \&quot;/lance.encodings.ArrayEncoding\&quot;)&quot;, stack: [(&quot;unexpected type URL&quot;, &quot;type_url&quot;)] }</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1305919308769132608 class=chatlog__message-container data-message-id=1305919308769132608><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, November 12, 2024 10:37â€¯AM"> <a href=#chatlog__message-container-1305919308769132608>11/12/2024 10:37â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1306170913762312212 class=chatlog__message-container data-message-id=1306170913762312212><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=dredad data-user-id=456226376043855892>drei</span> <span class=chatlog__timestamp title="Wednesday, November 13, 2024 3:16â€¯AM"><a href=#chatlog__message-container-1306170913762312212>11/13/2024 3:16â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>do table instances have some kind of local cache from previous queries? switched from datafusion providers to direct lancedb queries but seems like I can get old records post-update:

1. get record by column a
2. update record column b
3. get record (after update) by column b -&gt; (get updated record)
4. get record (after update) by column a -&gt; (get old record from 1)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1306174119422853156 class=chatlog__message-container data-message-id=1306174119422853156><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=dredad data-user-id=456226376043855892>drei</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, November 13, 2024 3:29â€¯AM"> <a href=#chatlog__message-container-1306174119422853156>11/13/2024 3:29â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1306257551905787914 class=chatlog__message-container data-message-id=1306257551905787914><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1063464816532008990/e2216b02e03ed0d2c47eca4b7fb03a27.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jleibs.rerun data-user-id=1063464816532008990>jleibs</span> <span class=chatlog__timestamp title="Wednesday, November 13, 2024 9:01â€¯AM"><a href=#chatlog__message-container-1306257551905787914>11/13/2024 9:01â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Another question on the rust APIs. I don&#39;t have a fully coherent mental model of what is happening between APIs that take an <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Arc&lt;Dataset&gt;</code> vs APIs that take a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">&amp;mut Dataset</code>.

For example, MergeInsertJob uses an Arc:
<ul><li><a href="https://docs.rs/lance/latest/lance/dataset/struct.MergeInsertJob.html#method.execute">https://docs.rs/lance/latest/lance/dataset/struct.MergeInsertJob.html#method.execute</a>

But Dataset <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">append</code> takes a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">&amp;mut</code>:</li><li><a href="https://docs.rs/lance/latest/lance/dataset/struct.Dataset.html#method.append">https://docs.rs/lance/latest/lance/dataset/struct.Dataset.html#method.append</a>

Clearly both of these are mutating the actual stored data in practice. 

I&#39;m speculating that the Dataset object is tied to the version that&#39;s currently being viewed? Is the difference just related to whether that version is updated in-place at the end of the operation?

Concretely we are trying to figure out how to manage the lifetime of the Dataset object in our application, when we should be cloning it, how we should be managing swapping it.</li></ul></span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://docs.rs/lance/latest/lance/dataset/struct.MergeInsertJob.html><div class="chatlog__markdown chatlog__markdown-preserve">MergeInsertJob in lance::dataset - Rust</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">A MergeInsertJob inserts new rows, deletes old rows, and updates existing rows all as part of a single transaction.</div></div></div></div></div></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://docs.rs/lance/latest/lance/dataset/struct.Dataset.html><div class="chatlog__markdown chatlog__markdown-preserve">Dataset in lance::dataset - Rust</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Lance Dataset</div></div></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1307297808469983284 class=chatlog__message-container data-message-id=1307297808469983284><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=dredad data-user-id=456226376043855892>drei</span> <span class=chatlog__timestamp title="Saturday, November 16, 2024 5:54â€¯AM"><a href=#chatlog__message-container-1307297808469983284>11/16/2024 5:54â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Does <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">full_text_search</code> work on proper nouns/names? testing is not showing great results (basically getting random matches even on exact string query). Assuming the tokenizer is to blame.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1308094898846826541 class=chatlog__message-container data-message-id=1308094898846826541><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=yah2er0ne data-user-id=963889951810941039>Yang</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, November 18, 2024 10:42â€¯AM"> <a href=#chatlog__message-container-1308094898846826541>11/18/2024 10:42â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1309231353166041098 class=chatlog__message-container data-message-id=1309231353166041098><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/842590130468290621/a854989c1905618f8dea2c2840b51ef9.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=chai.rs data-user-id=842590130468290621>Chai</span> <span class=chatlog__timestamp title="Thursday, November 21, 2024 1:57â€¯PM"><a href=#chatlog__message-container-1309231353166041098>11/21/2024 1:57â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>How can I add the new record with embedding column?</span> <span class=chatlog__edited-timestamp title="Thursday, November 21, 2024 1:58â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1309301607565103255 class=chatlog__message-container data-message-id=1309301607565103255><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/842590130468290621/a854989c1905618f8dea2c2840b51ef9.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=chai.rs>Chai</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1309231353166041098')"> How can I add the new record with embedding column? </span> <span class=chatlog__reply-edited-timestamp title="Thursday, November 21, 2024 1:58â€¯PM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author title=qian_00349 data-user-id=1139637723725041674>Qian</span> <span class=chatlog__timestamp title="Thursday, November 21, 2024 6:37â€¯PM"><a href=#chatlog__message-container-1309301607565103255>11/21/2024 6:37â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hi <span class="chatlog__markdown-mention" title="chai.rs">@Chai</span> you can see an example here: <a href="https://lancedb.github.io/lancedb/embeddings/#__tabbed_1_3">https://lancedb.github.io/lancedb/embeddings/#__tabbed_1_3</a></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1309417640816545803 class=chatlog__message-container data-message-id=1309417640816545803><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=dredad data-user-id=456226376043855892>drei</span> <span class=chatlog__timestamp title="Friday, November 22, 2024 2:18â€¯AM"><a href=#chatlog__message-container-1309417640816545803>11/22/2024 2:18â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is there an idiomatic approach to filtered (many-to-many) joins w/ a limit on lancedb? e.g. I want to get users on users table by group on groups table, but only 50 users who&#39;s email matches &quot;*@gmail.com&quot;.

Without the filter it&#39;s easy enough to:

(1) Grab first matched 50 rows from the users_groups join table by passed group_id.
(2) Get the users from the users table via users_groups.user_id. 

With the filter the initial limit&#39;d 50 rows on the join table will not translate the the same number of rows on the users table as the users are further filtered down, which really breaks pagination. The approaches I see:

1. Build a fully &quot;joined&quot; table which has all of the filterable group columns + user columns. This denormalizes the database but makes querying much easier. Possibly faster as well, though dimensionality is a concern if more tables are involved (which would require more &quot;joined&quot; tables to match each combo to avoid dupe records), + writes to the users/groups/etc. tables would be more expensive.

2. Do some sort of recursive query-&gt;join until I have 50 user records, then store the offsets for the next &quot;page&quot; query. This one seems like it may be much slower, particularly if the filter is very restrictive, but perhaps I can mitigate w/ some type of streaming.

Ya&#39;ll have any other suggestions or experience between the two approaches in relation to lancedb? Perhaps a better suggestion?</span> <span class=chatlog__edited-timestamp title="Friday, November 22, 2024 2:27â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1309534048342904893 class=chatlog__message-container data-message-id=1309534048342904893><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, November 22, 2024 10:00â€¯AM"> <a href=#chatlog__message-container-1309534048342904893>11/22/2024 10:00â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1309569611619893310 class=chatlog__message-container data-message-id=1309569611619893310><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/842590130468290621/a854989c1905618f8dea2c2840b51ef9.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=qian_00349>Qian</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1309301607565103255')"> hi <span class="chatlog__markdown-mention" title="chai.rs">@Chai</span> you can see an example here: <a href="https://lancedb.github.io/lancedb/embeddings/#__tabbed_1_3">https://lancedb.github.io/lancedb/embeddings/#__tabbed_1_3</a> </span></div></div><div class=chatlog__header><span class=chatlog__author title=chai.rs data-user-id=842590130468290621>Chai</span> <span class=chatlog__timestamp title="Friday, November 22, 2024 12:22â€¯PM"><a href=#chatlog__message-container-1309569611619893310>11/22/2024 12:22â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>How can I integrate LanceDB embedding with Ollama?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1309627703619485791 class=chatlog__message-container data-message-id=1309627703619485791><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, November 22, 2024 4:12â€¯PM"> <a href=#chatlog__message-container-1309627703619485791>11/22/2024 4:12â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1312408460591104040 class=chatlog__message-container data-message-id=1312408460591104040><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/768507481256361984/8ef005790692fab12797b82c5abbd8b6.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=connell__ data-user-id=768507481256361984>connell</span> <span class=chatlog__timestamp title="Saturday, November 30, 2024 8:22â€¯AM"><a href=#chatlog__message-container-1312408460591104040>11/30/2024 8:22â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;m seeing this error intermittently when indexing data
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">RuntimeError: lance error: LanceError(IO): does not have sufficient data, len: 0, bytes: b&quot;&quot;, /root/.cargo/registry/src/index.crates.io-6f17d22bba15001f/lance-io-0.19.1/src/utils.rs:137:13</code></span></div></div></div></div><div id=chatlog__message-container-1312409313473728573 class=chatlog__message-container data-message-id=1312409313473728573><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, November 30, 2024 8:26â€¯AM">8:26â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Anyone have any more information I&#39;m unable to find it in the codebase</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1313199337723002992 class=chatlog__message-container data-message-id=1313199337723002992><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/5.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/768507481256361984/8ef005790692fab12797b82c5abbd8b6.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=connell__>connell</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1312408460591104040')"> I&#39;m seeing this error intermittently when indexing data
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">RuntimeError: lance error: LanceError(IO): does not have sufficient data, len: 0, bytes: b&quot;&quot;, /root/.cargo/registry/src/index.crates.io-6f17d22bba15001f/lance-io-0.19.1/src/utils.rs:137:13</code> </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=rpgreen_lancedb data-user-id=1235914389664829440>Ryan</span> <span class=chatlog__timestamp title="Monday, December 2, 2024 12:45â€¯PM"><a href=#chatlog__message-container-1313199337723002992>12/2/2024 12:45â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>HI <span class="chatlog__markdown-mention" title="connell__">@connell</span>, this error is in a few places in the lance codebase, i.e. <a href="https://github.com/lancedb/lance/blob/db1e39c668738f026bc1299413a371d49d89c4fe/rust/lance-io/src/utils.rs#L134">https://github.com/lancedb/lance/blob/db1e39c668738f026bc1299413a371d49d89c4fe/rust/lance-io/src/utils.rs#L134</a>
To troubleshoot, it might be helpful to set env vars RUST_LOG=debug, LANCE_LOG=debug, RUST_BACKTRACE=full variables to capture more details</span> <span class=chatlog__edited-timestamp title="Monday, December 2, 2024 12:45â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1313599543077503038 class=chatlog__message-container data-message-id=1313599543077503038><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/768507481256361984/8ef005790692fab12797b82c5abbd8b6.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/5.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=rpgreen_lancedb>Ryan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1313199337723002992')"> HI <span class="chatlog__markdown-mention" title="connell__">@connell</span>, this error is in a few places in the lance codebase, i.e. <a href="https://github.com/lancedb/lance/blob/db1e39c668738f026bc1299413a371d49d89c4fe/rust/lance-io/src/utils.rs#L134">https://github.com/lancedb/lance/blob/db1e39c668738f026bc1299413a371d49d89c4fe/rust/lance-io/src/utils.rs#L134</a>
To troubleshoot, it might be helpful to set env vars RUST_LOG=debug, LANCE_LOG=debug, RUST_BACKTRACE=full variables to capture more details </span> <span class=chatlog__reply-edited-timestamp title="Monday, December 2, 2024 12:45â€¯PM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author title=connell__ data-user-id=768507481256361984>connell</span> <span class=chatlog__timestamp title="Tuesday, December 3, 2024 3:15â€¯PM"><a href=#chatlog__message-container-1313599543077503038>12/3/2024 3:15â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hey sorry should have deleted that, I realized its just because I only had 2 vCPU available since the logic is ~ num_of_cpus - 1 IIRC</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1320422614052765726 class=chatlog__message-container data-message-id=1320422614052765726><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/790238281056518164/12e2ae096213293d6f355f979ef92a86.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=markusji data-user-id=790238281056518164>Markus</span> <span class=chatlog__timestamp title="Sunday, December 22, 2024 11:08â€¯AM"><a href=#chatlog__message-container-1320422614052765726>12/22/2024 11:08â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>how long until rust examples? I have been battling whole day trying to implement my own.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1320792927688986660 class=chatlog__message-container data-message-id=1320792927688986660><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, December 23, 2024 11:39â€¯AM"> <a href=#chatlog__message-container-1320792927688986660>12/23/2024 11:39â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1321414051422539796 class=chatlog__message-container data-message-id=1321414051422539796><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/799326054442991656/5a389c355da993254e6dc519cb2eb935.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=adammic6202 data-user-id=799326054442991656>ADAM</span> <span class=chatlog__timestamp title="Wednesday, December 25, 2024 4:47â€¯AM"><a href=#chatlog__message-container-1321414051422539796>12/25/2024 4:47â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, is there a way to only pull the structs that I need when using LanceDB in Rust? Since I am using only some of the features but I am pulling crates that are not related to my use case ( for example aws-sdk ). Is there a feature that I can enable to stop this behaviour since it is slowing my builds a lot.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1321727702595801163 class=chatlog__message-container data-message-id=1321727702595801163><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, December 26, 2024 1:34â€¯AM"> <a href=#chatlog__message-container-1321727702595801163>12/26/2024 1:34â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1328635993049534525 class=chatlog__message-container data-message-id=1328635993049534525><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/233790779162624001/d94878a5ca97bbfddfee3be088b6ede2.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=akagi201 data-user-id=233790779162624001>Akagi201</span> <span class=chatlog__timestamp title="Tuesday, January 14, 2025 3:05â€¯AM"><a href=#chatlog__message-container-1328635993049534525>1/14/2025 3:05â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>How can I do a query with order_by in lancedb&#39;s table? I only find a method in lance&#39;s dataset but not found it in lancedb.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1328740438273953867 class=chatlog__message-container data-message-id=1328740438273953867><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, January 14, 2025 10:00â€¯AM"> <a href=#chatlog__message-container-1328740438273953867>1/14/2025 10:00â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1328875371126329365 class=chatlog__message-container data-message-id=1328875371126329365><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/385885736060321803/46f291ec630e04a3e842b7f2a066ee4c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=.cbeast data-user-id=385885736060321803>cbeast</span> <span class=chatlog__timestamp title="Tuesday, January 14, 2025 6:56â€¯PM"><a href=#chatlog__message-container-1328875371126329365>1/14/2025 6:56â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>whats the trending thought on integrating the lance file format with different table formats like delta lake, iceberg, etc. ?

I understand the happy path is choosing lancedb/lance table format, but in a distributed system with millions of tables it may be more advantageous to use a unified table catalog</span></div></div></div></div><div id=chatlog__message-container-1328875689377660960 class=chatlog__message-container data-message-id=1328875689377660960><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, January 14, 2025 6:57â€¯PM">6:57â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>why i ask in rust channel -- i&#39;m considering contributing a JNI to expose the file format to java users. currently java only exposes the dataset</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1328883383639474181 class=chatlog__message-container data-message-id=1328883383639474181><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, January 14, 2025 7:28â€¯PM"> <a href=#chatlog__message-container-1328883383639474181>1/14/2025 7:28â€¯PM</a> </span></div></div></div><div id=chatlog__message-container-1328883673571004471 class=chatlog__message-container data-message-id=1328883673571004471><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, January 14, 2025 7:29â€¯PM"> <a href=#chatlog__message-container-1328883673571004471>1/14/2025 7:29â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1331988370406248538 class=chatlog__message-container data-message-id=1331988370406248538><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/799326054442991656/5a389c355da993254e6dc519cb2eb935.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=adammic6202 data-user-id=799326054442991656>ADAM</span> <span class=chatlog__timestamp title="Thursday, January 23, 2025 9:06â€¯AM"><a href=#chatlog__message-container-1331988370406248538>1/23/2025 9:06â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello, is there an option to retrieve the data from a deletion fragment ? for example I want to restore a deleted row from my database without checking out the previous version but by adding the deleted row again from the deletion vector. ( in the case that i deleted multiple rows for example and only want to restore one it would be much more efficient to just add it rather that pulling the whole previous version again ).Is that possible ?</span> <span class=chatlog__edited-timestamp title="Thursday, January 23, 2025 9:15â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1331996166757552302 class=chatlog__message-container data-message-id=1331996166757552302><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, January 23, 2025 9:37â€¯AM"> <a href=#chatlog__message-container-1331996166757552302>1/23/2025 9:37â€¯AM</a> </span></div></div></div><div id=chatlog__message-container-1333849817537056768 class=chatlog__message-container data-message-id=1333849817537056768><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=cadubealore_21151 data-user-id=1319661953483800751>cadubealore</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, January 28, 2025 12:22â€¯PM"> <a href=#chatlog__message-container-1333849817537056768>1/28/2025 12:22â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1340982110198169655 class=chatlog__message-container data-message-id=1340982110198169655><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1261337492809056316/fcbd33dd69fe3af9214b38643c2e744f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rcheberli data-user-id=1261337492809056316>Rihab</span> <span class=chatlog__timestamp title="Monday, February 17, 2025 4:44â€¯AM"><a href=#chatlog__message-container-1340982110198169655>2/17/2025 4:44â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello. Does LanceDB currently support updating a table with a single transaction ? If I have multiple changes (like added rows, added columns, deleted columns...) is there a way to do them in one go ? I saw that in the Lance crate there is a Transaction module to update datasets, does that support bundling multiple operations into a single atomic action or it is just for managing dataset changes ?</span> <span class=chatlog__edited-timestamp title="Monday, February 17, 2025 9:08â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1341042812635975732 class=chatlog__message-container data-message-id=1341042812635975732><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/799326054442991656/5a389c355da993254e6dc519cb2eb935.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=adammic6202 data-user-id=799326054442991656>ADAM</span> <span class=chatlog__timestamp title="Monday, February 17, 2025 8:45â€¯AM"><a href=#chatlog__message-container-1341042812635975732>2/17/2025 8:45â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello, can I do a merge insert with a record batch that has an extra column ? For example my table has (id, column1, column2) and I want to merge insert it ( aka a join operation on the id ) with a record batch that has the schema (id, column1, column2, column3). I want the resulting table (the new version) to have the schema (id, column1, column2, column3).</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1341092568657690688 class=chatlog__message-container data-message-id=1341092568657690688><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, February 17, 2025 12:03â€¯PM"> <a href=#chatlog__message-container-1341092568657690688>2/17/2025 12:03â€¯PM</a> </span></div></div></div><div id=chatlog__message-container-1341125905946251308 class=chatlog__message-container data-message-id=1341125905946251308><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, February 17, 2025 2:15â€¯PM"> <a href=#chatlog__message-container-1341125905946251308>2/17/2025 2:15â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1341812082508693636 class=chatlog__message-container data-message-id=1341812082508693636><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/799326054442991656/5a389c355da993254e6dc519cb2eb935.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=adammic6202 data-user-id=799326054442991656>ADAM</span> <span class=chatlog__timestamp title="Wednesday, February 19, 2025 11:42â€¯AM"><a href=#chatlog__message-container-1341812082508693636>2/19/2025 11:42â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello, does using select dynamic in the scanner add a column to the database or increment versions ?</span> <span class=chatlog__edited-timestamp title="Wednesday, February 19, 2025 11:42â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1341818609466605676 class=chatlog__message-container data-message-id=1341818609466605676><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, February 19, 2025 12:08â€¯PM"> <a href=#chatlog__message-container-1341818609466605676>2/19/2025 12:08â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1343525213521842187 class=chatlog__message-container data-message-id=1343525213521842187><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/799326054442991656/5a389c355da993254e6dc519cb2eb935.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=adammic6202 data-user-id=799326054442991656>ADAM</span> <span class=chatlog__timestamp title="Monday, February 24, 2025 5:09â€¯AM"><a href=#chatlog__message-container-1343525213521842187>2/24/2025 5:09â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello. Is there a way to do order by on scanned data ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1343633951901614087 class=chatlog__message-container data-message-id=1343633951901614087><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, February 24, 2025 12:21â€¯PM"> <a href=#chatlog__message-container-1343633951901614087>2/24/2025 12:21â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1359272848119693525 class=chatlog__message-container data-message-id=1359272848119693525><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/794798768914563093/dfc8426ca46def2a40511da8d647dc83.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=kpw10 data-user-id=794798768914563093>kpw</span> <span class=chatlog__timestamp title="Tuesday, April 8, 2025 5:05â€¯PM"><a href=#chatlog__message-container-1359272848119693525>4/8/2025 5:05â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;m running into a bug where I&#39;m able to create/load data into an object store backed lancedb, but when I re-open the table I get this &quot;LanceError(IO): Generic S3 error: Error performing list request: Client error with status 404 &quot;  <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">/lance-io/src/object_store.rs:618:22</code> 

The same code appears to work with local file stores and lancedb cloud. I&#39;m currently using R2 as the backend storage platform and am curious if there might be a new incompatibility with R2. I also noticed that there was a recent change to the lance object store list directory code for something related to GCP compatibility? I&#39;m in the process of testing on other back ends but would welcome thoughts on how to diagnose</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1359555391804936477 class=chatlog__message-container data-message-id=1359555391804936477><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, April 9, 2025 11:47â€¯AM"> <a href=#chatlog__message-container-1359555391804936477>4/9/2025 11:47â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1360045824939131030 class=chatlog__message-container data-message-id=1360045824939131030><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=crantsw7332 data-user-id=287406525603905536>Crantsw</span> <span class=chatlog__timestamp title="Thursday, April 10, 2025 8:16â€¯PM"><a href=#chatlog__message-container-1360045824939131030>4/10/2025 8:16â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello Everyone</span></div></div></div></div><div id=chatlog__message-container-1360046740186730598 class=chatlog__message-container data-message-id=1360046740186730598><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, April 10, 2025 8:20â€¯PM">8:20â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I am facing some problem with lancedb, I am trying to make a full_text_search and get the record batch and transform into json, but neither arrow_json or serde_arrow works because RecordBatch from full_text_search method came from arrow_json::RecordBatch and those ones needs the arrow::RecordBatch so it is a type mismatch, how can I transform it ? 

this is my code: 

 let mut result_batch = tbl // &#39;reader&#39; now holds the type &#39;impl RecordBatchReader&#39;
        .query()
        .full_text_search(FullTextSearchQuery::new(json_body.query))
        .execute()
        .await?;


and its is my cargo.toml:

[dependencies]
lambda_http = { version = &quot;0.14.0&quot;, optional = true }
lambda_runtime = { version = &quot;0.13.0&quot;, optional = true }
tokio = { version = &quot;1&quot;, features = [&quot;macros&quot;] }
tracing = { version = &quot;0.1&quot;, features = [&quot;log&quot;] }
tracing-subscriber = { version = &quot;0.3&quot;, default-features = false, features = [&quot;fmt&quot;] }
lancedb = { version = &quot;0.18.2&quot;, features = [&quot;default&quot;]}
arrow = {version = &quot;53.4.1&quot;, features = [&quot;force_validate&quot;, &quot;arrow-json&quot;, &quot;prettyprint&quot;]}
arrow-schema =  {version = &quot;53.4.1&quot;, features = [&quot;serde&quot;] }
futures = &quot;0.3.31&quot;
serde = { version = &quot;1.0.219&quot;, features = [&quot;derive&quot;] }
serde_json = &quot;1.0.140&quot;
serde_arrow = { version = &quot;0.13.1&quot; , features = [&quot;arrow-53&quot;]}
log = &quot;0.4.27&quot;</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1360167521709457539 class=chatlog__message-container data-message-id=1360167521709457539><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=crantsw7332 data-user-id=287406525603905536>Crantsw</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, April 11, 2025 4:20â€¯AM"> <a href=#chatlog__message-container-1360167521709457539>4/11/2025 4:20â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1361360327068880906 class=chatlog__message-container data-message-id=1361360327068880906><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/561383612843556895/8b0edbb85ccf9a21919a6a43db358236.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=eileennoonan data-user-id=561383612843556895>â¿» eileen</span> <span class=chatlog__timestamp title="Monday, April 14, 2025 11:19â€¯AM"><a href=#chatlog__message-container-1361360327068880906>4/14/2025 11:19â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello hello! 

I&#39;m working on an Elixir client to connect to LanceDB via <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Rustler</code> (Elixir&#39;s <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">NAPI-rs</code>). 

Step one, and the thing I want to have absolutely rock-solid before I move on to any other feature, is just to manage lance connection pools (both dbs and table) and share them across the Rust runtime to the BEAM (Elixir&#39;s runtime - Bogdan/Bj&#246;rn&#39;s Erlang Abstract Machine). 

I&#39;ve done some exploratory coding using  <a href="https://docs.rs/mobc/latest/mobc/"><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">mobc</code></a> to manage connections, and I was thinking of using something like <a href="https://docs.rs/dashmap/latest/dashmap/"><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">DashMap</code></a> to map each connection to a unique <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">conn_id</code>  which would basically act as a pointer between Rust and the BEAM. 

Where I&#39;m unclear is in how to make that connection pool into a persistent long running process. From where I sit now, it seems like I will need a separate long-running <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lancedb_pool</code> application to manage pools and provide the durable bridge between LanceDB and the BEAM or any other external system. 

Does that approach seem sound, from the LanceDB / Rust perspective? 
Are there any examples out there for managing persistent LanceDB connection pools in this way? 

---

Also, Claude tried to tell me I could do something like this:

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-rust">lazy_static! {
    static ref GLOBAL_POOL: Arc&lt;Mutex&lt;ResourcePool&gt;&gt; = Arc::new(Mutex::new(ResourcePool::new()));
}</code>
That looks much easier and feels very, very wrong. But I&#39;m just not versed enough yet in Rust to really <em>know</em>.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1361375077819744504 class=chatlog__message-container data-message-id=1361375077819744504><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, April 14, 2025 12:18â€¯PM"> <a href=#chatlog__message-container-1361375077819744504>4/14/2025 12:18â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1361459721860812884 class=chatlog__message-container data-message-id=1361459721860812884><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/561383612843556895/8b0edbb85ccf9a21919a6a43db358236.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=eileennoonan data-user-id=561383612843556895>â¿» eileen</span> <span class=chatlog__timestamp title="Monday, April 14, 2025 5:54â€¯PM"><a href=#chatlog__message-container-1361459721860812884>4/14/2025 5:54â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-rust">use lancedb::{connection::ConnectRequest, database::listing::ListingDatabase, Result};
use rustler::{Encoder, Env, ResourceArc, Term};
use std::{
    collections::HashMap,
    result::Result::{Err, Ok},
    sync::{Arc, Mutex},
};

#[derive(Debug, Clone)]
struct DBResource(Arc&lt;Mutex&lt;ListingDatabase&gt;&gt;);

#[rustler::nif]
fn connect(uri: String) -&gt; ResourceArc&lt;DBResource&gt; {
    return get_connection(uri).unwrap().into();
}

fn get_connection(uri: String) -&gt; Result&lt;DBResource&gt; {
    let runtime = tokio::runtime::Runtime::new().unwrap();
    return runtime.block_on(async {
        let request = ConnectRequest {
            uri: uri.to_string(),
            read_consistency_interval: None,
            options: HashMap::new(),
        };
        let db = ListingDatabase::connect_with_options(&amp;request).await?;
        let resource = DBResource(Arc::new(Mutex::new(db)));
        return Ok(resource);
    });
}</code>

My goal is to create an Elixir client for LanceDB using Rustler, Elixir&#39;s <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">NAPI-rs</code>. Does the above look like a sane approach for returning a DB connection from rust? (I&#39;ve omitted some Rustler wiring). 

I&#39;m using Tokio to make it sync, because Rustler doesn&#39;t play well with async. I&#39;m also going directly for the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">ListingDatabase</code> since that explicitly implements <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">RefUnwindSafe</code>, which Rustler requires in order to provide safety guarantees  for Elixir&#39;s VM. I&#39;ll add the ability to pass in options etc later. 

My elixir test passes, which is quite a thrill for me:

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-elixir">  test &quot;it returns a connection reference&quot; do
    assert Native.connect(&quot;./data&quot;) |&gt; is_reference
  end</code></span> <span class=chatlog__edited-timestamp title="Monday, April 14, 2025 6:27â€¯PM">(edited)</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=partying_face><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ¥³ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f973.svg loading=lazy> <span class=chatlog__reaction-count>2</span></div><div class=chatlog__reaction title=fire><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ”¥ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg loading=lazy> <span class=chatlog__reaction-count>2</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1361664892092022895 class=chatlog__message-container data-message-id=1361664892092022895><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/561383612843556895/8b0edbb85ccf9a21919a6a43db358236.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=eileennoonan data-user-id=561383612843556895>â¿» eileen</span> <span class=chatlog__timestamp title="Tuesday, April 15, 2025 7:30â€¯AM"><a href=#chatlog__message-container-1361664892092022895>4/15/2025 7:30â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is running all my BEAM workers through a single Mutex (per database, per table) likely to cause any noteworthy bottlenecks?

Someone on a Rustler forum is arguing it will. ChatGPT says I&#39;d probably need to be hitting insane workloads before &quot;saturating&quot; the Mutex. But I am considering this discord to be the source of truth!

Edit:
Looks like RwLock could be a major easy win</span> <span class=chatlog__edited-timestamp title="Tuesday, April 15, 2025 8:52â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1361688622167887937 class=chatlog__message-container data-message-id=1361688622167887937><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, April 15, 2025 9:04â€¯AM"> <a href=#chatlog__message-container-1361688622167887937>4/15/2025 9:04â€¯AM</a> </span></div></div></div><div id=chatlog__message-container-1361689687701328148 class=chatlog__message-container data-message-id=1361689687701328148><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, April 15, 2025 9:08â€¯AM"> <a href=#chatlog__message-container-1361689687701328148>4/15/2025 9:08â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1361810038548594818 class=chatlog__message-container data-message-id=1361810038548594818><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/561383612843556895/8b0edbb85ccf9a21919a6a43db358236.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=eileennoonan data-user-id=561383612843556895>â¿» eileen</span> <span class=chatlog__timestamp title="Tuesday, April 15, 2025 5:06â€¯PM"><a href=#chatlog__message-container-1361810038548594818>4/15/2025 5:06â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Welcome to the BEAM, Lance! We have contact <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸš€"
    title="rocket"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f680.svg">

We can now share a db connection between Rust and the BEAM, send it back to Rust, retrieve db metadata via <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">list_tables</code>, and send that back to the BEAM. Here&#39;s where I&#39;ve landed after some extremely helpful feedback from <span class="chatlog__markdown-mention" title="wpace">@WestonPace</span>: 

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-rust">use lancedb::Connection;
use once_cell::sync::OnceCell;
use rustler::{Env, ResourceArc, Term};
use std::{
    result::Result::{Err, Ok},
    sync::{Arc, Mutex},
};
use tokio::runtime::{Builder, Runtime};

static RUNTIME: OnceCell&lt;Runtime&gt; = OnceCell::new();

fn get_runtime() -&gt; &amp;&#39;static Runtime {
    RUNTIME.get_or_init(|| {
        Builder::new_current_thread()
            .enable_all()
            .build()
            .expect(&quot;Failed to create ElixirLanceDB runtime&quot;)
    })
}

struct DbConnResource(Arc&lt;Mutex&lt;Connection&gt;&gt;);

#[rustler::nif(schedule = &quot;DirtyCpu&quot;)]
fn connect(uri: String) -&gt; ResourceArc&lt;DbConnResource&gt; {
    let conn = get_runtime()
        .block_on(async { lancedb::connect(&amp;uri).execute().await })
        .unwrap();
    ResourceArc::new(DbConnResource(Arc::new(Mutex::new(conn))))
}

#[rustler::nif(schedule = &quot;DirtyCpu&quot;)]
fn table_names(conn: ResourceArc&lt;DbConnResource&gt;) -&gt; Vec&lt;String&gt; {
    let conn = db_conn(conn);
    return get_runtime().block_on(async { conn.table_names().execute().await.unwrap() });
}

fn db_conn(conn_resource: ResourceArc&lt;DbConnResource&gt;) -&gt; Connection {
    let connection;
    {
        connection = conn_resource.0.lock().unwrap().clone();
    }
    connection
}</code>

Unless anyone spots anything glaring, I&#39;m feeling like this is the solid base I wanted re: Connections, and now I can move on to the long slog of mostly writing encoders/decoders.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=fire><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ”¥ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div><div class=chatlog__reaction title=star_struck><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ¤© src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f929.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1362428985752944691 class=chatlog__message-container data-message-id=1362428985752944691><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/561383612843556895/8b0edbb85ccf9a21919a6a43db358236.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=eileennoonan data-user-id=561383612843556895>â¿» eileen</span> <span class=chatlog__timestamp title="Thursday, April 17, 2025 10:06â€¯AM"><a href=#chatlog__message-container-1362428985752944691>4/17/2025 10:06â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Update: I still have a lot to learn with regards to serializing/deserializing data from BEAM to Arrow. BEAM doesn&#39;t natively support Arrow so my goal is just to have a single serialization boundary for any given operation. There are a lot of options, and Elixir Explorer (part of NX - dataframes built on Polars) provides an example, so I&#39;m looking into that and other things. 

But it&#39;s a little overwhelming! I&#39;m only now starting to appreciate the full scope of Arrow, and the book is in the mail. In the meantime any thoughts, tips or tricks would be greatly appreciated â¤ï¸</span> <span class=chatlog__edited-timestamp title="Thursday, April 17, 2025 10:08â€¯AM">(edited)</span></div></div></div></div><div id=chatlog__message-container-1362429996303384646 class=chatlog__message-container data-message-id=1362429996303384646><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, April 17, 2025 10:10â€¯AM">10:10â€¯AM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Ideally I&#39;ll have a function that converts Elixir structs into an Arrow friendly format, converts it to a binary, and streams it. I <em>believe</em> that means I&#39;m looking at some kind of IPC stream</span> <span class=chatlog__edited-timestamp title="Thursday, April 17, 2025 10:10â€¯AM">(edited)</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=fire><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ”¥ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1362539889584898073 class=chatlog__message-container data-message-id=1362539889584898073><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, April 17, 2025 5:27â€¯PM"> <a href=#chatlog__message-container-1362539889584898073>4/17/2025 5:27â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1362635587915485266 class=chatlog__message-container data-message-id=1362635587915485266><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/561383612843556895/8b0edbb85ccf9a21919a6a43db358236.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=eileennoonan data-user-id=561383612843556895>â¿» eileen</span> <span class=chatlog__timestamp title="Thursday, April 17, 2025 11:47â€¯PM"><a href=#chatlog__message-container-1362635587915485266>4/17/2025 11:47â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;m now putting data into lance and reading data out of lance from the BEAM! 

For me this means the big hurdle of serializing between row and columnar formats is basically cracked. Conceptually it&#39;s not all that hard, but doing it in <em>Rust</em> has been ... youch. Harsh mistress, for me. I kept thinking there would be a library to do some of this stuff without just having to brute force manually iterate and match on things. Builders on builders. 

Anyway It should be going in O(n) time and I&#39;ll just say I got emotional seeing that test pass. 

And I&#39;m sure there are vast efficiencies to be gained,  and I&#39;m not supporting very many field types yet, and yada yada yada.  But honestly I&#39;m just stoked, and also very tired. 

<a href="https://github.com/enoonan/elixir_lancedb">https://github.com/enoonan/elixir_lancedb</a></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=clap><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44f.svg loading=lazy> <span class=chatlog__reaction-count>4</span></div><div class=chatlog__reaction title=fire><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ”¥ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div><div class=chatlog__reaction title=raised_hands><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ™Œ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64c.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1363957621480095894 class=chatlog__message-container data-message-id=1363957621480095894><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/561383612843556895/8b0edbb85ccf9a21919a6a43db358236.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=eileennoonan data-user-id=561383612843556895>â¿» eileen</span> <span class=chatlog__timestamp title="Monday, April 21, 2025 3:20â€¯PM"><a href=#chatlog__message-container-1363957621480095894>4/21/2025 3:20â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Could someone give me a sanity check on this approach? 

The ergonomics of passing builders back and forth from Rust to the BEAM don&#39;t make a ton of sense to me, so I&#39;m passing config structs into Rust, which are then used to construct the builder: 

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-rust">// table.rs
pub struct UpdateConfig {
    pub filter: Option&lt;String&gt;,
    pub columns: Vec&lt;ColumnOperation&gt;,
}

pub struct ColumnOperation {
    pub column: String,
    pub operation: String,
}

pub fn update(table: ResourceArc&lt;TableResource&gt;, update_config: UpdateConfig) -&gt; Result&lt;u64&gt; {
    let table = table_conn(table);
    let result = get_runtime().block_on(async {
        let mut update = table.update();

        update = match update_config.filter {
            Some(filter) =&gt; update.only_if(filter),
            None =&gt; update,
        };

        let update = update_config.columns.iter().fold(update, |update_acc, op| {
            update_acc.column(&amp;op.column, &amp;op.operation)
        });

        let num_rows_affected = update.execute().await?;

        Ok::&lt;u64, Error&gt;(num_rows_affected)
    })?;

    Ok(result)
}</code>

This gives me a lot of flexibility on the Elixir side in terms of what affordances I want to provide to allow users to construct the config struct, which I&#39;d like to have mimic the LanceDB API as closely as possible. 

Mostly I just want to make sure - are there any pitfalls I&#39;m not seeing? Am I locking myself into any LanceDB APIs that are likely to change in the near future?</span> <span class=chatlog__edited-timestamp title="Monday, April 21, 2025 3:22â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1363965326760607769 class=chatlog__message-container data-message-id=1363965326760607769><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, April 21, 2025 3:51â€¯PM"> <a href=#chatlog__message-container-1363965326760607769>4/21/2025 3:51â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1365430887017349243 class=chatlog__message-container data-message-id=1365430887017349243><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/561383612843556895/8b0edbb85ccf9a21919a6a43db358236.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=eileennoonan data-user-id=561383612843556895>â¿» eileen</span> <span class=chatlog__timestamp title="Friday, April 25, 2025 4:54â€¯PM"><a href=#chatlog__message-container-1365430887017349243>4/25/2025 4:54â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Quick question. 

Looking at the function signature for table::add_columns

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-rust">pub async fn add_columns(
    &amp;self,
    transforms: NewColumnTransform,
    read_columns: Option&lt;Vec&lt;String&gt;&gt;,
) -&gt; Result&lt;()&gt;</code>

What is <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">read_columns</code>?</span></div></div></div></div><div id=chatlog__message-container-1365431092345049179 class=chatlog__message-container data-message-id=1365431092345049179><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, April 25, 2025 4:55â€¯PM">4:55â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Trying to dig through the github but I keep striking out</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1365434930431131759 class=chatlog__message-container data-message-id=1365434930431131759><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, April 25, 2025 5:10â€¯PM"> <a href=#chatlog__message-container-1365434930431131759>4/25/2025 5:10â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1365699458263810060 class=chatlog__message-container data-message-id=1365699458263810060><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/561383612843556895/8b0edbb85ccf9a21919a6a43db358236.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=eileennoonan data-user-id=561383612843556895>â¿» eileen</span> <span class=chatlog__timestamp title="Saturday, April 26, 2025 10:42â€¯AM"><a href=#chatlog__message-container-1365699458263810060>4/26/2025 10:42â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>If I&#39;m sharing an Arc reference to a database connection / open table reference between Rust and Elixir, is there a proper way to &quot;disconnect&quot; or &quot;close&quot; the connection, on the Rust side?</span> <span class=chatlog__edited-timestamp title="Saturday, April 26, 2025 10:54â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1365713676077760657 class=chatlog__message-container data-message-id=1365713676077760657><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Saturday, April 26, 2025 11:38â€¯AM"> <a href=#chatlog__message-container-1365713676077760657>4/26/2025 11:38â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1367257691411447938 class=chatlog__message-container data-message-id=1367257691411447938><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/561383612843556895/8b0edbb85ccf9a21919a6a43db358236.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=eileennoonan data-user-id=561383612843556895>â¿» eileen</span> <span class=chatlog__timestamp title="Wednesday, April 30, 2025 5:53â€¯PM"><a href=#chatlog__message-container-1367257691411447938>4/30/2025 5:53â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Question about managing persistent open table connections!

In my Elixir lance client, I have a function that calls &quot;open_table&quot; and returns a re-usable reference to the table to avoid the overhead of needing to open/close tables on every request. 

It works great until I start using connection pooling. 

Earlier today I started hitting a problem where, with a particular connection pool, updating a record would have no effect. 

I didn&#39;t actually run into this issue until I started running a separate connection pool for mutations vs read/appends. 

Just now, in my console I manually ran an update directly (i.e. with no pool) to verify that it still works that way. It does. 

Then I tried running a similar update (same field, same record, different value) via a worker checked out from the connection pool, and I got an error: <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Commit conflict for version...Please rerun the operation off the latest version of the table.</code>  Updating a <em>different</em> record via that worker seems fine. 

So this is definitely something I need to wrap my head around in order to know how to handle this correctly.  

As I understand it, updates create new table versions. So the update I ran <em>directly</em> would have created a new version of the table, while the Worker would still be holding a reference to a stale / conflicted version.

What do I need to know about tables and versions in order to be able to manage a pool of open table connections? 

Is the overhead of &quot;opening&quot; a table worth hanging on to a reference that can get stale? 

Is there a computationally super cheap way to check out the latest version of the table? The table connection is already run through a mutex for each request:

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-rust">fn table_conn(table: ResourceArc&lt;TableResource&gt;) -&gt; Result&lt;Table&gt; {
    let result;
    {
        result = table
            .0
            .lock()
            .expect(&quot;Fatal: failed acquiring table resource lock&quot;)
            .clone();
    }
    result.ok_or_else(...),
    })
}</code></span> <span class=chatlog__edited-timestamp title="Wednesday, April 30, 2025 6:10â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1367283837830172708 class=chatlog__message-container data-message-id=1367283837830172708><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, April 30, 2025 7:37â€¯PM"> <a href=#chatlog__message-container-1367283837830172708>4/30/2025 7:37â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1368216893072347167 class=chatlog__message-container data-message-id=1368216893072347167><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/561383612843556895/8b0edbb85ccf9a21919a6a43db358236.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=eileennoonan data-user-id=561383612843556895>â¿» eileen</span> <span class=chatlog__timestamp title="Saturday, May 3, 2025 9:25â€¯AM"><a href=#chatlog__message-container-1368216893072347167>5/3/2025 9:25â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Got this error the other day. I was doing a series of imports in my test env and tried running <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table.optimize</code> with the default &quot;All&quot; strategy in the middle of it, just to see what would happen. 

This happened!
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">&quot;LanceError(IO): External error: LanceError(Arrow): Invalid argument error: Attempt to merge two RecordBatch with different sizes: 8192 != 1075, /Users/eileen/.cargo/registry/src/index.</code>

I was planning to write some kind of process that would automatically optimize tables after X number of writes, etc. 

What should I know about optimizing tables to help prevent this? 

Also I&#39;m not 100% sure that running <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table.optimize</code> <em>during</em> the import actually <em>caused</em> the problem.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1368235656798666765 class=chatlog__message-container data-message-id=1368235656798666765><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Saturday, May 3, 2025 10:40â€¯AM"> <a href=#chatlog__message-container-1368235656798666765>5/3/2025 10:40â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1374404929682280481 class=chatlog__message-container data-message-id=1374404929682280481><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/569691375386492949/bd57241d26dc6bc619408a4891df0f68.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=haocheng001 data-user-id=569691375386492949>Haocheng Liu</span> <span class=chatlog__timestamp title="Tuesday, May 20, 2025 11:14â€¯AM"><a href=#chatlog__message-container-1374404929682280481>5/20/2025 11:14â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, I&#39;ve converted the first Python example <a href="https://lancedb.github.io/lance/examples/llm_dataset_creation.html">&quot;Creating text dataset for LLM training using Lance&quot;</a> to Rust at <a href="https://github.com/lancedb/lance/pull/3817">https://github.com/lancedb/lance/pull/3817</a>
Could folks pls review on the PR? New to Rust, so please comment hard <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸ™‚"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg">  cc <span class="chatlog__markdown-mention" title="wpace">@WestonPace</span> 
I now find a way to download the file, though not very elegant</span> <span class=chatlog__edited-timestamp title="Tuesday, May 20, 2025 3:14â€¯PM">(edited)</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=fire><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ”¥ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1377744168943620126 class=chatlog__message-container data-message-id=1377744168943620126><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=allengnirut_74712 data-user-id=1338262570917695610>AllenGnirut</span> <span class=chatlog__timestamp title="Thursday, May 29, 2025 4:23â€¯PM"><a href=#chatlog__message-container-1377744168943620126>5/29/2025 4:23â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey everybody... I&#39;m brand new here. I have a really dumb question... how do I serialize a struct using the rust sdk to insert it into a table? I know they said the docs for the rust sdk are on their way, but for now I can&#39;t find any examples and I&#39;ve been working with Rust for like a month, so I&#39;m far from an expert.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1377785183620567173 class=chatlog__message-container data-message-id=1377785183620567173><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, May 29, 2025 7:06â€¯PM"> <a href=#chatlog__message-container-1377785183620567173>5/29/2025 7:06â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1379139969645281381 class=chatlog__message-container data-message-id=1379139969645281381><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/569691375386492949/bd57241d26dc6bc619408a4891df0f68.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=haocheng001 data-user-id=569691375386492949>Haocheng Liu</span> <span class=chatlog__timestamp title="Monday, June 2, 2025 12:49â€¯PM"><a href=#chatlog__message-container-1379139969645281381>6/2/2025 12:49â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey, could anyone guide how <a href="https://github.com/lancedb/lance/blob/main/rust/lance/examples/hnsw.rs">hnsw.rs</a> should be used? 
I&#39;m thinking to extend this example by using the test data from <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">write_read_ds.rs</code> , right now it&#39;s expecting some kind of uri with existing data</span> <span class=chatlog__edited-timestamp title="Monday, June 2, 2025 2:09â€¯PM">(edited)</span></div></div></div></div><div id=chatlog__message-container-1379141325143670914 class=chatlog__message-container data-message-id=1379141325143670914><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Monday, June 2, 2025 12:55â€¯PM">12:55â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>ditto the <a href="https://github.com/lancedb/lance/blob/main/rust/lance/examples/ivf_hnsw.rs">ivf_hnsw.rs</a> file as well</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1379209075182800958 class=chatlog__message-container data-message-id=1379209075182800958><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, June 2, 2025 5:24â€¯PM"> <a href=#chatlog__message-container-1379209075182800958>6/2/2025 5:24â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1379545606430654584 class=chatlog__message-container data-message-id=1379545606430654584><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/569691375386492949/bd57241d26dc6bc619408a4891df0f68.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=haocheng001 data-user-id=569691375386492949>Haocheng Liu</span> <span class=chatlog__timestamp title="Tuesday, June 3, 2025 3:41â€¯PM"><a href=#chatlog__message-container-1379545606430654584>6/3/2025 3:41â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>one more newbie q: is there a CI pipeline/bot configured to build examples in lance by default? Could be wrong, my personal understanding is  that <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">cargo build</code> will not build examples by default</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1379561832452456683 class=chatlog__message-container data-message-id=1379561832452456683><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, June 3, 2025 4:46â€¯PM"> <a href=#chatlog__message-container-1379561832452456683>6/3/2025 4:46â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1386055202611920976 class=chatlog__message-container data-message-id=1386055202611920976><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675360990329831424/d1739d079f96af4b9b9dc38e78e38a68.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=__bjurk__ data-user-id=675360990329831424>b</span> <span class=chatlog__timestamp title="Saturday, June 21, 2025 2:48â€¯PM"><a href=#chatlog__message-container-1386055202611920976>6/21/2025 2:48â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello! I&#39;m a bit new to both LanceDB and Rust - I was trying to use it in my project but I&#39;m getting this error:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">error: no rules expected keyword `type`
    --&gt; /Users/.../.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/lance-table-0.30.0/src/io/deletion.rs:113:13
     |
113  |             info!(target: TRACE_FILE_AUDIT, mode=AUDIT_MODE_CREATE, type=AUDIT_TYPE_DELETION, path = path.to_string());
     |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ no rules expected this token in macro call</code>
maybe the version of Rust I&#39;m using (<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">rustc 1.87.0 (17067e9ac 2025-05-09)</code>) is a bit picker than what LanceDB expects?  Is this a known issue? (apologies if so, I haven&#39;t found mentions to it on Github)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1386067675515719785 class=chatlog__message-container data-message-id=1386067675515719785><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=__bjurk__ data-user-id=675360990329831424>b</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Saturday, June 21, 2025 3:38â€¯PM"> <a href=#chatlog__message-container-1386067675515719785>6/21/2025 3:38â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1388202916631937155 class=chatlog__message-container data-message-id=1388202916631937155><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/569691375386492949/bd57241d26dc6bc619408a4891df0f68.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=haocheng001 data-user-id=569691375386492949>Haocheng Liu</span> <span class=chatlog__timestamp title="Friday, June 27, 2025 1:02â€¯PM"><a href=#chatlog__message-container-1388202916631937155>6/27/2025 1:02â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, after this <a href="https://github.com/lancedb/lance/pull/4046">2.0 refactor PR</a>, could people confirm if the below understandings are correct:
<ul><li>things in <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">v2</code> folder are for 2.0. Legacy code.</li><li>things not in <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">v2</code> folder are the current HEAD, including v2.1 and all future changes</li><li>V1 does not have anything todo with the lance repo</li></ul></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1388260965501370412 class=chatlog__message-container data-message-id=1388260965501370412><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, June 27, 2025 4:53â€¯PM"> <a href=#chatlog__message-container-1388260965501370412>6/27/2025 4:53â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1388491490698727434 class=chatlog__message-container data-message-id=1388491490698727434><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=hzgood data-user-id=974148563980394496>hzgood</span> <span class=chatlog__timestamp title="Saturday, June 28, 2025 8:09â€¯AM"><a href=#chatlog__message-container-1388491490698727434>6/28/2025 8:09â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://github.com/lancedb/lancedb/discussions/2472">https://github.com/lancedb/lancedb/discussions/2472</a> need a help</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/discussions/2472><div class="chatlog__markdown chatlog__markdown-preserve">question about merge_insert with result error and Schema nonull com...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">there are two question 1.why getting with error result if use merge_insert // The speed of light is approximately 299,792 kilometers per second. 2.why get error &amp;quot;missing=[embeddings], unexpect...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/YfPdJY3JgT9v4_TMr9wNds_rm8MGiArMA03b_zsbyHE/https/opengraph.githubassets.com/8796b50d1aa92801895d715342fe03f237d7109d39fbf78c1b665ab78bdb64fe/lancedb/lancedb/discussions/2472> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/YfPdJY3JgT9v4_TMr9wNds_rm8MGiArMA03b_zsbyHE/https/opengraph.githubassets.com/8796b50d1aa92801895d715342fe03f237d7109d39fbf78c1b665ab78bdb64fe/lancedb/lancedb/discussions/2472 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1394334624997441673 class=chatlog__message-container data-message-id=1394334624997441673><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=xuanwo data-user-id=676283050434232365>Xuanwo</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, July 14, 2025 11:08â€¯AM"> <a href=#chatlog__message-container-1394334624997441673>7/14/2025 11:08â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1397277791598280855 class=chatlog__message-container data-message-id=1397277791598280855><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/569691375386492949/bd57241d26dc6bc619408a4891df0f68.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=haocheng001 data-user-id=569691375386492949>Haocheng Liu</span> <span class=chatlog__timestamp title="Tuesday, July 22, 2025 2:03â€¯PM"><a href=#chatlog__message-container-1397277791598280855>7/22/2025 2:03â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, currently <a href="https://github.com/lancedb/lance/blob/main/rust/lance-index/src/scalar.rs#L324">SargableQuery</a> is used by Btree/Bitmap which are all <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">exact</code> filters. Though ZoneMap uses SargableQuery as well, but its inexact. Say I extend the AnyQuery Trait for SargableQuery with a new **needs_recheck(...)` function, how could i differentiate these two kinds of filters?</span> <span class=chatlog__edited-timestamp title="Tuesday, July 22, 2025 2:03â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1397636860263665675 class=chatlog__message-container data-message-id=1397636860263665675><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1063464816532008990/e2216b02e03ed0d2c47eca4b7fb03a27.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jleibs.rerun data-user-id=1063464816532008990>jleibs</span> <span class=chatlog__timestamp title="Wednesday, July 23, 2025 1:49â€¯PM"><a href=#chatlog__message-container-1397636860263665675>7/23/2025 1:49â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We&#39;ve recently been running into issues with exhausting available memory when running <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">create_index</code> (for <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">IVF_PQ</code>).

It seems the memory usage is linearly dependent upon some combination of vector-dimension, number of rows, and the index params, though the exact nature of the relationship isn&#39;t totally clear..

I&#39;ve been looking a bit but haven&#39;t found any obvious knobs for breaking apart index creation into multiple stages or otherwise limiting the maximum memory usage -- is there a recommendation for how to handle cases of building indexes for particularly large datasets?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1397648165469163525 class=chatlog__message-container data-message-id=1397648165469163525><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, July 23, 2025 2:34â€¯PM"> <a href=#chatlog__message-container-1397648165469163525>7/23/2025 2:34â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1401969702468714506 class=chatlog__message-container data-message-id=1401969702468714506><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/569691375386492949/bd57241d26dc6bc619408a4891df0f68.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=haocheng001 data-user-id=569691375386492949>Haocheng Liu</span> <span class=chatlog__timestamp title="Monday, August 4, 2025 12:47â€¯PM"><a href=#chatlog__message-container-1401969702468714506>8/4/2025 12:47â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, did anything change related to aws credentials crate? I recently rebased my branch on main, both my branch foo and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">main</code> are failing with below error on mac with a vanilla build. Cargo  update does not help as well
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">error[E0609]: no field `aws_credentials` on type `&amp;ObjectStoreParams`
   --&gt; rust/lance-io/src/object_store.rs:250:21
    |
250 |             &amp;&amp; self.aws_credentials.as_ref().map(Arc::as_ptr)
    |                     ^^^^^^^^^^^^^^^ unknown field
    |
    = note: available fields are: `block_size`, `object_store`, `s3_credentials_refresh_offset`, `object_store_wrapper`, `storage_options` ... and 2 others

error[E0609]: no field `aws_credentials` on type `&amp;ObjectStoreParams`
   --&gt; rust/lance-io/src/object_store.rs:251:26
    |
251 |                 == other.aws_credentials.as_ref().map(Arc::as_ptr)
    |                          ^^^^^^^^^^^^^^^ unknown field
    |
    = note: available fields are: `block_size`, `object_store`, `s3_credentials_refresh_offset`, `object_store_wrapper`, `storage_options` ... and 2 others</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1402083232907788390 class=chatlog__message-container data-message-id=1402083232907788390><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/569691375386492949/bd57241d26dc6bc619408a4891df0f68.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=haocheng001>Haocheng Liu</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1401969702468714506')"> Hi, did anything change related to aws credentials crate? I recently rebased my branch on main, both my branch foo and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">main</code> are failing with below error on mac with a vanilla build. Cargo  update does not help as well
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">error[E0609]: no field `aws_credentials` on type `&amp;ObjectStoreParams`
   --&gt; rust/lance-io/src/object_store.rs:250:21
    |
250 |             &amp;&amp; self.aws_credentials.as_ref().map(Arc::as_ptr)
    |                     ^^^^^^^^^^^^^^^ unknown field
    |
    = note: available fields are: `block_size`, `object_store`, `s3_credentials_refresh_offset`, `object_store_wrapper`, `storage_options` ... and 2 others

error[E0609]: no field `aws_credentials` on type `&amp;ObjectStoreParams`
   --&gt; rust/lance-io/src/object_store.rs:251:26
    |
251 |                 == other.aws_credentials.as_ref().map(Arc::as_ptr)
    |                          ^^^^^^^^^^^^^^^ unknown field
    |
    = note: available fields are: `block_size`, `object_store`, `s3_credentials_refresh_offset`, `object_store_wrapper`, `storage_options` ... and 2 others</code> </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wyatt.alt data-user-id=1331668878178127883>wkalt</span> <span class=chatlog__timestamp title="Monday, August 4, 2025 8:18â€¯PM"><a href=#chatlog__message-container-1402083232907788390>8/4/2025 8:18â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>that looks like a bug to me. How recent was your old code? The type definition is here: <a href="https://github.com/lancedb/lance/blame/main/rust/lance-io/src/object_store.rs#L177">https://github.com/lancedb/lance/blame/main/rust/lance-io/src/object_store.rs#L177</a>, and your error is here: <a href="https://github.com/lancedb/lance/blame/main/rust/lance-io/src/object_store.rs#L250">https://github.com/lancedb/lance/blame/main/rust/lance-io/src/object_store.rs#L250</a>. ISTM that you probably don&#39;t have the &quot;aws&quot; feature enabled and the second link I posted may not account for that.</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/blame/main/rust/lance-io/src/object_store.rs><div class="chatlog__markdown chatlog__markdown-preserve">Blaming lance/rust/lance-io/src/object_store.rs at main &#183; lancedb/...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Modern columnar data format for ML and LLMs implemented in Rust. Convert from parquet in 2 lines of code for 100x faster random access, vector index, and data versioning. Compatible with Pandas, Du...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/W0Wou1jDWUgIcVdhBkndiFDIloOz2xqHhrG3h4a1TQE/https/opengraph.githubassets.com/8a422ca238a6e6f55f77f4c75e0e9e1e7687e29c32c0902a5e266f0184a86a21/lancedb/lance> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/W0Wou1jDWUgIcVdhBkndiFDIloOz2xqHhrG3h4a1TQE/https/opengraph.githubassets.com/8a422ca238a6e6f55f77f4c75e0e9e1e7687e29c32c0902a5e266f0184a86a21/lancedb/lance alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1402084908452810856 class=chatlog__message-container data-message-id=1402084908452810856><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/569691375386492949/bd57241d26dc6bc619408a4891df0f68.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=haocheng001>Haocheng Liu</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1401969702468714506')"> Hi, did anything change related to aws credentials crate? I recently rebased my branch on main, both my branch foo and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">main</code> are failing with below error on mac with a vanilla build. Cargo  update does not help as well
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">error[E0609]: no field `aws_credentials` on type `&amp;ObjectStoreParams`
   --&gt; rust/lance-io/src/object_store.rs:250:21
    |
250 |             &amp;&amp; self.aws_credentials.as_ref().map(Arc::as_ptr)
    |                     ^^^^^^^^^^^^^^^ unknown field
    |
    = note: available fields are: `block_size`, `object_store`, `s3_credentials_refresh_offset`, `object_store_wrapper`, `storage_options` ... and 2 others

error[E0609]: no field `aws_credentials` on type `&amp;ObjectStoreParams`
   --&gt; rust/lance-io/src/object_store.rs:251:26
    |
251 |                 == other.aws_credentials.as_ref().map(Arc::as_ptr)
    |                          ^^^^^^^^^^^^^^^ unknown field
    |
    = note: available fields are: `block_size`, `object_store`, `s3_credentials_refresh_offset`, `object_store_wrapper`, `storage_options` ... and 2 others</code> </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wyatt.alt data-user-id=1331668878178127883>wkalt</span> <span class=chatlog__timestamp title="Monday, August 4, 2025 8:24â€¯PM"><a href=#chatlog__message-container-1402084908452810856>8/4/2025 8:24â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="haocheng001">@Haocheng Liu</span> could you see if enabling the &quot;aws&quot; feature resolves the issue, and if so file an issue in the lance repo? Seems like we need better test coverage around this.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1402125275071905914 class=chatlog__message-container data-message-id=1402125275071905914><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/569691375386492949/bd57241d26dc6bc619408a4891df0f68.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wyatt.alt>wkalt</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1402084908452810856')"> <span class="chatlog__markdown-mention" title="haocheng001">@Haocheng Liu</span> could you see if enabling the &quot;aws&quot; feature resolves the issue, and if so file an issue in the lance repo? Seems like we need better test coverage around this. </span></div></div><div class=chatlog__header><span class=chatlog__author title=haocheng001 data-user-id=569691375386492949>Haocheng Liu</span> <span class=chatlog__timestamp title="Monday, August 4, 2025 11:05â€¯PM"><a href=#chatlog__message-container-1402125275071905914>8/4/2025 11:05â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>humm, I tried hard to reproduce what i saw earlier in the day, but no luck to reproduce it....
will report back if i have a MRE</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1402662734839156767 class=chatlog__message-container data-message-id=1402662734839156767><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/676283050434232365/a5f558238fbfa883db78b1d945f0d97e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=xuanwo data-user-id=676283050434232365>Xuanwo</span> <span class=chatlog__timestamp title="Wednesday, August 6, 2025 10:40â€¯AM"><a href=#chatlog__message-container-1402662734839156767>8/6/2025 10:40â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I remember that we have some changes on default features thing, maybe related: <a href="https://github.com/lancedb/lance/pull/4362">https://github.com/lancedb/lance/pull/4362</a></span> <span class=chatlog__edited-timestamp title="Wednesday, August 6, 2025 10:41â€¯AM">(edited)</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/pull/4362><div class="chatlog__markdown chatlog__markdown-preserve">fix: make sure cloud features aren&#39;t implicitly enabled (lancedb/la...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">lance-io includes cloud features and critical types/methods that sibling libraries need without strictly needing cloud features. Make sure that lance-io is depended on by default without the defaul...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/Lg0BgtTm0HuDXkaBhb5nhA4vtMExSRj4A077lvKBUrQ/https/opengraph.githubassets.com/9ba5fad7a6b279717155663b43724347c8fc39dba0d428a1acdb6d0e6e6a6efb/lancedb/lance/pull/4362> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/Lg0BgtTm0HuDXkaBhb5nhA4vtMExSRj4A077lvKBUrQ/https/opengraph.githubassets.com/9ba5fad7a6b279717155663b43724347c8fc39dba0d428a1acdb6d0e6e6a6efb/lancedb/lance/pull/4362 alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1402727242588754016 class=chatlog__message-container data-message-id=1402727242588754016><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=haocheng001 data-user-id=569691375386492949>Haocheng Liu</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, August 6, 2025 2:57â€¯PM"> <a href=#chatlog__message-container-1402727242588754016>8/6/2025 2:57â€¯PM</a> </span></div></div></div><div id=chatlog__message-container-1404484583688507623 class=chatlog__message-container data-message-id=1404484583688507623><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=haocheng001 data-user-id=569691375386492949>Haocheng Liu</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, August 11, 2025 11:20â€¯AM"> <a href=#chatlog__message-container-1404484583688507623>8/11/2025 11:20â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1404517036587225158 class=chatlog__message-container data-message-id=1404517036587225158><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/569691375386492949/bd57241d26dc6bc619408a4891df0f68.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=haocheng001 data-user-id=569691375386492949>Haocheng Liu</span> <span class=chatlog__timestamp title="Monday, August 11, 2025 1:29â€¯PM"><a href=#chatlog__message-container-1404517036587225158>8/11/2025 1:29â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hi, can anyone guide how rust benchmark is monitored once it&#39;s added? is there a determined way to detect abnormalities</span> <span class=chatlog__edited-timestamp title="Monday, August 11, 2025 1:29â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1404575321788780548 class=chatlog__message-container data-message-id=1404575321788780548><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, August 11, 2025 5:20â€¯PM"> <a href=#chatlog__message-container-1404575321788780548>8/11/2025 5:20â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1407846802228514816 class=chatlog__message-container data-message-id=1407846802228514816><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1258076097518637086/e1cbeccc9514a58846ce38d5c841bd94.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=order_5 data-user-id=1258076097518637086>! Order</span> <span class=chatlog__timestamp title="Wednesday, August 20, 2025 6:00â€¯PM"><a href=#chatlog__message-container-1407846802228514816>8/20/2025 6:00â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is there anyone looking gof RUST dev?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1411997536373178408 class=chatlog__message-container data-message-id=1411997536373178408><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1282715955453231125/94d02c31aa49042ab3cdc99f249ccfb6.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=riddler0016 data-user-id=1282715955453231125>Riddler</span> <span class=chatlog__timestamp title="Monday, September 1, 2025 4:54â€¯AM"><a href=#chatlog__message-container-1411997536373178408>9/1/2025 4:54â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi there, I&#39;m wondering how to perform queries on multivector data structures in Rust. Could someone point me in the right direction?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1412467862211137570 class=chatlog__message-container data-message-id=1412467862211137570><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=xuanwo data-user-id=676283050434232365>Xuanwo</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, September 2, 2025 12:03â€¯PM"> <a href=#chatlog__message-container-1412467862211137570>9/2/2025 12:03â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1434710529317933086 class=chatlog__message-container data-message-id=1434710529317933086><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/569691375386492949/bd57241d26dc6bc619408a4891df0f68.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=haocheng001 data-user-id=569691375386492949>Haocheng Liu</span> <span class=chatlog__timestamp title="Sunday, November 2, 2025 8:07â€¯PM"><a href=#chatlog__message-container-1434710529317933086>11/2/2025 8:07â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Run across a new compression library <a href="https://github.com/facebook/openzl">openzl</a> from Meta which is claimed to be the official successor to ZSTD
based on the <a href="https://engineering.fb.com/2025/10/06/developer-tools/openzl-open-source-format-aware-compression-framework/">blog</a> it&#39;s better than zstd and xz. Since it support C, i think it&#39;s easily rust extensible in the future</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=fire><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ”¥ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg loading=lazy> <span class=chatlog__reaction-count>2</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1435105166729941055 class=chatlog__message-container data-message-id=1435105166729941055><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, November 3, 2025 10:15â€¯PM"> <a href=#chatlog__message-container-1435105166729941055>11/3/2025 10:15â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1437875432874835978 class=chatlog__message-container data-message-id=1437875432874835978><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/569691375386492949/bd57241d26dc6bc619408a4891df0f68.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=haocheng001 data-user-id=569691375386492949>Haocheng Liu</span> <span class=chatlog__timestamp title="Tuesday, November 11, 2025 1:43â€¯PM"><a href=#chatlog__message-container-1437875432874835978>11/11/2025 1:43â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Given a newly introduced scalar index, when is it considered stable? Asking cuz I want to change the underlying type for some serialized data for better readability. Dont want to break old behaviors if there is any committment/ship is already sailed</span> <span class=chatlog__edited-timestamp title="Tuesday, November 11, 2025 8:29â€¯PM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1437975422116696145 class=chatlog__message-container data-message-id=1437975422116696145><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=haocheng001 data-user-id=569691375386492949>Haocheng Liu</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, November 11, 2025 8:20â€¯PM"> <a href=#chatlog__message-container-1437975422116696145>11/11/2025 8:20â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1441883091047022632 class=chatlog__message-container data-message-id=1441883091047022632><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/614626571676024892/4f27dd8ba9cb4b593ed4e334bf532d6c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jeremychone data-user-id=614626571676024892>jeremychone</span> <span class=chatlog__timestamp title="Saturday, November 22, 2025 3:08â€¯PM"><a href=#chatlog__message-container-1441883091047022632>11/22/2025 3:08â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Noob question: In the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lance</code> crate README, it says, <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Lance format is optimized to be cloud native.</code> 

What does that mean? 

Is that related to S3-type storage where we typically stream sequentially? 

How does that relate if I store the data locally?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1441886853950214247 class=chatlog__message-container data-message-id=1441886853950214247><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Saturday, November 22, 2025 3:23â€¯PM"> <a href=#chatlog__message-container-1441886853950214247>11/22/2025 3:23â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1442313134424592545 class=chatlog__message-container data-message-id=1442313134424592545><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/614626571676024892/4f27dd8ba9cb4b593ed4e334bf532d6c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jeremychone data-user-id=614626571676024892>jeremychone</span> <span class=chatlog__timestamp title="Sunday, November 23, 2025 7:37â€¯PM"><a href=#chatlog__message-container-1442313134424592545>11/23/2025 7:37â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Another noob question, about lance v.s lanceDB&gt; 

I have a local app (a CLI app), and I want to have a embedded vector DB to store vectors and search.

Should I use <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lance</code> or <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lancedb</code> or something else?

<div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">NOTE: I store the text in files or SQLite, and I am happy with that approach. I just want to store the vectors in a local file or files and be able to search fast from my Rust binary, like an embedded VectorDB.</div></div></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1442509242325008568 class=chatlog__message-container data-message-id=1442509242325008568><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, November 24, 2025 8:36â€¯AM"> <a href=#chatlog__message-container-1442509242325008568>11/24/2025 8:36â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1443969494224605194 class=chatlog__message-container data-message-id=1443969494224605194><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/195643605598208000/f2da56abb16a762baa422626699224b1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=valkum data-user-id=195643605598208000>Valkum</span> <span class=chatlog__timestamp title="Friday, November 28, 2025 9:19â€¯AM"><a href=#chatlog__message-container-1443969494224605194>11/28/2025 9:19â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>If I want to delete a large amount of rows, is there a better way than constructing a large predicate string for <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Table::delete</code>? I guess I could use merge_insert for this, but I already do a FullJoin to get added, updated, and deleted sets of rows to be able to calculate embeddings lazily for added rows only. I want to avoid doing two FullJoins.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1443972090142130301 class=chatlog__message-container data-message-id=1443972090142130301><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=valkum data-user-id=195643605598208000>Valkum</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, November 28, 2025 9:29â€¯AM"> <a href=#chatlog__message-container-1443972090142130301>11/28/2025 9:29â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1450520778121416888 class=chatlog__message-container data-message-id=1450520778121416888><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/728637739565842516/cd9427b760c8536b23dda682c2e7079a.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=youssef_tharwat data-user-id=728637739565842516>Youssef</span> <span class=chatlog__timestamp title="Tuesday, December 16, 2025 11:11â€¯AM"><a href=#chatlog__message-container-1450520778121416888>12/16/2025 11:11â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Lets gooo <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸš€"
    title="rocket"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f680.svg">  <a href="https://crates.io/crates/lance-graph">https://crates.io/crates/lance-graph</a></span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/2kQQXYzPxKuQCcwbO8DBFVyZhdENIMIEB8hO0fOtmek/https/static.crates.io/og-images/lance-graph.png> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/2kQQXYzPxKuQCcwbO8DBFVyZhdENIMIEB8hO0fOtmek/https/static.crates.io/og-images/lance-graph.png alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=fire><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ”¥ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1450559319094591588 class=chatlog__message-container data-message-id=1450559319094591588><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/675128789646442557/1cb13b6385769af97ea2584be513124e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/728637739565842516/cd9427b760c8536b23dda682c2e7079a.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=youssef_tharwat>Youssef</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1450520778121416888')"> Lets gooo <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ðŸš€"
    title="rocket"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f680.svg">  <a href="https://crates.io/crates/lance-graph">https://crates.io/crates/lance-graph</a> </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span class=chatlog__timestamp title="Tuesday, December 16, 2025 1:44â€¯PM"><a href=#chatlog__message-container-1450559319094591588>12/16/2025 1:44â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I saw this, thanks for opening the issue! Chunxu from LinkedIn has been really hard at work on it!</span></div></div></div></div><div id=chatlog__message-container-1450559398341771334 class=chatlog__message-container data-message-id=1450559398341771334><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, December 16, 2025 1:45â€¯PM">1:45â€¯PM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Really glad to see the cadence of commits. <span class="chatlog__markdown-mention" title="youssef_tharwat">@Youssef</span> please use it and file bug reports. And let us know how you go!</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=ok_hand><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘Œ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44c.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1450881936926048357 class=chatlog__message-container data-message-id=1450881936926048357><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/195643605598208000/f2da56abb16a762baa422626699224b1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=valkum data-user-id=195643605598208000>Valkum</span> <span class=chatlog__timestamp title="Wednesday, December 17, 2025 11:06â€¯AM"><a href=#chatlog__message-container-1450881936926048357>12/17/2025 11:06â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>It seems the missing lance v1.0.0 on crates.io caused the lancedb release to fail. <a href="https://github.com/lancedb/lancedb/actions/runs/20276080211/job/58238180945">https://github.com/lancedb/lancedb/actions/runs/20276080211/job/58238180945</a></span> <span class=chatlog__edited-timestamp title="Wednesday, December 17, 2025 11:15â€¯AM">(edited)</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/actions/runs/20276080211/job/58238180945><div class="chatlog__markdown chatlog__markdown-preserve">Cargo Publish &#183; lancedb/lancedb@6fd6157</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Developer-friendly OSS embedded retrieval library for multimodal AI. Search More; Manage Less. - Cargo Publish &#183; lancedb/lancedb@6fd6157</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/hmOSi21TQFxB1C_Uz6FRjMVN9seC2QVKHGPFsUSxco4/https/opengraph.githubassets.com/9923262a1ce32246012d15b7e43b152b47f323340ceee915c69e6621c120fa10/lancedb/lancedb> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/hmOSi21TQFxB1C_Uz6FRjMVN9seC2QVKHGPFsUSxco4/https/opengraph.githubassets.com/9923262a1ce32246012d15b7e43b152b47f323340ceee915c69e6621c120fa10/lancedb/lancedb alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=eyes><img class="chatlog__emoji chatlog__emoji--small" alt=ðŸ‘€ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f440.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1450890645765095541 class=chatlog__message-container data-message-id=1450890645765095541><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, December 17, 2025 11:41â€¯AM"> <a href=#chatlog__message-container-1450890645765095541>12/17/2025 11:41â€¯AM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1450892132796596406 class=chatlog__message-container data-message-id=1450892132796596406><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/195643605598208000/f2da56abb16a762baa422626699224b1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=valkum data-user-id=195643605598208000>Valkum</span> <span class=chatlog__timestamp title="Wednesday, December 17, 2025 11:47â€¯AM"><a href=#chatlog__message-container-1450892132796596406>12/17/2025 11:47â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Just out of interest. Assuming I want to write some optimized rules for datafusion, e.g. to optimize UUID support (assuming the generic FixedSizeBinary comparison is compiled worse than u128 comparisons). Are there ways to wire them through lancedb?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1450906167852142617 class=chatlog__message-container data-message-id=1450906167852142617><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=luqiu_87609 data-user-id=1209390552148090902>Lu Qiu</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, December 17, 2025 12:43â€¯PM"> <a href=#chatlog__message-container-1450906167852142617>12/17/2025 12:43â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1455173262400163851 class=chatlog__message-container data-message-id=1455173262400163851><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/532230891884511242/8f3d409657bf0fb9a9b2a2f9696e367d.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=giacomocariello data-user-id=532230891884511242>Giacomo C. | UTC+1</span> <span class=chatlog__timestamp title="Monday, December 29, 2025 7:19â€¯AM"><a href=#chatlog__message-container-1455173262400163851>12/29/2025 7:19â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi all, is it possible to update a vector with table.update() in Rust? If so, what&#39;s the syntax for the value literal?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1455252358920536230 class=chatlog__message-container data-message-id=1455252358920536230><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/728637739565842516/cd9427b760c8536b23dda682c2e7079a.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=youssef_tharwat data-user-id=728637739565842516>Youssef</span> <span class=chatlog__timestamp title="Monday, December 29, 2025 12:33â€¯PM"><a href=#chatlog__message-container-1455252358920536230>12/29/2025 12:33â€¯PM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I just added this issue, are you open to contributions? 
<a href="https://github.com/lance-format/lance-graph/issues/77">https://github.com/lance-format/lance-graph/issues/77</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lance-format/lance-graph/issues/77><div class="chatlog__markdown chatlog__markdown-preserve">Feature Request: Add string comparison operators (CONTAINS, STARTS ...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Summary The Cypher parser currently doesn&amp;#39;t support string comparison operators like CONTAINS, STARTS WITH, and ENDS WITH. These are commonly used Cypher operators for filtering nodes/relations...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/8ccpdkOGri_UkXFGhaLHFen4bHuCG-m3jM04P3xkopA/https/opengraph.githubassets.com/a277cd93751e9a8c8f83aa1e2bcd0fcc2cb946e6592f7dc860c4390b17398fae/lance-format/lance-graph/issues/77> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/8ccpdkOGri_UkXFGhaLHFen4bHuCG-m3jM04P3xkopA/https/opengraph.githubassets.com/a277cd93751e9a8c8f83aa1e2bcd0fcc2cb946e6592f7dc860c4390b17398fae/lance-format/lance-graph/issues/77 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1455255665525129389 class=chatlog__message-container data-message-id=1455255665525129389><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, December 29, 2025 12:46â€¯PM"> <a href=#chatlog__message-container-1455255665525129389>12/29/2025 12:46â€¯PM</a> </span></div></div></div><div id=chatlog__message-container-1455262849499795575 class=chatlog__message-container data-message-id=1455262849499795575><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, December 29, 2025 1:15â€¯PM"> <a href=#chatlog__message-container-1455262849499795575>12/29/2025 1:15â€¯PM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1462339068112277668 class=chatlog__message-container data-message-id=1462339068112277668><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/775401814982918164/d407e6395efa913425340038383bb457.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=slimshadythegreat data-user-id=775401814982918164>Slim Shady</span> <span class=chatlog__timestamp title="Sunday, January 18, 2026 1:53â€¯AM"><a href=#chatlog__message-container-1462339068112277668>1/18/2026 1:53â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;m making an app which uses lancedb to store data locally
Is there a migration system that can be used when I want to make altercations to the schema later on after deploying?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1462342667055923201 class=chatlog__message-container data-message-id=1462342667055923201><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/775401814982918164/d407e6395efa913425340038383bb457.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=slimshadythegreat data-user-id=775401814982918164>Slim Shady</span> <span class=chatlog__timestamp title="Sunday, January 18, 2026 2:07â€¯AM"><a href=#chatlog__message-container-1462342667055923201>1/18/2026 2:07â€¯AM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>or would i need to make my own system
like making a table to keep track of the migrations ran
and read it and apply it accordingly?</span> <span class=chatlog__edited-timestamp title="Sunday, January 18, 2026 2:07â€¯AM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1463793060638097444 class=chatlog__message-container data-message-id=1463793060638097444><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=yah2er0ne data-user-id=963889951810941039>Yang</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, January 22, 2026 2:11â€¯AM"> <a href=#chatlog__message-container-1463793060638097444>1/22/2026 2:11â€¯AM</a> </span></div></div></div></div>

</div>
<div class=postamble><div class=postamble__entry>Exported 333 message(s)</div><div class=postamble__entry>Timezone: UTC-5</div></div>
