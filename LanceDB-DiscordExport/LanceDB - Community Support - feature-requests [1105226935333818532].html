<!DOCTYPE html><html lang=en><head><title>LanceDB - feature-requests</title><meta charset=utf-8><meta name=viewport content="width=device-width"><style>@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-normal-400.woff2");font-family:gg sans;font-weight:400;font-style:normal}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-normal-500.woff2");font-family:gg sans;font-weight:500;font-style:normal}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-normal-600.woff2");font-family:gg sans;font-weight:600;font-style:normal}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-normal-700.woff2");font-family:gg sans;font-weight:700;font-style:normal}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-normal-800.woff2");font-family:gg sans;font-weight:800;font-style:normal}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-italic-400.woff2");font-family:gg sans;font-weight:400;font-style:italic}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-italic-500.woff2");font-family:gg sans;font-weight:500;font-style:italic}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-italic-600.woff2");font-family:gg sans;font-weight:600;font-style:italic}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-italic-700.woff2");font-family:gg sans;font-weight:700;font-style:italic}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-italic-800.woff2");font-family:gg sans;font-weight:800;font-style:italic}html,body{margin:0;padding:0;background-color:#36393e;color:#dcddde;font-family:"gg sans","Helvetica Neue",Helvetica,Arial,sans-serif;font-size:17px;font-weight:400;scroll-behavior:smooth}a{color:#00aff4;text-decoration:none}a:hover{text-decoration:underline}img{object-fit:contain;image-rendering:high-quality;image-rendering:-webkit-optimize-contrast}.preamble{display:grid;grid-template-columns:auto 1fr;max-width:100%;padding:1rem}.preamble__guild-icon-container{grid-column:1}.preamble__guild-icon{max-width:88px;max-height:88px}.preamble__entries-container{grid-column:2;margin-left:1rem}.preamble__entry{margin-bottom:0.15rem;color:#ffffff;font-size:1.4rem}.preamble__entry--small{font-size:1rem}.chatlog{padding:1rem 0;width:100%;border-top:1px solid rgba(255,255,255,0.1);border-bottom:1px solid rgba(255,255,255,0.1)}.chatlog__message-group{margin-bottom:1rem}.chatlog__message-container{background-color:transparent;transition:background-color 1s ease}.chatlog__message-container--highlighted{background-color:rgba(114,137,218,0.2)}.chatlog__message-container--pinned{background-color:rgba(249,168,37,0.05)}.chatlog__message{display:grid;grid-template-columns:auto 1fr;padding:0.15rem 0;direction:ltr;unicode-bidi:bidi-override}.chatlog__message:hover{background-color:#32353b}.chatlog__message:hover .chatlog__short-timestamp{display:block}.chatlog__message-aside{grid-column:1;width:72px;padding:0.15rem 0.15rem 0 0.15rem;text-align:center}.chatlog__reply-symbol{height:10px;margin:6px 4px 4px 36px;border-left:2px solid #4f545c;border-top:2px solid #4f545c;border-radius:8px 0 0 0}.chatlog__avatar{width:40px;height:40px;border-radius:50%}.chatlog__short-timestamp{display:none;color:#a3a6aa;font-size:0.75rem;font-weight:500;direction:ltr;unicode-bidi:bidi-override}.chatlog__message-primary{grid-column:2;min-width:0}.chatlog__reply{display:flex;margin-bottom:0.15rem;align-items:center;color:#b5b6b8;font-size:0.875rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.chatlog__reply-avatar{width:16px;height:16px;margin-right:0.25rem;border-radius:50%}.chatlog__reply-author{margin-right:0.3rem;font-weight:600}.chatlog__reply-content{overflow:hidden;text-overflow:ellipsis}.chatlog__reply-link{cursor:pointer}.chatlog__reply-link *{display:inline;pointer-events:none}.chatlog__reply-link .chatlog__markdown-quote{display:inline}.chatlog__reply-link .chatlog__markdown-pre{display:inline}.chatlog__reply-link:hover{color:#ffffff}.chatlog__reply-link:hover *:not(.chatlog__markdown-spoiler){color:inherit}.chatlog__reply-edited-timestamp{margin-left:0.25rem;color:#a3a6aa;font-size:0.75rem;font-weight:500;direction:ltr;unicode-bidi:bidi-override}.chatlog__system-notification-icon{width:18px;height:18px}.chatlog__system-notification-author{font-weight:500;color:#ffffff}.chatlog__system-notification-content{color:#96989d}.chatlog__system-notification-link{font-weight:500;color:#ffffff}.chatlog__system-notification-timestamp{margin-left:0.3rem;color:#a3a6aa;font-size:0.75rem;font-weight:500;direction:ltr;unicode-bidi:bidi-override}.chatlog__system-notification-timestamp a{color:inherit}.chatlog__header{margin-bottom:0.1rem}.chatlog__author{font-weight:500;color:#ffffff}.chatlog__author-tag{position:relative;top:-0.1rem;margin-left:0.3rem;padding:0.05rem 0.3rem;border-radius:3px;background-color:#5865F2;color:#ffffff;font-size:0.625rem;font-weight:500;line-height:1.3}.chatlog__timestamp{margin-left:0.3rem;color:#a3a6aa;font-size:0.75rem;font-weight:500;direction:ltr;unicode-bidi:bidi-override}.chatlog__timestamp a{color:inherit}.chatlog__content{padding-right:1rem;font-size:0.95rem;word-wrap:break-word}.chatlog__edited-timestamp{margin-left:0.15rem;color:#a3a6aa;font-size:0.75rem;font-weight:500}.chatlog__attachment{position:relative;width:fit-content;margin-top:0.3rem;border-radius:3px;overflow:hidden}.chatlog__attachment--hidden{cursor:pointer;box-shadow:0 0 1px 1px rgba(0,0,0,0.1)}.chatlog__attachment--hidden *{pointer-events:none}.chatlog__attachment-spoiler-caption{display:none;position:absolute;left:50%;top:50%;z-index:999;padding:0.4rem 0.8rem;border-radius:20px;transform:translate(-50%,-50%);background-color:rgba(0,0,0,0.9);color:#dcddde;font-size:0.9rem;font-weight:600;letter-spacing:0.05rem}.chatlog__attachment--hidden .chatlog__attachment-spoiler-caption{display:block}.chatlog__attachment--hidden:hover .chatlog__attachment-spoiler-caption{color:#fff}.chatlog__attachment-media{max-width:45vw;max-height:500px;vertical-align:top;border-radius:3px}.chatlog__attachment--hidden .chatlog__attachment-media{filter:blur(44px)}.chatlog__attachment-generic{max-width:520px;width:100%;height:40px;padding:10px;border:1px solid #292b2f;border-radius:3px;background-color:#2f3136;overflow:hidden}.chatlog__attachment--hidden .chatlog__attachment-generic{filter:blur(44px)}.chatlog__attachment-generic-icon{float:left;width:30px;height:100%;margin-right:10px}.chatlog__attachment-generic-size{color:#72767d;font-size:12px}.chatlog__attachment-generic-name{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.chatlog__embed{display:flex;margin-top:0.3rem;max-width:520px}.chatlog__embed-color-pill{flex-shrink:0;width:0.25rem;border-top-left-radius:3px;border-bottom-left-radius:3px}.chatlog__embed-color-pill--default{background-color:#202225}.chatlog__embed-content-container{display:flex;flex-direction:column;padding:0.5rem 0.6rem;border:1px solid rgba(46,48,54,0.6);border-top-right-radius:3px;border-bottom-right-radius:3px;background-color:rgba(46,48,54,0.3)}.chatlog__embed-content{display:flex;width:100%}.chatlog__embed-text{flex:1}.chatlog__embed-author-container{display:flex;margin-bottom:0.5rem;align-items:center}.chatlog__embed-author-icon{width:20px;height:20px;margin-right:0.5rem;border-radius:50%}.chatlog__embed-author{color:#ffffff;font-size:0.875rem;font-weight:600;direction:ltr;unicode-bidi:bidi-override}.chatlog__embed-author-link{color:#ffffff}.chatlog__embed-title{margin-bottom:0.5rem;color:#ffffff;font-size:0.875rem;font-weight:600}.chatlog__embed-description{color:#dcddde;font-weight:500;font-size:0.85rem}.chatlog__embed-fields{display:flex;flex-wrap:wrap;gap:0 0.5rem}.chatlog__embed-field{flex:0;min-width:100%;max-width:506px;padding-top:0.6rem;font-size:0.875rem}.chatlog__embed-field--inline{flex:1;flex-basis:auto;min-width:50px}.chatlog__embed-field-name{margin-bottom:0.2rem;color:#ffffff;font-weight:600}.chatlog__embed-field-value{color:#dcddde;font-weight:500}.chatlog__embed-thumbnail{flex:0;max-width:80px;max-height:80px;margin-left:1.2rem;border-radius:3px}.chatlog__embed-images{display:grid;margin-top:0.6rem;grid-template-columns:repeat(2,1fr);gap:0.25rem}.chatlog__embed-images--single{display:block}.chatlog__embed-image{object-fit:cover;object-position:center;max-width:500px;max-height:400px;width:100%;height:100%;border-radius:3px}.chatlog__embed-footer{margin-top:0.6rem;color:#dcddde}.chatlog__embed-footer-icon{width:20px;height:20px;margin-right:0.2rem;border-radius:50%;vertical-align:middle}.chatlog__embed-footer-text{vertical-align:middle;font-size:0.75rem;font-weight:500}.chatlog__embed-invite-container{min-width:320px;padding:0.6rem 0.7rem;border:1px solid rgba(46,48,54,0.6);border-radius:3px;background-color:rgba(46,48,54,0.3)}.chatlog__embed-invite-title{margin:0 0 0.8rem 0;color:#b9bbbe;font-size:0.75rem;font-weight:700;text-transform:uppercase}.chatlog__embed-invite{display:flex}.chatlog__embed-invite-guild-icon{width:50px;height:50px;border-radius:0.85rem}.chatlog__embed-invite-info{margin-left:1rem}.chatlog__embed-invite-guild-name{color:#ffffff;font-weight:600}.chatlog__embed-invite-guild-name a{color:inherit}.chatlog__embed-invite-channel-icon{width:18px;height:18px;vertical-align:bottom}.chatlog__embed-invite-channel-name{font-size:0.9rem;font-weight:600}.chatlog__embed-generic-image{object-fit:contain;object-position:left;max-width:45vw;max-height:500px;vertical-align:top;border-radius:3px}.chatlog__embed-generic-video{object-fit:contain;object-position:left;max-width:45vw;max-height:500px;vertical-align:top;border-radius:3px}.chatlog__embed-generic-gifv{object-fit:contain;object-position:left;max-width:45vw;max-height:500px;vertical-align:top;border-radius:3px}.chatlog__embed-spotify{border:0}.chatlog__embed-twitch{border:0}.chatlog__embed-youtube-container{margin-top:0.6rem}.chatlog__embed-youtube{border:0;border-radius:3px}.chatlog__sticker{width:180px;height:180px}.chatlog__sticker--media{max-width:100%;max-height:100%}.chatlog__reactions{display:flex}.chatlog__reaction{display:flex;margin:0.35rem 0.1rem 0.1rem 0;padding:0.125rem 0.375rem;border:1px solid transparent;border-radius:8px;background-color:#2f3136;align-items:center}.chatlog__reaction:hover{border:1px solid hsla(0,0%,100%,.2);background-color:transparent}.chatlog__reaction-count{min-width:9px;margin-left:0.35rem;color:#b9bbbe;font-size:0.875rem}.chatlog__reaction:hover .chatlog__reaction-count{color:#dcddde}.chatlog__markdown{max-width:100%;line-height:1.3;overflow-wrap:break-word}.chatlog__markdown h1{margin:1rem 0 0.5rem;color:#f2f3f5;font-size:1.5rem;line-height:1}.chatlog__markdown h2{margin:1rem 0 0.5rem;color:#f2f3f5;font-size:1.25rem;line-height:1}.chatlog__markdown h3{margin:1rem 0 0.5rem;color:#f2f3f5;font-size:1rem;line-height:1}.chatlog__markdown h1:first-child,h2:first-child,h3:first-child{margin-top:0.5rem}.chatlog__markdown ul,ol{margin:0 0 0 1rem;padding:0}.chatlog__markdown-preserve{white-space:pre-wrap}.chatlog__markdown-spoiler{background-color:rgba(255,255,255,0.1);padding:0 2px;border-radius:3px}.chatlog__markdown-spoiler--hidden{cursor:pointer;background-color:#202225;color:rgba(0,0,0,0)}.chatlog__markdown-spoiler--hidden:hover{background-color:rgba(32,34,37,0.8)}.chatlog__markdown-spoiler--hidden::selection{color:rgba(0,0,0,0)}.chatlog__markdown-quote{display:flex;margin:0.05rem 0}.chatlog__markdown-quote-border{margin-right:0.5rem;border:2px solid #4f545c;border-radius:3px}.chatlog__markdown-pre{background-color:#2f3136;font-family:"Consolas","Courier New",Courier,monospace;font-size:0.85rem;text-decoration:inherit}.chatlog__markdown-pre--multiline{display:block;margin-top:0.25rem;padding:0.5rem;border:2px solid #282b30;border-radius:5px;color:#b9bbbe}.chatlog__markdown-pre--multiline.hljs{background-color:#2f3136;color:#b9bbbe}.chatlog__markdown-pre--inline{display:inline-block;padding:2px;border-radius:3px}.chatlog__markdown-mention{border-radius:3px;padding:0 2px;background-color:rgba(88,101,242,.3);color:#dee0fc;font-weight:500}.chatlog__markdown-mention:hover{background-color:#5865f2;color:#ffffff}.chatlog__markdown-timestamp{background-color:rgba(255,255,255,0.1);padding:0 2px;border-radius:3px}.chatlog__emoji{width:1.325rem;height:1.325rem;margin:0 0.06rem;vertical-align:-0.4rem}.chatlog__emoji--small{width:1rem;height:1rem}.chatlog__emoji--large{width:2.8rem;height:2.8rem}.postamble{padding:1.25rem}.postamble__entry{color:#ffffff}</style><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/solarized-dark.min.css><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js></script><script>document.addEventListener('DOMContentLoaded',()=>{document.querySelectorAll('.chatlog__markdown-pre--multiline').forEach(e=>hljs.highlightBlock(e));});</script><script src=https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.8.1/lottie.min.js></script><script>document.addEventListener('DOMContentLoaded',()=>{document.querySelectorAll('.chatlog__sticker--media[data-source]').forEach(e=>{const anim=lottie.loadAnimation({container:e,renderer:'svg',loop:true,autoplay:true,path:e.getAttribute('data-source')});anim.addEventListener('data_failed',()=>e.innerHTML='<strong>[Sticker cannot be rendered]</strong>');});});</script><script>function scrollToMessage(event,id){const element=document.getElementById('chatlog__message-container-'+id);if(!element)
return;event.preventDefault();element.classList.add('chatlog__message-container--highlighted');window.scrollTo({top:element.getBoundingClientRect().top-document.body.getBoundingClientRect().top-(window.innerHeight/2),behavior:'smooth'});window.setTimeout(()=>element.classList.remove('chatlog__message-container--highlighted'),2000);}
function showSpoiler(event,element){if(!element)
return;if(element.classList.contains('chatlog__attachment--hidden')){event.preventDefault();element.classList.remove('chatlog__attachment--hidden');}
if(element.classList.contains('chatlog__markdown-spoiler--hidden')){event.preventDefault();element.classList.remove('chatlog__markdown-spoiler--hidden');}}</script><svg style=display:none xmlns=http://www.w3.org/2000/svg><defs><symbol id=attachment-icon viewBox="0 0 720 960"><path fill=#f4f5fb d=M50,935a25,25,0,0,1-25-25V50A25,25,0,0,1,50,25H519.6L695,201.32V910a25,25,0,0,1-25,25Z /><path fill=#7789c4 d=M509.21,50,670,211.63V910H50V50H509.21M530,0H50A50,50,0,0,0,0,50V910a50,50,0,0,0,50,50H670a50,50,0,0,0,50-50h0V191Z /><path fill=#f4f5fb d=M530,215a25,25,0,0,1-25-25V50a25,25,0,0,1,16.23-23.41L693.41,198.77A25,25,0,0,1,670,215Z /><path fill=#7789c4 d=M530,70.71,649.29,190H530V70.71M530,0a50,50,0,0,0-50,50V190a50,50,0,0,0,50,50H670a50,50,0,0,0,50-50Z /></symbol><symbol id=join-icon viewBox="0 0 18 18"><path fill=#3ba55c d="m0 8h14.2l-3.6-3.6 1.4-1.4 6 6-6 6-1.4-1.4 3.6-3.6h-14.2" /></symbol><symbol id=leave-icon viewBox="0 0 18 18"><path fill=#ed4245 d="m3.8 8 3.6-3.6-1.4-1.4-6 6 6 6 1.4-1.4-3.6-3.6h14.2v-2" /></symbol><symbol id=call-icon viewBox="0 0 18 18"><path fill=#3ba55c fill-rule=evenodd d="M17.7163041 15.36645368c-.0190957.02699568-1.9039523 2.6680735-2.9957762 2.63320406-3.0676659-.09785935-6.6733809-3.07188394-9.15694343-5.548738C3.08002193 9.9740657.09772497 6.3791404 0 3.3061316v-.024746C0 2.2060575 2.61386252.3152347 2.64082114.2972376c.7110335-.4971705 1.4917101-.3149497 1.80959713.1372281.19320342.2744561 2.19712724 3.2811005 2.42290565 3.6489167.09884826.1608492.14714912.3554431.14714912.5702838 0 .2744561-.07975258.5770327-.23701117.8751101-.1527655.2902036-.65262318 1.1664385-.89862055 1.594995.2673396.3768148.94804468 1.26429792 2.351016 2.66357424 1.39173858 1.39027775 2.28923588 2.07641807 2.67002628 2.34187563.4302146-.2452108 1.3086162-.74238132 1.5972981-.89423205.5447887-.28682915 1.0907006-.31944893 1.4568885-.08661115.3459689.2182151 3.3383754 2.21027167 3.6225641 2.41611376.2695862.19234426.4144887.5399137.4144887.91672846 0 .2969525-.089862.61190215-.2808189.88523346" /></symbol><symbol id=pencil-icon viewBox="0 0 18 18"><path fill=#99aab5 d="m0 14.25v3.75h3.75l11.06-11.06-3.75-3.75zm17.71-10.21c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75z" /></symbol><symbol id=pin-icon viewBox="0 0 18 18"><path fill=#b9bbbe d="m16.908 8.39684-8.29587-8.295827-1.18584 1.184157 1.18584 1.18584-4.14834 4.1475v.00167l-1.18583-1.18583-1.185 1.18583 3.55583 3.55502-4.740831 4.74 1.185001 1.185 4.74083-4.74 3.55581 3.555 1.185-1.185-1.185-1.185 4.1475-4.14836h.0009l1.185 1.185z" /></symbol><symbol id=channel-icon viewBox="0 0 24 24"><path fill=#b9bbbe d="M5.88657 21C5.57547 21 5.3399 20.7189 5.39427 20.4126L6.00001 17H2.59511C2.28449 17 2.04905 16.7198 2.10259 16.4138L2.27759 15.4138C2.31946 15.1746 2.52722 15 2.77011 15H6.35001L7.41001 9H4.00511C3.69449 9 3.45905 8.71977 3.51259 8.41381L3.68759 7.41381C3.72946 7.17456 3.93722 7 4.18011 7H7.76001L8.39677 3.41262C8.43914 3.17391 8.64664 3 8.88907 3H9.87344C10.1845 3 10.4201 3.28107 10.3657 3.58738L9.76001 7H15.76L16.3968 3.41262C16.4391 3.17391 16.6466 3 16.8891 3H17.8734C18.1845 3 18.4201 3.28107 18.3657 3.58738L17.76 7H21.1649C21.4755 7 21.711 7.28023 21.6574 7.58619L21.4824 8.58619C21.4406 8.82544 21.2328 9 20.9899 9H17.41L16.35 15H19.7549C20.0655 15 20.301 15.2802 20.2474 15.5862L20.0724 16.5862C20.0306 16.8254 19.8228 17 19.5799 17H16L15.3632 20.5874C15.3209 20.8261 15.1134 21 14.8709 21H13.8866C13.5755 21 13.3399 20.7189 13.3943 20.4126L14 17H8.00001L7.36325 20.5874C7.32088 20.8261 7.11337 21 6.87094 21H5.88657ZM9.41045 9L8.35045 15H14.3504L15.4104 9H9.41045Z" /></symbol><symbol id=thread-icon viewBox="0 0 24 24"><path fill=#b9bbbe d="M5.43309 21C5.35842 21 5.30189 20.9325 5.31494 20.859L5.99991 17H2.14274C2.06819 17 2.01168 16.9327 2.02453 16.8593L2.33253 15.0993C2.34258 15.0419 2.39244 15 2.45074 15H6.34991L7.40991 9H3.55274C3.47819 9 3.42168 8.93274 3.43453 8.85931L3.74253 7.09931C3.75258 7.04189 3.80244 7 3.86074 7H7.75991L8.45234 3.09903C8.46251 3.04174 8.51231 3 8.57049 3H10.3267C10.4014 3 10.4579 3.06746 10.4449 3.14097L9.75991 7H15.7599L16.4523 3.09903C16.4625 3.04174 16.5123 3 16.5705 3H18.3267C18.4014 3 18.4579 3.06746 18.4449 3.14097L17.7599 7H21.6171C21.6916 7 21.7481 7.06725 21.7353 7.14069L21.4273 8.90069C21.4172 8.95811 21.3674 9 21.3091 9H17.4099L17.0495 11.04H15.05L15.4104 9H9.41035L8.35035 15H10.5599V17H7.99991L7.30749 20.901C7.29732 20.9583 7.24752 21 7.18934 21H5.43309Z" /><path fill=#b9bbbe d="M13.4399 12.96C12.9097 12.96 12.4799 13.3898 12.4799 13.92V20.2213C12.4799 20.7515 12.9097 21.1813 13.4399 21.1813H14.3999C14.5325 21.1813 14.6399 21.2887 14.6399 21.4213V23.4597C14.6399 23.6677 14.8865 23.7773 15.0408 23.6378L17.4858 21.4289C17.6622 21.2695 17.8916 21.1813 18.1294 21.1813H22.5599C23.0901 21.1813 23.5199 20.7515 23.5199 20.2213V13.92C23.5199 13.3898 23.0901 12.96 22.5599 12.96H13.4399Z" /></symbol></defs></svg><body><div class=preamble><div class=preamble__guild-icon-container><img class=preamble__guild-icon src="https://cdn.discordapp.com/icons/1030247538198061086/3b63f3695230f74fda100de956749b12.png?size=512" alt="Guild icon" loading=lazy></div><div class=preamble__entries-container><div class=preamble__entry>LanceDB</div><div class=preamble__entry>Community Support / feature-requests</div></div></div>
<div class="chatlog">

<div class=chatlog__message-group><div id=chatlog__message-container-1105639816814657576 class=chatlog__message-container data-message-id=1105639816814657576><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/353691560090664982/9a2912e0e6fba1b9a9451c26f94b0259.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=theseriousadult data-user-id=353691560090664982>jack</span> <span class=chatlog__timestamp title="Tuesday, May 9, 2023 7:37‚ÄØPM"><a href=#chatlog__message-container-1105639816814657576>5/9/2023 7:37‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>please add better docs and type hints to <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">dataset.to_batches</code> similar to <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">dataset.to_table</code></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=pray><img class="chatlog__emoji chatlog__emoji--small" alt=üôè src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1105886244732424352 class=chatlog__message-container data-message-id=1105886244732424352><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/353691560090664982/9a2912e0e6fba1b9a9451c26f94b0259.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=theseriousadult data-user-id=353691560090664982>jack</span> <span class=chatlog__timestamp title="Wednesday, May 10, 2023 11:57‚ÄØAM"><a href=#chatlog__message-container-1105886244732424352>5/10/2023 11:57‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>might be interesting to add a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">stride</code> argument to <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">dataset.to_batches</code> - ie a way to load different batches on different nodes of a distributed system</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1108167597872123996 class=chatlog__message-container data-message-id=1108167597872123996><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Tuesday, May 16, 2023 7:02‚ÄØPM"><a href=#chatlog__message-container-1108167597872123996>5/16/2023 7:02‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>would be great to &quot;deduplicate&quot; vectors on the fly. this is very slow in python because every new result in a ranked list has to look at all previous results, and if it is similar to a previous result, skip it. every time i look at this part of my code I want to rewrite it numba / cython. but virtually everyone using vector search will want to deduplicate their results (ideally at index creation, not runtime, but I&#39;ll settle for either!)</span> <span class=chatlog__edited-timestamp title="Tuesday, May 16, 2023 7:12‚ÄØPM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1108170098646200370 class=chatlog__message-container data-message-id=1108170098646200370><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Tuesday, May 16, 2023 7:12‚ÄØPM"><a href=#chatlog__message-container-1108170098646200370>5/16/2023 7:12‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="chrisemoody">@chrisemoody</span>  does this mean to dedup in datasets? or you expect many rows have same vector, but only have unique vectors presented in the index?</span></div></div></div></div><div id=chatlog__message-container-1108170176060457021 class=chatlog__message-container data-message-id=1108170176060457021><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, May 16, 2023 7:12‚ÄØPM">7:12‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>like the index concentpually is a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">HashMap&lt;vector, [Records]&gt;</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1108170263444602940 class=chatlog__message-container data-message-id=1108170263444602940><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Tuesday, May 16, 2023 7:12‚ÄØPM"><a href=#chatlog__message-container-1108170263444602940>5/16/2023 7:12‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="lei.xu">@lei</span> i expect and have near-but-not-exact vectors, so the hash won&#39;t work.</span></div></div></div></div><div id=chatlog__message-container-1108170536393125918 class=chatlog__message-container data-message-id=1108170536393125918><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, May 16, 2023 7:14‚ÄØPM">7:14‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>For example, I have lots of images that are resized jpgs and gifs -- the hashes are technically different, but the vector l2 distance is tiny</span></div></div></div></div><div id=chatlog__message-container-1108170660427083806 class=chatlog__message-container data-message-id=1108170660427083806><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, May 16, 2023 7:14‚ÄØPM">7:14‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>then there&#39;s deduplicating things like images and watermarked images -- i also want this to be grouped together and to pick just one</span></div></div></div></div><div id=chatlog__message-container-1108170796687437865 class=chatlog__message-container data-message-id=1108170796687437865><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, May 16, 2023 7:15‚ÄØPM">7:15‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>which basically uses the vector distance again, but with a looser threshold</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1108171458674438214 class=chatlog__message-container data-message-id=1108171458674438214><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Tuesday, May 16, 2023 7:17‚ÄØPM"><a href=#chatlog__message-container-1108171458674438214>5/16/2023 7:17‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i see i see. do you know an existing product / tool / research paper does something similar, so we can learn how to appropriately to do it?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1108171602232889485 class=chatlog__message-container data-message-id=1108171602232889485><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Tuesday, May 16, 2023 7:18‚ÄØPM"><a href=#chatlog__message-container-1108171602232889485>5/16/2023 7:18‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>man, that would be great. but no, i do not</span></div></div></div></div><div id=chatlog__message-container-1108171652019273748 class=chatlog__message-container data-message-id=1108171652019273748><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, May 16, 2023 7:18‚ÄØPM">7:18‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>let me ask some friends if they&#39;ve seen this</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=pray><img class="chatlog__emoji chatlog__emoji--small" alt=üôè src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1108190262913663097 class=chatlog__message-container data-message-id=1108190262913663097><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Tuesday, May 16, 2023 8:32‚ÄØPM"><a href=#chatlog__message-container-1108190262913663097>5/16/2023 8:32‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>one more question, <span class="chatlog__markdown-mention" title="chrisemoody">@chrisemoody</span> , in such case, you&#39;d like want one <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">approx_key</code> to point back to multiple original rows in dataset, right? like <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Map&lt;approx_key(vector, threshold), list[Rows]&gt;</code> , and pick a random one from the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">list[rows]</code> as return. ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1108193050007699507 class=chatlog__message-container data-message-id=1108193050007699507><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/230046608803233792/e4375751b5d5fd0760d3e89c6131c8a6.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=chrisemoody>chrisemoody</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1108170263444602940')"> <span class="chatlog__markdown-mention" title="lei.xu">@lei</span> i expect and have near-but-not-exact vectors, so the hash won&#39;t work. </span></div></div><div class=chatlog__header><span class=chatlog__author title=gadgetsam data-user-id=230046608803233792>gadgetsam</span> <span class=chatlog__timestamp title="Tuesday, May 16, 2023 8:43‚ÄØPM"><a href=#chatlog__message-container-1108193050007699507>5/16/2023 8:43‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>This would be great, deduping large datasets is hard</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=100><img class="chatlog__emoji chatlog__emoji--small" alt=üíØ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f4af.svg loading=lazy> <span class=chatlog__reaction-count>2</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1108217235299901490 class=chatlog__message-container data-message-id=1108217235299901490><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Tuesday, May 16, 2023 10:19‚ÄØPM"><a href=#chatlog__message-container-1108217235299901490>5/16/2023 10:19‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hmmm yeah i can&#39;t think of an easy way. possibly you could build the vector index once with near-duplicates, use the ANN to find near-duplicates, then remove them from the final dataset ?</span></div></div></div></div><div id=chatlog__message-container-1108217399565619250 class=chatlog__message-container data-message-id=1108217399565619250><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, May 16, 2023 10:20‚ÄØPM">10:20‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>initial index could maybe use some reduced representation for efficiency? Would UMAP/TSNE make sense here?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1108219422281306162 class=chatlog__message-container data-message-id=1108219422281306162><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=lei.xu>lei</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1108190262913663097')"> one more question, <span class="chatlog__markdown-mention" title="chrisemoody">@chrisemoody</span> , in such case, you&#39;d like want one <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">approx_key</code> to point back to multiple original rows in dataset, right? like <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Map&lt;approx_key(vector, threshold), list[Rows]&gt;</code> , and pick a random one from the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">list[rows]</code> as return. ? </span></div></div><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Tuesday, May 16, 2023 10:28‚ÄØPM"><a href=#chatlog__message-container-1108219422281306162>5/16/2023 10:28‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I was thinking the API would be more similar to a group by. Ideally I‚Äôd pick one item from a ‚Äúgroup‚Äù of similar items and return that one</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1108219940198154350 class=chatlog__message-container data-message-id=1108219940198154350><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1108217235299901490')"> hmmm yeah i can&#39;t think of an easy way. possibly you could build the vector index once with near-duplicates, use the ANN to find near-duplicates, then remove them from the final dataset ? </span></div></div><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Tuesday, May 16, 2023 10:30‚ÄØPM"><a href=#chatlog__message-container-1108219940198154350>5/16/2023 10:30‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yeah that‚Äôs roughly what I‚Äôm doing now.</span></div></div></div></div><div id=chatlog__message-container-1108220001627938846 class=chatlog__message-container data-message-id=1108220001627938846><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, May 16, 2023 10:30‚ÄØPM">10:30‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>(No UMAP or tsne here)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1108236154458882073 class=chatlog__message-container data-message-id=1108236154458882073><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, May 16, 2023 11:34‚ÄØPM"> <a href=#chatlog__message-container-1108236154458882073>5/16/2023 11:34‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1108236710149636157 class=chatlog__message-container data-message-id=1108236710149636157><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=chrisemoody>chrisemoody</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1108171652019273748')"> let me ask some friends if they&#39;ve seen this </span></div></div><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Tuesday, May 16, 2023 11:37‚ÄØPM"><a href=#chatlog__message-container-1108236710149636157>5/16/2023 11:37‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i asked a few, and they literally all have either custom, brittle, things like me or are also saying stuff like &quot;yeah, thats a problem&quot;</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1108238286092255283 class=chatlog__message-container data-message-id=1108238286092255283><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Tuesday, May 16, 2023 11:43‚ÄØPM"><a href=#chatlog__message-container-1108238286092255283>5/16/2023 11:43‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Chris you are our star PM<img
    loading="lazy"
    class="chatlog__emoji "
    alt="ü´°"
    title="ü´°"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1fae1.svg"></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=heart_eyes_cat><img class="chatlog__emoji chatlog__emoji--small" alt=üòª src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f63b.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1108239175263715418 class=chatlog__message-container data-message-id=1108239175263715418><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=marsupialtail data-user-id=737185232494788668>marsupialtail</span> <span class=chatlog__timestamp title="Tuesday, May 16, 2023 11:46‚ÄØPM"><a href=#chatlog__message-container-1108239175263715418>5/16/2023 11:46‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;ve thought about this API for a while too personally. I think it&#39;s hard to support with current vector indexes. Without indexes it amounts to doing a k means on your data</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1108239520375255101 class=chatlog__message-container data-message-id=1108239520375255101><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=marsupialtail>marsupialtail</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1108239175263715418')"> I&#39;ve thought about this API for a while too personally. I think it&#39;s hard to support with current vector indexes. Without indexes it amounts to doing a k means on your data </span></div></div><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Tuesday, May 16, 2023 11:48‚ÄØPM"><a href=#chatlog__message-container-1108239520375255101>5/16/2023 11:48‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>That is, in fact, what these folks do: <a href="https://twitter.com/davisblalock/status/1641222279509196801">https://twitter.com/davisblalock/status/1641222279509196801</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(29,161,242,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-author-container><img class=chatlog__embed-author-icon src=https://images-ext-1.discordapp.net/external/hMSeGWKujZjfHG40SEtAADYzNfHfljTLOe5gsKs1zgU/https/pbs.twimg.com/profile_images/1235798228018376704/ywt5cLju_400x400.jpg alt="Author icon" loading=lazy onerror="this.style.visibility='hidden'"> <a class=chatlog__embed-author-link href=https://twitter.com/davisblalock><div class=chatlog__embed-author>Davis Blalock (@davisblalock)</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">&quot;SemDeDup: Data-efficient learning at web-scale through semantic deduplication&quot;

They propose to deduplicate training sets by embedding each sample, clustering all the embeddings with k-means, and then‚Ä¶ [1/16]</div></div><div class=chatlog__embed-fields><div class="chatlog__embed-field chatlog__embed-field--inline"><div class=chatlog__embed-field-name><div class="chatlog__markdown chatlog__markdown-preserve">Likes</div></div><div class=chatlog__embed-field-value><div class="chatlog__markdown chatlog__markdown-preserve">113</div></div></div></div></div></div><div class="chatlog__embed-images chatlog__embed-images--single"><div class=chatlog__embed-image-container><a class=chatlog__embed-image-link href=https://images-ext-1.discordapp.net/external/rAfK3d54Kf5mfYKcwKSF6D9VgDedoyLxp-7Hs7w4rRI/https/pbs.twimg.com/media/FsbK9f3akAE75my.jpg> <img class=chatlog__embed-image src=https://images-ext-1.discordapp.net/external/rAfK3d54Kf5mfYKcwKSF6D9VgDedoyLxp-7Hs7w4rRI/https/pbs.twimg.com/media/FsbK9f3akAE75my.jpg alt=Image loading=lazy> </a></div></div><div class=chatlog__embed-footer><img class=chatlog__embed-footer-icon src=https://images-ext-1.discordapp.net/external/bXJWV2Y_F3XSra_kEqIYXAAsI3m1meckfLhYuWzxIfI/https/abs.twimg.com/icons/apple-touch-icon-192x192.png alt="Footer icon" loading=lazy> <span class=chatlog__embed-footer-text> Twitter ‚Ä¢ 3/29/2023 7:34 PM </span></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=pray><img class="chatlog__emoji chatlog__emoji--small" alt=üôè src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1108241418557849641 class=chatlog__message-container data-message-id=1108241418557849641><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Tuesday, May 16, 2023 11:55‚ÄØPM"><a href=#chatlog__message-container-1108241418557849641>5/16/2023 11:55‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>gonna take a look later this week</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1108452845512040580 class=chatlog__message-container data-message-id=1108452845512040580><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Wednesday, May 17, 2023 1:55‚ÄØPM"><a href=#chatlog__message-container-1108452845512040580>5/17/2023 1:55‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Another request: enable vector searching for a batch of queries. Currently Lance only allows 1D queries, but allowing 2D queries (parallelized) would be useful. 

Use case #1 is: at query time to run multiple simultaneous queries &#39;around&#39; the root query to diversify search results, and #2 is useful for ETL operations (like the above deduplication)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1108457050306007070 class=chatlog__message-container data-message-id=1108457050306007070><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=marsupialtail data-user-id=737185232494788668>marsupialtail</span> <span class=chatlog__timestamp title="Wednesday, May 17, 2023 2:12‚ÄØPM"><a href=#chatlog__message-container-1108457050306007070>5/17/2023 2:12‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Lol. I am working on the 2D queries in a dataframe API. Agree it would be amazing that lance support this api directly to minimize read requests to object store. Recent work to cache the index already helps</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div><div class=chatlog__reaction title=muscle><img class="chatlog__emoji chatlog__emoji--small" alt=üí™ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f4aa.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1108461819837825146 class=chatlog__message-container data-message-id=1108461819837825146><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Wednesday, May 17, 2023 2:31‚ÄØPM"><a href=#chatlog__message-container-1108461819837825146>5/17/2023 2:31‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>that&#39;s nice feature, we can totally do it</span></div></div></div></div><div id=chatlog__message-container-1108461885038268486 class=chatlog__message-container data-message-id=1108461885038268486><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 17, 2023 2:31‚ÄØPM">2:31‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>lemme file an issue to track it</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1108462004601110618 class=chatlog__message-container data-message-id=1108462004601110618><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=marsupialtail data-user-id=737185232494788668>marsupialtail</span> <span class=chatlog__timestamp title="Wednesday, May 17, 2023 2:32‚ÄØPM"><a href=#chatlog__message-container-1108462004601110618>5/17/2023 2:32‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yes you can coalesce the read requests. Sometimes it&#39;s better to make a few larger read ranges even with wasted data compared to a bunch of small requests</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=100><img class="chatlog__emoji chatlog__emoji--small" alt=üíØ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f4af.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1108462333828804618 class=chatlog__message-container data-message-id=1108462333828804618><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Wednesday, May 17, 2023 2:33‚ÄØPM"><a href=#chatlog__message-container-1108462333828804618>5/17/2023 2:33‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yea we did coalesce small requests up to a block size, esp. for random access today.   But serving multiple requests at once definitely will bring more opportunity for coalesce there <img
    loading="lazy"
    class="chatlog__emoji "
    alt="üôè"
    title="pray"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg"></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=pray><img class="chatlog__emoji chatlog__emoji--small" alt=üôè src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110714347107385436 class=chatlog__message-container data-message-id=1110714347107385436><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/353691560090664982/9a2912e0e6fba1b9a9451c26f94b0259.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=theseriousadult data-user-id=353691560090664982>jack</span> <span class=chatlog__timestamp title="Tuesday, May 23, 2023 7:42‚ÄØPM"><a href=#chatlog__message-container-1110714347107385436>5/23/2023 7:42‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>feature request: regex filters on string columns</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110715532585472061 class=chatlog__message-container data-message-id=1110715532585472061><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Tuesday, May 23, 2023 7:46‚ÄØPM"><a href=#chatlog__message-container-1110715532585472061>5/23/2023 7:46‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="lei.xu">@lei</span> I think DataFusion already has a regexp_match function (<a href="https://arrow.apache.org/datafusion/user-guide/expressions.html)">https://arrow.apache.org/datafusion/user-guide/expressions.html)</a>. Prolly just need to enable it in Lance?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110716093561053224 class=chatlog__message-container data-message-id=1110716093561053224><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Tuesday, May 23, 2023 7:49‚ÄØPM"><a href=#chatlog__message-container-1110716093561053224>5/23/2023 7:49‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>That&#39;s a nice one. yea , lemme create a ticket</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110717913834471434 class=chatlog__message-container data-message-id=1110717913834471434><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Tuesday, May 23, 2023 7:56‚ÄØPM"><a href=#chatlog__message-container-1110717913834471434>5/23/2023 7:56‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://github.com/eto-ai/lance/issues/896">https://github.com/eto-ai/lance/issues/896</a> filed . we will have someone working on it soon</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/eto-ai/lance/issues/896><div class="chatlog__markdown chatlog__markdown-preserve">[Rust] Support regular expression on filters &#183; Issue #896 &#183; eto-ai/...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Problem Statement Support using regular expression in the filter predicates. Underneath, we are using DataFusion to run functions, and regular expression is already supported in DataFusion. We migh...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/1xV4KmYC6Wu2LoKy4frQVmfBAXESs6fI_91hV4NYI6w/https/opengraph.githubassets.com/f2843ed51730330c990c54def52f111c1d950d946b168f601f176cc5ec93e089/eto-ai/lance/issues/896> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/1xV4KmYC6Wu2LoKy4frQVmfBAXESs6fI_91hV4NYI6w/https/opengraph.githubassets.com/f2843ed51730330c990c54def52f111c1d950d946b168f601f176cc5ec93e089/eto-ai/lance/issues/896 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110756900838047744 class=chatlog__message-container data-message-id=1110756900838047744><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/353691560090664982/9a2912e0e6fba1b9a9451c26f94b0259.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=theseriousadult data-user-id=353691560090664982>jack</span> <span class=chatlog__timestamp title="Tuesday, May 23, 2023 10:31‚ÄØPM"><a href=#chatlog__message-container-1110756900838047744>5/23/2023 10:31‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>great!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110760491237781565 class=chatlog__message-container data-message-id=1110760491237781565><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/353691560090664982/9a2912e0e6fba1b9a9451c26f94b0259.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=theseriousadult data-user-id=353691560090664982>jack</span> <span class=chatlog__timestamp title="Tuesday, May 23, 2023 10:45‚ÄØPM"><a href=#chatlog__message-container-1110760491237781565>5/23/2023 10:45‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>feature request: a way to precompute filters and save the resulting list of indices, then later iterate over that list with (offset, limit) queries</span></div></div></div></div><div id=chatlog__message-container-1110760641716834394 class=chatlog__message-container data-message-id=1110760641716834394><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, May 23, 2023 10:46‚ÄØPM">10:46‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>(ideally also with an option to shuffle those indices)</span></div></div></div></div><div id=chatlog__message-container-1110760839226609785 class=chatlog__message-container data-message-id=1110760839226609785><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, May 23, 2023 10:47‚ÄØPM">10:47‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hmm actually i don&#39;t want (offset, limit) i want (offset, stride, batch size)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110788610724220970 class=chatlog__message-container data-message-id=1110788610724220970><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 12:37‚ÄØAM"><a href=#chatlog__message-container-1110788610724220970>5/24/2023 12:37‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>need some clarification  here. could you give some concrete example how do you expect the index (or indices??) look like? what are the example to compute the such index?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110806914209689650 class=chatlog__message-container data-message-id=1110806914209689650><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 1:50‚ÄØAM"><a href=#chatlog__message-container-1110806914209689650>5/24/2023 1:50‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>indices as in row id‚Äôs</span></div></div></div></div><div id=chatlog__message-container-1110807024150790164 class=chatlog__message-container data-message-id=1110807024150790164><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 24, 2023 1:50‚ÄØAM">1:50‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Sounds like you basically want a cursor from the predicate evaluation results?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1110927044050694285 class=chatlog__message-container data-message-id=1110927044050694285><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/353691560090664982/9a2912e0e6fba1b9a9451c26f94b0259.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=theseriousadult data-user-id=353691560090664982>jack</span> <span class=chatlog__timestamp title="Wednesday, May 24, 2023 9:47‚ÄØAM"><a href=#chatlog__message-container-1110927044050694285>5/24/2023 9:47‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yeah exactly</span></div></div></div></div><div id=chatlog__message-container-1110927348720734270 class=chatlog__message-container data-message-id=1110927348720734270><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 24, 2023 9:48‚ÄØAM">9:48‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>the reason for this is to have distributed iteration over batches without having to recompute the filter every time</span></div></div></div></div><div id=chatlog__message-container-1110927654896541727 class=chatlog__message-container data-message-id=1110927654896541727><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 24, 2023 9:49‚ÄØAM">9:49‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>ie I want to read batches of size L with offset O and skip G many rows between batches, all applied logically after filters</span></div></div></div></div><div id=chatlog__message-container-1110928656131432529 class=chatlog__message-container data-message-id=1110928656131432529><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 24, 2023 9:53‚ÄØAM">9:53‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>it might be that the columnar format makes this much less necessary to precompute, and I just want the batch size, stride, offset iterator</span></div></div></div></div><div id=chatlog__message-container-1110928766399692820 class=chatlog__message-container data-message-id=1110928766399692820><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Wednesday, May 24, 2023 9:54‚ÄØAM">9:54‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>(eg for loading 64 local rows from a global batch of 1024)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1112644193689546752 class=chatlog__message-container data-message-id=1112644193689546752><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/353691560090664982/9a2912e0e6fba1b9a9451c26f94b0259.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=theseriousadult>jack</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1110756900838047744')"> great! </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Monday, May 29, 2023 3:30‚ÄØAM"><a href=#chatlog__message-container-1112644193689546752>5/29/2023 3:30‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="theseriousadult">@jack</span>  regex in filter has been released</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1113829672308981852 class=chatlog__message-container data-message-id=1113829672308981852><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Thursday, June 1, 2023 10:01‚ÄØAM"><a href=#chatlog__message-container-1113829672308981852>6/1/2023 10:01‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Related to diskann work is this paper (OOD-DiskANN: Efficient and Scalable Graph ANNS for Out-of-Distribution ... <a href="https://arxiv.org/pdf/2211.12850)">https://arxiv.org/pdf/2211.12850)</a> which suggests that searching multiple domains (ex text search over images) is very difficult for vector indexes. This is made worse by PQ. If I understand the work correctly though the solution is actually straightforward: don‚Äôt just index image vectors, index the text / query vectors too, which allows PQ to accurately represent queries. For graph based algos it also allows better connectivity between images and text queries. Then after you‚Äôve trained the index, remove the text embeddings (that way you don‚Äôt retrieve them.)</span></div></div></div></div><div id=chatlog__message-container-1113829794082201711 class=chatlog__message-container data-message-id=1113829794082201711><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, June 1, 2023 10:01‚ÄØAM">10:01‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>This is especially relevant to what we need!</span></div></div></div></div><div id=chatlog__message-container-1113830579817943112 class=chatlog__message-container data-message-id=1113830579817943112><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, June 1, 2023 10:05‚ÄØAM">10:05‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>But it might yield improvements in Lance diskann if you train an index, and then have a new API for removing points from that index.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1113854123926892676 class=chatlog__message-container data-message-id=1113854123926892676><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, June 1, 2023 11:38‚ÄØAM"><a href=#chatlog__message-container-1113854123926892676>6/1/2023 11:38‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>thanks! I&#39;ll have to dig into the paper more. How would you decide what text to use during training? Does it require that you already have an expectation on the distribution of user input at search time to make this effective?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1113859550982983811 class=chatlog__message-container data-message-id=1113859550982983811><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1113854123926892676')"> thanks! I&#39;ll have to dig into the paper more. How would you decide what text to use during training? Does it require that you already have an expectation on the distribution of user input at search time to make this effective? </span></div></div><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Thursday, June 1, 2023 12:00‚ÄØPM"><a href=#chatlog__message-container-1113859550982983811>6/1/2023 12:00‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yeah, that&#39;s a downside: you need example text. If you only have images, then I believe this technique won&#39;t help you (but I haven&#39;t read super carefully.) We have example text queries, so we&#39;re ok.</span></div></div></div></div><div id=chatlog__message-container-1113860081440784525 class=chatlog__message-container data-message-id=1113860081440784525><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, June 1, 2023 12:02‚ÄØPM">12:02‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>But Lance doesn&#39;t have to be aware of that detail. It&#39;s more like replace <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lance_ds.create_index(...)</code> with <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lance_ds.train_index(text_and_image_vectors, ...)</code> and then <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lance_ds.remove_from_index(text_vectors)</code></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=pray><img class="chatlog__emoji chatlog__emoji--small" alt=üôè src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1113881967222603827 class=chatlog__message-container data-message-id=1113881967222603827><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Thursday, June 1, 2023 1:29‚ÄØPM"><a href=#chatlog__message-container-1113881967222603827>6/1/2023 1:29‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi all, we are starting to design and scope <strong>Statistics</strong> and <strong>Partitioning</strong> for the Lance format. Right now, these will primarily make OLAP scans faster, but we are looking into how we can use the data to speed up the filter part of vector search queries. Both features also have potential extensions that make them even more powerful. We&#39;d welcome your feedback on the design and which parts are worth prioritizing. <a href="https://docs.google.com/document/d/1ovM2IhokkyJgM-rpLOZhw8yGo2LOmPkDIF7hOQ9D62E/edit">https://docs.google.com/document/d/1ovM2IhokkyJgM-rpLOZhw8yGo2LOmPkDIF7hOQ9D62E/edit</a></span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://docs.google.com/document/d/1ovM2IhokkyJgM-rpLOZhw8yGo2LOmPkDIF7hOQ9D62E/edit><div class="chatlog__markdown chatlog__markdown-preserve">Design Proposal: File Partitions and Page Statistics in Lance Format</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Design Proposal: File Partitions and Page Statistics in Lance Format   To enable faster filtering, we can add partitioning and statistics to the Lance format. Partitions are fragment-level metadata indicating all values in the fragment have certain values for a subset of columns. Statistics are a...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/mMCSGDEtcA3GGFwj65AqK9IlUCPl0-6VMz_K9718IbU/https/lh3.googleusercontent.com/docs/ADP-6oFjl-jDjsrIF3t1fpgt0bMY22pWfUHn8JizklKLw36aDEtS4Fl14J2LYnqF0BYIOhvCMxRg0HMdKcyP8nBBfKcydEjDXT7LSAfOvobO_7Oc%3Dw1200-h630-p> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/mMCSGDEtcA3GGFwj65AqK9IlUCPl0-6VMz_K9718IbU/https/lh3.googleusercontent.com/docs/ADP-6oFjl-jDjsrIF3t1fpgt0bMY22pWfUHn8JizklKLw36aDEtS4Fl14J2LYnqF0BYIOhvCMxRg0HMdKcyP8nBBfKcydEjDXT7LSAfOvobO_7Oc%3Dw1200-h630-p alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1116057026951393353 class=chatlog__message-container data-message-id=1116057026951393353><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Wednesday, June 7, 2023 1:32‚ÄØPM"><a href=#chatlog__message-container-1116057026951393353>6/7/2023 1:32‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Feature request: make me less aware of whether the filters are prefilters or postfilters. <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">limit</code> and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">offset</code>  apply to a filter applied <em>after</em> the vector search. <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">k</code> applies only to the vector search. So I have to over-estimate k in order to satisfy <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">limit</code>. This causes tons of problems later on, because it is easy to get zero results, which means I have to implement weird pagination and lots of extra cycles.

Better would be: I <em>dont</em> set <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">k</code> at all and the search continues long enough to satisfy <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">limit</code> and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">offset</code></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>3</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1116058086877188197 class=chatlog__message-container data-message-id=1116058086877188197><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, June 7, 2023 1:36‚ÄØPM"><a href=#chatlog__message-container-1116058086877188197>6/7/2023 1:36‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="wjones127">@Will Jones</span> <span class="chatlog__markdown-mention" title="lei.xu">@lei</span> i wonder if the following is possible/easiest: we create an async API via pyo3 instead of the current sync API that returns the ANN results in batches (doing quick-select to get the next batch). Then apply the filters to this stream of ANN results until offset/limit is reached, then we just cancel the stream.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1116059361261916320 class=chatlog__message-container data-message-id=1116059361261916320><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Wednesday, June 7, 2023 1:41‚ÄØPM"><a href=#chatlog__message-container-1116059361261916320>6/7/2023 1:41‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Because this is deeply intertwined (for me, anyway) with pagination this feels like it is close to what <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">cursor</code>s enable in other DBs</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1116060989511716945 class=chatlog__message-container data-message-id=1116060989511716945><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Wednesday, June 7, 2023 1:47‚ÄØPM"><a href=#chatlog__message-container-1116060989511716945>6/7/2023 1:47‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I agree the ideal solution is that if you set <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">limit</code> you don&#39;t need to set <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">k</code> and we just keep on getting NN until we satisfy limit. I need to look into feasibility.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=pray><img class="chatlog__emoji chatlog__emoji--small" alt=üôè src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1116219986147557438 class=chatlog__message-container data-message-id=1116219986147557438><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, June 8, 2023 12:19‚ÄØAM"><a href=#chatlog__message-container-1116219986147557438>6/8/2023 12:19‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="chrisemoody">@chrisemoody</span> wanted to circle back to a thread from a while back - instead of deduplicating vectors, what if you also computed a pHash for the images and used the pHash to deduplicate? <a href="http://www.phash.org/">http://www.phash.org/</a></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1116220595743506473 class=chatlog__message-container data-message-id=1116220595743506473><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Thursday, June 8, 2023 12:22‚ÄØAM"><a href=#chatlog__message-container-1116220595743506473>6/8/2023 12:22‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>that could work. or really, any robust image fingerprinting technique should work. I guess I should do this upstream, rather than computing the image embeddings (which is expensive) and then deduping</span> <span class=chatlog__edited-timestamp title="Thursday, June 8, 2023 12:22‚ÄØAM">(edited)</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1116522634507714610 class=chatlog__message-container data-message-id=1116522634507714610><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/343264775339245568/cc97fc25c9e0472a319f25c10736f5f4.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=timcarambat data-user-id=343264775339245568>Tim Carambat</span> <span class=chatlog__timestamp title="Thursday, June 8, 2023 8:22‚ÄØPM"><a href=#chatlog__message-container-1116522634507714610>6/8/2023 8:22‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>These are some things i came across needing when integrating LanceDB into AnythingLLM (<a href="https://github.com/Mintplex-Labs/anything-llm)">https://github.com/Mintplex-Labs/anything-llm)</a><ul><li>Be able to delete table from SDK (I just rm the entire .lance file right now)</li><li>Be able to delete vectors out of the db by some kind of metadata (or <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">id</code>)</li><li>Count the number of vectors in a table. I am unsure how to do that as _embeddings on the table doesnt seem to show anything.</li></ul></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1116531484552085596 class=chatlog__message-container data-message-id=1116531484552085596><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/250905565566468096/3b22e019f5d0af3ded36462597628156.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/343264775339245568/cc97fc25c9e0472a319f25c10736f5f4.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=timcarambat>Tim Carambat</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1116522634507714610')"> These are some things i came across needing when integrating LanceDB into AnythingLLM (<a href="https://github.com/Mintplex-Labs/anything-llm)">https://github.com/Mintplex-Labs/anything-llm)</a><ul><li>Be able to delete table from SDK (I just rm the entire .lance file right now)</li><li>Be able to delete vectors out of the db by some kind of metadata (or <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">id</code>)</li><li>Count the number of vectors in a table. I am unsure how to do that as _embeddings on the table doesnt seem to show anything.</li></ul> </span></div></div><div class=chatlog__header><span class=chatlog__author title=chopsjx data-user-id=250905565566468096>chop</span> <span class=chatlog__timestamp title="Thursday, June 8, 2023 8:57‚ÄØPM"><a href=#chatlog__message-container-1116531484552085596>6/8/2023 8:57‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>thanks for the feedback. We dont have delete API just yet, i captured this request on a github issue

for counts you can query using duckdb SQL as well as a workaround for the time being
to do this you can load the table, call to_arrow() on it and query using duckdb:

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">db = lancedb.connect(&quot;your_db&quot;)
table = db.open_table(&quot;your_table&quot;)
arrow_table = table.to_arrow()
duckdb.query(&quot;SELECT COUNT(vector_col) FROM arrow_table&quot;)</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1116531716228665415 class=chatlog__message-container data-message-id=1116531716228665415><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/250905565566468096/3b22e019f5d0af3ded36462597628156.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/343264775339245568/cc97fc25c9e0472a319f25c10736f5f4.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=timcarambat>Tim Carambat</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1116522634507714610')"> These are some things i came across needing when integrating LanceDB into AnythingLLM (<a href="https://github.com/Mintplex-Labs/anything-llm)">https://github.com/Mintplex-Labs/anything-llm)</a><ul><li>Be able to delete table from SDK (I just rm the entire .lance file right now)</li><li>Be able to delete vectors out of the db by some kind of metadata (or <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">id</code>)</li><li>Count the number of vectors in a table. I am unsure how to do that as _embeddings on the table doesnt seem to show anything.</li></ul> </span></div></div><div class=chatlog__header><span class=chatlog__author title=chopsjx data-user-id=250905565566468096>chop</span> <span class=chatlog__timestamp title="Thursday, June 8, 2023 8:58‚ÄØPM"><a href=#chatlog__message-container-1116531716228665415>6/8/2023 8:58‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Oh just realised, you are on JS, so disregard the duckdb comment here</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1116538373537009784 class=chatlog__message-container data-message-id=1116538373537009784><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/343264775339245568/cc97fc25c9e0472a319f25c10736f5f4.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/250905565566468096/3b22e019f5d0af3ded36462597628156.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=chopsjx>chop</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1116531716228665415')"> Oh just realised, you are on JS, so disregard the duckdb comment here </span></div></div><div class=chatlog__header><span class=chatlog__author title=timcarambat data-user-id=343264775339245568>Tim Carambat</span> <span class=chatlog__timestamp title="Thursday, June 8, 2023 9:24‚ÄØPM"><a href=#chatlog__message-container-1116538373537009784>6/8/2023 9:24‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is there no similar way to hit the DB directly in node? I have no problem adding a package if it gives the functionality</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1116554747957231717 class=chatlog__message-container data-message-id=1116554747957231717><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, June 8, 2023 10:29‚ÄØPM"><a href=#chatlog__message-container-1116554747957231717>6/8/2023 10:29‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>the DB is in-proc so it‚Äôs a matter of exposing the right Rust APIs to node to do count. We can definitely add that fairly quickly. Thanks!</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=ü´°><img class="chatlog__emoji chatlog__emoji--small" alt=ü´° src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1fae1.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1116901911443017868 class=chatlog__message-container data-message-id=1116901911443017868><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=.tullie data-user-id=703245629559668758>tullie</span> <span class=chatlog__timestamp title="Friday, June 9, 2023 9:29‚ÄØPM"><a href=#chatlog__message-container-1116901911443017868>6/9/2023 9:29‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Loving the simplicity with LanceDB, thank you! Few questions / feature requests / suggestions that I wrote down while integrating:

1. Limit doesn&#39;t respect the where clause when making a query. This confused me for a bit, and is frustrating because I have to fetch a buffer greater than k and requery if I didn&#39;t fill my target limit. Noticed this was a feature request above, but thought i&#39;d mention it again as a +1.

2. Have you thought about supporting null/nan vector values? We have a use-case where not all our vectors will have a value but we&#39;d still like to query them with the where predicate. For now i&#39;m looking into either using zero vector for the null vector values or just storing them all in a different table.

3. Sometimes when creating an index I see: Warning: KMean: cluster 230 has no value, does not change centroids., when setting all vectors to 0. Not sure what this means, couldn&#39;t find any documentation and i&#39;ve seen one case when it just hangs with this. 

4. We have varied vector dimensions so I keep seeing this error: num_sub_vectors % num_columns = 0. Do you have anyany suggestions on how to set num_sub_vectors? For context our vector dimensions vary from 30 - 1000, and currently i&#39;m just setting it to num_sub_vectors = num_dims / 4

5. Would love a way to batch vector queries (also noticed this mentioned above, thanks <span class="chatlog__markdown-mention" title="chrisemoody">@chrisemoody</span>). We have batch sizes of up to 512, i&#39;m not sure what the exact performance benefit would end up being, but having to loop through the batch to make each query with lance doesn&#39;t feel ideal.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1116921220064083972 class=chatlog__message-container data-message-id=1116921220064083972><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, June 9, 2023 10:46‚ÄØPM"> <a href=#chatlog__message-container-1116921220064083972>6/9/2023 10:46‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1134501325418270881 class=chatlog__message-container data-message-id=1134501325418270881><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/807992624015343667/285ced4aa774c1a0271d990fd4575478.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=true_name data-user-id=807992624015343667>Kevin Muto</span> <span class=chatlog__timestamp title="Friday, July 28, 2023 11:03‚ÄØAM"><a href=#chatlog__message-container-1134501325418270881>7/28/2023 11:03‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, are there any plans to support sparse vectors? 
i.e. a vector with mostly zero values could be efficiently represented as a dict with index as the key and element as the value:
{ &quot;0&quot;:2, &quot;7&quot;:3 } instead of [2, 0, 0, 0, 0, 0, 0, 3]

I&#39;d like to implement something similar to pinecone&#39;s <a href="https://docs.pinecone.io/docs/hybrid-search">hybrid search</a></span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://docs.pinecone.io/docs/hybrid-search><div class="chatlog__markdown chatlog__markdown-preserve">Sparse-dense embeddings</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">OverviewPinecone supports vectors with sparse and dense values, which allows you to perform semantic and keyword search over your data in one query and combine the results for more relevant results. This topic describes how sparse-dense vectors work in Pinecone.To see sparse-dense embeddings in acti...</div></div></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1134502150819561472 class=chatlog__message-container data-message-id=1134502150819561472><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Friday, July 28, 2023 11:06‚ÄØAM"><a href=#chatlog__message-container-1134502150819561472>7/28/2023 11:06‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yes fts / hybrid search is definitely on the roadmap</span></div></div></div></div><div id=chatlog__message-container-1134502366922686534 class=chatlog__message-container data-message-id=1134502366922686534><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, July 28, 2023 11:07‚ÄØAM">11:07‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>there is an experimental fts feature in LanceDB already using tantivy (<a href="https://lancedb.github.io/lancedb/fts/)">https://lancedb.github.io/lancedb/fts/)</a></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1134504219571925112 class=chatlog__message-container data-message-id=1134504219571925112><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/807992624015343667/285ced4aa774c1a0271d990fd4575478.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=true_name data-user-id=807992624015343667>Kevin Muto</span> <span class=chatlog__timestamp title="Friday, July 28, 2023 11:14‚ÄØAM"><a href=#chatlog__message-container-1134504219571925112>7/28/2023 11:14‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>thx. my case is a bit different. the sparse portion is also a numeric vector of length ~30k, each index representing a token in the BERT vocabulary.
the token counts are normalized to length 1. that way hybrid dot product similarity can be calculated by concatenating the sparse and dense vector.
e.g. if the dense vector is length 1024 and the sparse one is length 30,000, you can think of it as a single vector of length 31,024</span> <span class=chatlog__edited-timestamp title="Friday, July 28, 2023 11:15‚ÄØAM">(edited)</span></div></div></div></div><div id=chatlog__message-container-1134504876580278273 class=chatlog__message-container data-message-id=1134504876580278273><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, July 28, 2023 11:17‚ÄØAM">11:17‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i suppose it&#39;s worth trying to do that step on my end and just store that as a single vector. i just have no idea how that would compress with lance, or how efficiently it would be indexed for search</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1134529495517376542 class=chatlog__message-container data-message-id=1134529495517376542><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Friday, July 28, 2023 12:55‚ÄØPM"><a href=#chatlog__message-container-1134529495517376542>7/28/2023 12:55‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I don&#39;t think we have solid plans yet for sparse vectors, but it certainly does sound interesting. On the storage side we&#39;d like to figure out what the appropriate on disk layout would be, preferably based on what would be most compatible with other libraries we want to integrate with. Then on the index side we&#39;d need to add indices specialized for sparse vectors.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1136334394236350484 class=chatlog__message-container data-message-id=1136334394236350484><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=.tullie data-user-id=703245629559668758>tullie</span> <span class=chatlog__timestamp title="Wednesday, August 2, 2023 12:27‚ÄØPM"><a href=#chatlog__message-container-1136334394236350484>8/2/2023 12:27‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is it possible to store a container type within a lance column and then have a where predicate that filters based on the elements within the container? E.g. Have a container column called &#39;colors&#39;, which has rows like: [&#39;red&#39;, &#39;green&#39;], or [&#39;yellow, &#39;blue&#39;], then having a where predicate:  &#39;yellow&#39; IN colors.</span> <span class=chatlog__edited-timestamp title="Wednesday, August 2, 2023 12:27‚ÄØPM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1137299697883685025 class=chatlog__message-container data-message-id=1137299697883685025><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=thomaschaton_91415 data-user-id=1111087492196749352>Thomas Chaton</span> <span class=chatlog__timestamp title="Saturday, August 5, 2023 4:22‚ÄØAM"><a href=#chatlog__message-container-1137299697883685025>8/5/2023 4:22‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey there ! I am really interested to give a try from parquet to lance. However, our entire codebase is in Go as for most cloud platform. It would be great to have go bindings to use Lance. I am currently using: <a href="https://github.com/xitongsys/parquet-go">https://github.com/xitongsys/parquet-go</a> and it works pretty well.</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/xitongsys/parquet-go><div class="chatlog__markdown chatlog__markdown-preserve">GitHub - xitongsys/parquet-go: pure golang library for reading/writ...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">pure golang library for reading/writing parquet file - GitHub - xitongsys/parquet-go: pure golang library for reading/writing parquet file</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/sr38nhDcKeqog9kDgqwtckAcwG7EsXjtuU1GeJXd5TI/https/opengraph.githubassets.com/5616a2663f182939d78aeb13a0c44dd512a9b59c11f3fc12300d35200500a231/xitongsys/parquet-go> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/sr38nhDcKeqog9kDgqwtckAcwG7EsXjtuU1GeJXd5TI/https/opengraph.githubassets.com/5616a2663f182939d78aeb13a0c44dd512a9b59c11f3fc12300d35200500a231/xitongsys/parquet-go alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1137632177266364449 class=chatlog__message-container data-message-id=1137632177266364449><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=thomaschaton_91415>Thomas Chaton</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1137299697883685025')"> Hey there ! I am really interested to give a try from parquet to lance. However, our entire codebase is in Go as for most cloud platform. It would be great to have go bindings to use Lance. I am currently using: <a href="https://github.com/xitongsys/parquet-go">https://github.com/xitongsys/parquet-go</a> and it works pretty well. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Sunday, August 6, 2023 2:24‚ÄØAM"><a href=#chatlog__message-container-1137632177266364449>8/6/2023 2:24‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, <span class="chatlog__markdown-mention" title="thomaschaton_91415">@Thomas Chaton</span> . Thanks for the suggestion. we dont really have golang SDK there in our roadmap.  As the core of lance is written in Rust, it might need either 1. use FFI to call a C API from go, or 2. re-implement features natively in Golang.</span></div></div></div></div><div id=chatlog__message-container-1137632494204755971 class=chatlog__message-container data-message-id=1137632494204755971><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Sunday, August 6, 2023 2:25‚ÄØAM">2:25‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Converting parquet to lance itself is very trivial in Python.  Reading in golang is more difficult</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1137802024419868772 class=chatlog__message-container data-message-id=1137802024419868772><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=lei.xu>lei</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1137632177266364449')"> Hi, <span class="chatlog__markdown-mention" title="thomaschaton_91415">@Thomas Chaton</span> . Thanks for the suggestion. we dont really have golang SDK there in our roadmap.  As the core of lance is written in Rust, it might need either 1. use FFI to call a C API from go, or 2. re-implement features natively in Golang. </span></div></div><div class=chatlog__header><span class=chatlog__author title=thomaschaton_91415 data-user-id=1111087492196749352>Thomas Chaton</span> <span class=chatlog__timestamp title="Sunday, August 6, 2023 1:39‚ÄØPM"><a href=#chatlog__message-container-1137802024419868772>8/6/2023 1:39‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey <span class="chatlog__markdown-mention" title="lei.xu">@lei</span> Yes, this is what I guessed. I might try to start rust in a subprocess for the ingestion but I would have to find something out for the reading.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1138731407120793661 class=chatlog__message-container data-message-id=1138731407120793661><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/655808024421597225/4a37ae523d9f8ae92afde16f6ec42654.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=ashiskumarnaik data-user-id=655808024421597225>Ashis K. Naik</span> <span class=chatlog__timestamp title="Wednesday, August 9, 2023 3:12‚ÄØAM"><a href=#chatlog__message-container-1138731407120793661>8/9/2023 3:12‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi team , How can I delete all the tables at once ? I can see in the implementation of drop_table() method that it only takes one table name(string) to delete.</span> <span class=chatlog__edited-timestamp title="Wednesday, August 9, 2023 6:49‚ÄØAM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1138846703299084318 class=chatlog__message-container data-message-id=1138846703299084318><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, August 9, 2023 10:50‚ÄØAM"><a href=#chatlog__message-container-1138846703299084318>8/9/2023 10:50‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi <img
    loading="lazy"
    class="chatlog__emoji "
    alt="üëã"
    title="wave"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44b.svg"> for now you can just shutil.rmtree(database_dir) as a workaround. We could consider a drop_database or delete_all_tables command if you‚Äôd like to file a GitHub issue</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1138850302888513617 class=chatlog__message-container data-message-id=1138850302888513617><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/655808024421597225/4a37ae523d9f8ae92afde16f6ec42654.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1138846703299084318')"> Hi <img
    loading="lazy"
    class="chatlog__emoji "
    alt="üëã"
    title="wave"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44b.svg"> for now you can just shutil.rmtree(database_dir) as a workaround. We could consider a drop_database or delete_all_tables command if you‚Äôd like to file a GitHub issue </span></div></div><div class=chatlog__header><span class=chatlog__author title=ashiskumarnaik data-user-id=655808024421597225>Ashis K. Naik</span> <span class=chatlog__timestamp title="Wednesday, August 9, 2023 11:04‚ÄØAM"><a href=#chatlog__message-container-1138850302888513617>8/9/2023 11:04‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Sure</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1139198809897971773 class=chatlog__message-container data-message-id=1139198809897971773><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/655808024421597225/4a37ae523d9f8ae92afde16f6ec42654.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1138846703299084318')"> Hi <img
    loading="lazy"
    class="chatlog__emoji "
    alt="üëã"
    title="wave"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44b.svg"> for now you can just shutil.rmtree(database_dir) as a workaround. We could consider a drop_database or delete_all_tables command if you‚Äôd like to file a GitHub issue </span></div></div><div class=chatlog__header><span class=chatlog__author title=ashiskumarnaik data-user-id=655808024421597225>Ashis K. Naik</span> <span class=chatlog__timestamp title="Thursday, August 10, 2023 10:09‚ÄØAM"><a href=#chatlog__message-container-1139198809897971773>8/10/2023 10:09‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi <span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span> I have made a PR can you take a look:  <a href="https://github.com/lancedb/lancedb/pull/418">https://github.com/lancedb/lancedb/pull/418</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/pull/418><div class="chatlog__markdown chatlog__markdown-preserve">implementation of drop_database by ashiskumarnaik &#183; Pull Request #4...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">#416 Fixed.
added drop_database() method . This deletes all the tables from the database with a single command.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/hcKdrtyydJLR2Ir-wzA3ZMJhGRkjsAgtaeVyYih7goo/https/opengraph.githubassets.com/b85723e715fc58976aa10b9a81b7d005406e16a974d6f5ea0af923bde0210676/lancedb/lancedb/pull/418> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/hcKdrtyydJLR2Ir-wzA3ZMJhGRkjsAgtaeVyYih7goo/https/opengraph.githubassets.com/b85723e715fc58976aa10b9a81b7d005406e16a974d6f5ea0af923bde0210676/lancedb/lancedb/pull/418 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1139322703845789756 class=chatlog__message-container data-message-id=1139322703845789756><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/655808024421597225/4a37ae523d9f8ae92afde16f6ec42654.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=ashiskumarnaik data-user-id=655808024421597225>Ashis K. Naik</span> <span class=chatlog__timestamp title="Thursday, August 10, 2023 6:21‚ÄØPM"><a href=#chatlog__message-container-1139322703845789756>8/10/2023 6:21‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is the order of getting table_names different ? I am getting in the github checks the python/mac is passing but the python/linux is failing.
<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">=========================== short test summary info ============================
FAILED tests/test_db.py::test_drop_database - AssertionError: assert [&#39;test&#39;, &#39;new_test&#39;] == [&#39;new_test&#39;, &#39;test&#39;]
  At index 0 diff: &#39;test&#39; != &#39;new_test&#39;
  Full diff:
  - [&#39;new_test&#39;, &#39;test&#39;]
  + [&#39;test&#39;, &#39;new_test&#39;]</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1139422798176075776 class=chatlog__message-container data-message-id=1139422798176075776><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Friday, August 11, 2023 12:59‚ÄØAM"><a href=#chatlog__message-container-1139422798176075776>8/11/2023 12:59‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="ashiskumarnaik">@Ashis K. Naik</span> it seems <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table_names</code> is doing <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">filesystem.get_file_info</code>.  Since the path is a local path then<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">filesystem</code> will be <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">pyarrow.fs.LocalFileSystem</code> and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">get_file_info</code> is basically just a call to the OS <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">readdir</code> (<a href="https://man7.org/linux/man-pages/man3/readdir.3.html)">https://man7.org/linux/man-pages/man3/readdir.3.html)</a> which states:

<div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">The order in which filenames are read by successive calls to
       readdir() depends on the filesystem implementation; it is
       unlikely that the names will be sorted in any fashion.
</div></div>
So, no, there is no stable order, it will depend on the filesystem.  I wonder if we want to sort the table names ourselves as part of the call to <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table_names</code>  Having a reliable order will be useful I think.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1141928576531300402 class=chatlog__message-container data-message-id=1141928576531300402><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/871066379481141298/ed1047b3ad7a6073de3d454df7ffa9cc.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=geekyme data-user-id=871066379481141298>geekyme</span> <span class=chatlog__timestamp title="Thursday, August 17, 2023 10:56‚ÄØPM"><a href=#chatlog__message-container-1141928576531300402>8/17/2023 10:56‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is there a way where I can specify the priority of a vector search? For example, I have the following documents:
<ul><li>internal guidelines data (priority 1)</li><li>helpdesk data (priority 2)</li><li>website data (priority 3)</li></ul></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1141929662847660094 class=chatlog__message-container data-message-id=1141929662847660094><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Thursday, August 17, 2023 11:00‚ÄØPM"><a href=#chatlog__message-container-1141929662847660094>8/17/2023 11:00‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We dont have mulitple column vector search in the moment, as search from different vector space is hard to guarantee decent overlap. Usually user will do these three search by themselves, and do re-ranking of them in user logic.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1141960470874566726 class=chatlog__message-container data-message-id=1141960470874566726><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/871066379481141298/ed1047b3ad7a6073de3d454df7ffa9cc.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=lei.xu>lei</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1141929662847660094')"> We dont have mulitple column vector search in the moment, as search from different vector space is hard to guarantee decent overlap. Usually user will do these three search by themselves, and do re-ranking of them in user logic. </span></div></div><div class=chatlog__header><span class=chatlog__author title=geekyme data-user-id=871066379481141298>geekyme</span> <span class=chatlog__timestamp title="Friday, August 18, 2023 1:03‚ÄØAM"><a href=#chatlog__message-container-1141960470874566726>8/18/2023 1:03‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hmm I see, so for my use case, would you recommend I put my documents in 3 different tables?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1141968097356550204 class=chatlog__message-container data-message-id=1141968097356550204><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Friday, August 18, 2023 1:33‚ÄØAM"><a href=#chatlog__message-container-1141968097356550204>8/18/2023 1:33‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>No need, we can store them in same table with three different vector columns. (might need to fix API a bit)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1143944509617606687 class=chatlog__message-container data-message-id=1143944509617606687><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/871066379481141298/ed1047b3ad7a6073de3d454df7ffa9cc.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=lei.xu>lei</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1141968097356550204')"> No need, we can store them in same table with three different vector columns. (might need to fix API a bit) </span></div></div><div class=chatlog__header><span class=chatlog__author title=geekyme data-user-id=871066379481141298>geekyme</span> <span class=chatlog__timestamp title="Wednesday, August 23, 2023 12:27‚ÄØPM"><a href=#chatlog__message-container-1143944509617606687>8/23/2023 12:27‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hmm what do you mean 3 different vector columns?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1143947595278991360 class=chatlog__message-container data-message-id=1143947595278991360><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/871066379481141298/ed1047b3ad7a6073de3d454df7ffa9cc.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=geekyme>geekyme</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1141928576531300402')"> Is there a way where I can specify the priority of a vector search? For example, I have the following documents:
<ul><li>internal guidelines data (priority 1)</li><li>helpdesk data (priority 2)</li><li>website data (priority 3)</li></ul> </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Wednesday, August 23, 2023 12:39‚ÄØPM"><a href=#chatlog__message-container-1143947595278991360>8/23/2023 12:39‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I wonder if you could accomplish this with a custom embedding function. Add an additional priority dimension to each vector, and when you search always search with priority 1. Then vectors that are similar in both the inner embedding and priority will be closest. <span class="chatlog__markdown-mention" title="lei.xu">@lei</span> what do you think of that?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1143948071424761916 class=chatlog__message-container data-message-id=1143948071424761916><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/871066379481141298/ed1047b3ad7a6073de3d454df7ffa9cc.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wjones127>Will Jones</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1143947595278991360')"> I wonder if you could accomplish this with a custom embedding function. Add an additional priority dimension to each vector, and when you search always search with priority 1. Then vectors that are similar in both the inner embedding and priority will be closest. <span class="chatlog__markdown-mention" title="lei.xu">@lei</span> what do you think of that? </span></div></div><div class=chatlog__header><span class=chatlog__author title=geekyme data-user-id=871066379481141298>geekyme</span> <span class=chatlog__timestamp title="Wednesday, August 23, 2023 12:41‚ÄØPM"><a href=#chatlog__message-container-1143948071424761916>8/23/2023 12:41‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hmm do you have a gist / example you could document? That would probably be helpful for others too.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1143949704711901204 class=chatlog__message-container data-message-id=1143949704711901204><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Wednesday, August 23, 2023 12:47‚ÄØPM"><a href=#chatlog__message-container-1143949704711901204>8/23/2023 12:47‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Not at the moment, but something we can write up soon. When I&#39;ve talked to developers who&#39;ve made successful search products, being able to mix in supplemental scores into the final score was pretty critical for them, so I&#39;m keen to make sure we can do that in Lance / LanceDB.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup_tone1><img class="chatlog__emoji chatlog__emoji--small" alt=üëçüèª src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d-1f3fb.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1143951104598614016 class=chatlog__message-container data-message-id=1143951104598614016><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Wednesday, August 23, 2023 12:53‚ÄØPM"><a href=#chatlog__message-container-1143951104598614016>8/23/2023 12:53‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>You might need to normalize it.  For example, if your vectors (including priority) have three dimensions and the priority is [0, 1, 2] but the other two dimensions have a standard deviation of some big range like 1000 then a difference in priority might not be very significant (at least for L2, I&#39;m not as familiar with the other distance metrics).  On the other hand, if your priority was 100000, 200000, 300000 then priority should be the dominant attribute.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>2</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1145924312084250684 class=chatlog__message-container data-message-id=1145924312084250684><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=lei.xu>lei</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1141968097356550204')"> No need, we can store them in same table with three different vector columns. (might need to fix API a bit) </span></div></div><div class=chatlog__header><span class=chatlog__author title=bagelwrestlingtennis data-user-id=798116684316934184>Nitish</span> <span class=chatlog__timestamp title="Monday, August 28, 2023 11:34‚ÄØPM"><a href=#chatlog__message-container-1145924312084250684>8/28/2023 11:34‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I am also interested in this, can we store 3 different vectors in 3 different columns or do I need to create separate tables</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1145927525692878858 class=chatlog__message-container data-message-id=1145927525692878858><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=bagelwrestlingtennis data-user-id=798116684316934184>Nitish</span> <span class=chatlog__timestamp title="Monday, August 28, 2023 11:46‚ÄØPM"><a href=#chatlog__message-container-1145927525692878858>8/28/2023 11:46‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I have a few other questions
<ul><li>Does LanceDB have any benchmarks for the data it can manage(I have read the blog, anything else you might have). </li><li>What is the timeline for DiskANN(In some other forums people suggested that the Lance Team is working on this)</li><li>I know that the project is relatively new but how stable do you think this is. Any major issues that I should be aware about</li><li>What are the plans around full text search, is it here to stay? Is it similar to FTS offered in Sqllite

Some of these questions might help me decide if I can use this in a prod env</li></ul></span> <span class=chatlog__edited-timestamp title="Monday, August 28, 2023 11:49‚ÄØPM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1145929551952748626 class=chatlog__message-container data-message-id=1145929551952748626><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=bagelwrestlingtennis>Nitish</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1145924312084250684')"> I am also interested in this, can we store 3 different vectors in 3 different columns or do I need to create separate tables </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Monday, August 28, 2023 11:54‚ÄØPM"><a href=#chatlog__message-container-1145929551952748626>8/28/2023 11:54‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>You should not need multiple tables. But you will need to specify which vector column to query on. Are you using the python sdk or node sdk?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1145929639064240128 class=chatlog__message-container data-message-id=1145929639064240128><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1145929551952748626')"> You should not need multiple tables. But you will need to specify which vector column to query on. Are you using the python sdk or node sdk? </span></div></div><div class=chatlog__header><span class=chatlog__author title=bagelwrestlingtennis data-user-id=798116684316934184>Nitish</span> <span class=chatlog__timestamp title="Monday, August 28, 2023 11:55‚ÄØPM"><a href=#chatlog__message-container-1145929639064240128>8/28/2023 11:55‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I plan to use Python SDK</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1145930702379024394 class=chatlog__message-container data-message-id=1145930702379024394><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=bagelwrestlingtennis>Nitish</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1145927525692878858')"> I have a few other questions
<ul><li>Does LanceDB have any benchmarks for the data it can manage(I have read the blog, anything else you might have). </li><li>What is the timeline for DiskANN(In some other forums people suggested that the Lance Team is working on this)</li><li>I know that the project is relatively new but how stable do you think this is. Any major issues that I should be aware about</li><li>What are the plans around full text search, is it here to stay? Is it similar to FTS offered in Sqllite

Some of these questions might help me decide if I can use this in a prod env</li></ul> </span> <span class=chatlog__reply-edited-timestamp title="Monday, August 28, 2023 11:49‚ÄØPM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Monday, August 28, 2023 11:59‚ÄØPM"><a href=#chatlog__message-container-1145930702379024394>8/28/2023 11:59‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>1. What kind of benchmarks are you interested in? There are a few in the lance format repo (scan perf, random access, vector search)
2. DiskANN is experimental right now. We need to do a bunch of tuning and optimization. However, our current index can already deliver low latency serving (&lt;50ms) for 1B vectors on a single node.
3. We occasionally make breaking changes but they‚Äôre avoided as much as possible.
4. Yes FTS is here to stay. I forgot exactly how FTS is implemented in SQLLite but you can refer to our docs for the fts feature details</span></div></div></div></div><div id=chatlog__message-container-1145930969203884073 class=chatlog__message-container data-message-id=1145930969203884073><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, August 29, 2023 12:00‚ÄØAM">12:00‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>FTS <a href="https://lancedb.github.io/lancedb/fts/">https://lancedb.github.io/lancedb/fts/</a></span></div></div></div></div><div id=chatlog__message-container-1145931272171028490 class=chatlog__message-container data-message-id=1145931272171028490><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, August 29, 2023 12:01‚ÄØAM">12:01‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>If you‚Äôre thinking about prod we‚Äôre also building out a hosted version you can sign up for <a href="https://noteforms.com/forms/lancedb-mailing-list-cloud-kty1o5?notionforms=1&amp;utm_source=notionforms">https://noteforms.com/forms/lancedb-mailing-list-cloud-kty1o5?notionforms=1&amp;utm_source=notionforms</a></span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href="https://noteforms.com/forms/lancedb-mailing-list-cloud-kty1o5?notionforms=1&amp;utm_source=notionforms"><div class="chatlog__markdown chatlog__markdown-preserve">LanceDB Cloud <img
    loading="lazy"
    class="chatlog__emoji "
    alt="‚òÅ"
    title="‚òÅ"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/2601.svg">Ô∏è &#183; NoteForms</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Request early access to LanceDB Cloud. We&#39;ll reach out to get you setup with your account.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/LSJbdSDTEj6RsYYT6DnE-f133tGnuJeaC4m4s7Ldgyw/https/d29ykaszcd1t1v.cloudfront.net/b1f1f31b-5ad2-4353-a7da-e524aa49c8d9/img/social-preview.jpg> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/LSJbdSDTEj6RsYYT6DnE-f133tGnuJeaC4m4s7Ldgyw/https/d29ykaszcd1t1v.cloudfront.net/b1f1f31b-5ad2-4353-a7da-e524aa49c8d9/img/social-preview.jpg alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1145931459383787600 class=chatlog__message-container data-message-id=1145931459383787600><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1145930702379024394')"> 1. What kind of benchmarks are you interested in? There are a few in the lance format repo (scan perf, random access, vector search)
2. DiskANN is experimental right now. We need to do a bunch of tuning and optimization. However, our current index can already deliver low latency serving (&lt;50ms) for 1B vectors on a single node.
3. We occasionally make breaking changes but they‚Äôre avoided as much as possible.
4. Yes FTS is here to stay. I forgot exactly how FTS is implemented in SQLLite but you can refer to our docs for the fts feature details </span></div></div><div class=chatlog__header><span class=chatlog__author title=bagelwrestlingtennis data-user-id=798116684316934184>Nitish</span> <span class=chatlog__timestamp title="Tuesday, August 29, 2023 12:02‚ÄØAM"><a href=#chatlog__message-container-1145931459383787600>8/29/2023 12:02‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Thanks for this information and for building this awesome package<img
    loading="lazy"
    class="chatlog__emoji "
    alt="üôÇ"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"> 

Can you point me to the benchmarks in the format repo, I am specifically interested in Vector Search</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1145931492162277447 class=chatlog__message-container data-message-id=1145931492162277447><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Tuesday, August 29, 2023 12:02‚ÄØAM"><a href=#chatlog__message-container-1145931492162277447>8/29/2023 12:02‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>See the ‚ÄúBenchmarks‚Äù section of the README <a href="https://github.com/lancedb/lance">https://github.com/lancedb/lance</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance><div class="chatlog__markdown chatlog__markdown-preserve">GitHub - lancedb/lance: Modern columnar data format for ML and LLMs...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Modern columnar data format for ML and LLMs implemented in Rust. Convert from parquet in 2 lines of code for 100x faster random access, vector index, and data versioning. Compatible with Pandas, Du...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/Two6lpqa9ZHn6BGWNuq4p_5mP2lLL9OGclFycaaQNbU/https/opengraph.githubassets.com/881fade70d9ed15e2fae366b11f8cf8f7144daf07223dc157c1417f3ab30d754/lancedb/lance> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/Two6lpqa9ZHn6BGWNuq4p_5mP2lLL9OGclFycaaQNbU/https/opengraph.githubassets.com/881fade70d9ed15e2fae366b11f8cf8f7144daf07223dc157c1417f3ab30d754/lancedb/lance alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div><div id=chatlog__message-container-1145931795536285817 class=chatlog__message-container data-message-id=1145931795536285817><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, August 29, 2023 12:03‚ÄØAM">12:03‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Some additional latency vs recall benchmarks <a href="https://github.com/lancedb/lance/blob/main/benchmarks/sift/lance_sift1m_stats.csv">https://github.com/lancedb/lance/blob/main/benchmarks/sift/lance_sift1m_stats.csv</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/blob/main/benchmarks/sift/lance_sift1m_stats.csv><div class="chatlog__markdown chatlog__markdown-preserve">lance/benchmarks/sift/lance_sift1m_stats.csv at main &#183; lancedb/lance</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Modern columnar data format for ML and LLMs implemented in Rust. Convert from parquet in 2 lines of code for 100x faster random access, vector index, and data versioning. Compatible with Pandas, Du...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/Two6lpqa9ZHn6BGWNuq4p_5mP2lLL9OGclFycaaQNbU/https/opengraph.githubassets.com/881fade70d9ed15e2fae366b11f8cf8f7144daf07223dc157c1417f3ab30d754/lancedb/lance> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/Two6lpqa9ZHn6BGWNuq4p_5mP2lLL9OGclFycaaQNbU/https/opengraph.githubassets.com/881fade70d9ed15e2fae366b11f8cf8f7144daf07223dc157c1417f3ab30d754/lancedb/lance alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1146299611284242512 class=chatlog__message-container data-message-id=1146299611284242512><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/871066379481141298/ed1047b3ad7a6073de3d454df7ffa9cc.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=geekyme data-user-id=871066379481141298>geekyme</span> <span class=chatlog__timestamp title="Wednesday, August 30, 2023 12:25‚ÄØAM"><a href=#chatlog__message-container-1146299611284242512>8/30/2023 12:25‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Any plans to support GPT cache on LanceDB? Milvus and the rest of the lot are on it <a href="https://gptcache.readthedocs.io/en/latest/">https://gptcache.readthedocs.io/en/latest/</a>

<div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">Vector Store: The Vector Store module helps find the K most similar requests from the input request‚Äôs extracted embedding. The results can help assess similarity. GPTCache provides a user-friendly interface that supports various vector stores, including Milvus, Zilliz Cloud, and FAISS. More options will be available in the future</div></div></span> <span class=chatlog__edited-timestamp title="Wednesday, August 30, 2023 12:25‚ÄØAM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1146344695027478578 class=chatlog__message-container data-message-id=1146344695027478578><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, August 30, 2023 3:24‚ÄØAM"><a href=#chatlog__message-container-1146344695027478578>8/30/2023 3:24‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>we&#39;re certainly open to integrating with the ecosystem. GPTCache is a Zilliz (Milvus) project, wasn&#39;t aware that they were integrating with other vector databases tbh. Are you using GPTCache today? would love to learn more about it</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1146487210774896730 class=chatlog__message-container data-message-id=1146487210774896730><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/871066379481141298/ed1047b3ad7a6073de3d454df7ffa9cc.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1146344695027478578')"> we&#39;re certainly open to integrating with the ecosystem. GPTCache is a Zilliz (Milvus) project, wasn&#39;t aware that they were integrating with other vector databases tbh. Are you using GPTCache today? would love to learn more about it </span></div></div><div class=chatlog__header><span class=chatlog__author title=geekyme data-user-id=871066379481141298>geekyme</span> <span class=chatlog__timestamp title="Wednesday, August 30, 2023 12:50‚ÄØPM"><a href=#chatlog__message-container-1146487210774896730>8/30/2023 12:50‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I have the use case to cache my LLM calls, because my use case is heavy on customer service. So lots of website information lookups which can be cached. 

GPT cache separated the idea of the cache store from the vector store, but I&#39;m not sure why they want to do that. Ideally I can just work with a single store - lancedb for my caching needs too.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1147185313794494474 class=chatlog__message-container data-message-id=1147185313794494474><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1145930702379024394')"> 1. What kind of benchmarks are you interested in? There are a few in the lance format repo (scan perf, random access, vector search)
2. DiskANN is experimental right now. We need to do a bunch of tuning and optimization. However, our current index can already deliver low latency serving (&lt;50ms) for 1B vectors on a single node.
3. We occasionally make breaking changes but they‚Äôre avoided as much as possible.
4. Yes FTS is here to stay. I forgot exactly how FTS is implemented in SQLLite but you can refer to our docs for the fts feature details </span></div></div><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Friday, September 1, 2023 11:04‚ÄØAM"><a href=#chatlog__message-container-1147185313794494474>9/1/2023 11:04‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Very excited for DiskANN!!!!!!!!</span></div></div></div></div><div id=chatlog__message-container-1147185777353170965 class=chatlog__message-container data-message-id=1147185777353170965><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, September 1, 2023 11:06‚ÄØAM">11:06‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>(Possible) feature request: if i understand correctly, HNSW has multiple layers. It would be super interesting to get access to the search path and layers</span></div></div></div></div><div id=chatlog__message-container-1147186245991149578 class=chatlog__message-container data-message-id=1147186245991149578><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, September 1, 2023 11:08‚ÄØAM">11:08‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>For example, it would be super interesting not just to search the nearest neighbors in the last layer, but effectively look at slightly more distant neighbors by going up a layer, moving laterally, and then descending. I&#39;m interested in finding large groups of results that are <em>not</em> the closest to my query, but could be diverse and interesting</span></div></div></div></div><div id=chatlog__message-container-1147187012353413252 class=chatlog__message-container data-message-id=1147187012353413252><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, September 1, 2023 11:11‚ÄØAM">11:11‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>To be more concrete, for my search queries I can type in &#39;gift for a three year old&#39; and get results that are incredibly narrow: thousands of shirts that say &quot;i just turned three years old&quot;. but i <em>only</em> get shirts that say variations of that. that is extremely accurate, but that is also extremely narrow! mathematically, these are the closest vectors to the query. but I&#39;d love to find not more nearest neighbors, but also try to find some more distant neighbors too, and hopefully get to three year old <em>toys</em>, three year old <em>books</em>, three year old swimsuits, etc.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1147220214535168124 class=chatlog__message-container data-message-id=1147220214535168124><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Friday, September 1, 2023 1:23‚ÄØPM"><a href=#chatlog__message-container-1147220214535168124>9/1/2023 1:23‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>DiskANN is a flat graph but we can certainly consider adding some debugging API that returns the search path at least. very interesting use case. Definitely seems like something very useful for a lot of folks</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=heart_eyes_cat><img class="chatlog__emoji chatlog__emoji--small" alt=üòª src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f63b.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1147239529133121666 class=chatlog__message-container data-message-id=1147239529133121666><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Friday, September 1, 2023 2:40‚ÄØPM"><a href=#chatlog__message-container-1147239529133121666>9/1/2023 2:40‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yes! The structure of the index is itself very interesting to query. At least in HNSW, it&#39;s sort of like hierarchical clustering. And that&#39;s very interesting, because it could allow you to take a query vector and find a more abstract/parent version of that query, find siblings, find descendants, etc.</span> <span class=chatlog__edited-timestamp title="Friday, September 1, 2023 2:41‚ÄØPM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1147239948471247028 class=chatlog__message-container data-message-id=1147239948471247028><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Friday, September 1, 2023 2:41‚ÄØPM"><a href=#chatlog__message-container-1147239948471247028>9/1/2023 2:41‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>in DiskANN , there are &quot;long path&quot; and &quot;short path&quot;, there long path is designed to jump to further away to skip slower short path BFS.</span></div></div></div></div><div id=chatlog__message-container-1147240217703624765 class=chatlog__message-container data-message-id=1147240217703624765><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, September 1, 2023 2:43‚ÄØPM">2:43‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>it would be interesting to expose HNSW / diskann internal to user for index analyze</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1147240243569893528 class=chatlog__message-container data-message-id=1147240243569893528><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Friday, September 1, 2023 2:43‚ÄØPM"><a href=#chatlog__message-container-1147240243569893528>9/1/2023 2:43‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>indeed!</span></div></div></div></div><div id=chatlog__message-container-1147240398935302197 class=chatlog__message-container data-message-id=1147240398935302197><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, September 1, 2023 2:43‚ÄØPM">2:43‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>In that case, I&#39;d be interested in: find the closest node to the query, then do 1 &#39;long&#39; jump. what&#39;s nearby? it&#39;s probably trading off direct relevance but maybe getting more interesting/diverse results</span></div></div></div></div><div id=chatlog__message-container-1147240733435248791 class=chatlog__message-container data-message-id=1147240733435248791><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, September 1, 2023 2:45‚ÄØPM">2:45‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>In a world where queries are ambiguous and could map to many different things, maybe that could automatically find all the other possible meanings, rather narrowly finding the one that is closest?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1147241257945534494 class=chatlog__message-container data-message-id=1147241257945534494><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Friday, September 1, 2023 2:47‚ÄØPM"><a href=#chatlog__message-container-1147241257945534494>9/1/2023 2:47‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>that&#39;s  interesting. it then exposes the index search to a user-controlled index traversal problems now.  Let us to track this request.  I do feel it might take a while to get the DX right tho.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1149336070933188638 class=chatlog__message-container data-message-id=1149336070933188638><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/871066379481141298/ed1047b3ad7a6073de3d454df7ffa9cc.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=geekyme data-user-id=871066379481141298>geekyme</span> <span class=chatlog__timestamp title="Thursday, September 7, 2023 9:31‚ÄØAM"><a href=#chatlog__message-container-1149336070933188638>9/7/2023 9:31‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey guys, do you have an example of how to do ‚Äútalk to your PDF‚Äù use case? I would like to load up a PDF like a bank statement and ask questions.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1149399681978355853 class=chatlog__message-container data-message-id=1149399681978355853><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=.tullie data-user-id=703245629559668758>tullie</span> <span class=chatlog__timestamp title="Thursday, September 7, 2023 1:43‚ÄØPM"><a href=#chatlog__message-container-1149399681978355853>9/7/2023 1:43‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey <span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span> do you have any plans to work on this task anytime soon? <a href="https://github.com/lancedb/lance/issues/876">https://github.com/lancedb/lance/issues/876</a>. It&#39;s a major bottleneck for us and curious if there&#39;s any timeline</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/issues/876.><div class="chatlog__markdown chatlog__markdown-preserve">Issues &#183; lancedb/lance</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Modern columnar data format for ML and LLMs implemented in Rust. Convert from parquet in 2 lines of code for 100x faster random access, vector index, and data versioning. Compatible with Pandas, Du...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/fxUCx4i_QPYOd_OcfMf-b0oibDSRvT2EX6Mw3AiX9yY/https/opengraph.githubassets.com/cc070735e55d7ea7a7e684d223a415f2a94a45f4de28c080dfb08db4dd20cd84/lancedb/lance> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/fxUCx4i_QPYOd_OcfMf-b0oibDSRvT2EX6Mw3AiX9yY/https/opengraph.githubassets.com/cc070735e55d7ea7a7e684d223a415f2a94a45f4de28c080dfb08db4dd20cd84/lancedb/lance alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1149418419314237471 class=chatlog__message-container data-message-id=1149418419314237471><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, September 7, 2023 2:58‚ÄØPM"><a href=#chatlog__message-container-1149418419314237471>9/7/2023 2:58‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hey <span class="chatlog__markdown-mention" title=".tullie">@tullie</span> we&#39;ve been focused on building out LanceDB Cloud so we haven&#39;t had the bandwidth to work that particular feature yet. <span class="chatlog__markdown-mention" title="lei.xu">@lei</span> and i were actually discussing this two weeks back. I&#39;m actually not sure how much batching would speed things up here since it&#39;s very likely each query vector will need different partitions. It might be easier to just issue a bunch of concurrent requests? How about I DM you and see what&#39;s the easiest workaround for y&#39;all?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1149536842908172310 class=chatlog__message-container data-message-id=1149536842908172310><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/871066379481141298/ed1047b3ad7a6073de3d454df7ffa9cc.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=geekyme>geekyme</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1149336070933188638')"> Hey guys, do you have an example of how to do ‚Äútalk to your PDF‚Äù use case? I would like to load up a PDF like a bank statement and ask questions. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, September 7, 2023 10:49‚ÄØPM"><a href=#chatlog__message-container-1149536842908172310>9/7/2023 10:49‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>1. there are a bunch of options to parse text from pdfs like pypdf, pdfminer, etc
2. to extract tables (since it&#39;s a bank statement), try something like tabula-py?
3. if you want to ask a question about your bank statement, it feels like you may want to extract the data table and then generate some piece of pandas code or sql to analyze the table and answer your question. But i suppose that depends on what kind of questions you want to ask</span> <span class=chatlog__edited-timestamp title="Thursday, September 7, 2023 10:51‚ÄØPM">(edited)</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup_tone1><img class="chatlog__emoji chatlog__emoji--small" alt=üëçüèª src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d-1f3fb.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1149687807154061375 class=chatlog__message-container data-message-id=1149687807154061375><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/871066379481141298/ed1047b3ad7a6073de3d454df7ffa9cc.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=geekyme>geekyme</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1149336070933188638')"> Hey guys, do you have an example of how to do ‚Äútalk to your PDF‚Äù use case? I would like to load up a PDF like a bank statement and ask questions. </span></div></div><div class=chatlog__header><span class=chatlog__author title=ramvenka data-user-id=1148597577713975357>Ram Kumar</span> <span class=chatlog__timestamp title="Friday, September 8, 2023 8:48‚ÄØAM"><a href=#chatlog__message-container-1149687807154061375>9/8/2023 8:48‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>There are many examples available on the internet that show how to achieve this. This code also works with PyPDF.
<a href="https://lancedb.github.io/lancedb/notebooks/code_qa_bot/">https://lancedb.github.io/lancedb/notebooks/code_qa_bot/</a></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup_tone1><img class="chatlog__emoji chatlog__emoji--small" alt=üëçüèª src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d-1f3fb.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1149824277433032855 class=chatlog__message-container data-message-id=1149824277433032855><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/362075461104304130/ae038494f1f332fdc6aa7cc551b1888e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rumhamz data-user-id=362075461104304130>Nate Harada</span> <span class=chatlog__timestamp title="Friday, September 8, 2023 5:51‚ÄØPM"><a href=#chatlog__message-container-1149824277433032855>9/8/2023 5:51‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey team! Does LanceDB support float16 storage formats for vectors to save on space when high precision isn&#39;t required?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1149826752743485480 class=chatlog__message-container data-message-id=1149826752743485480><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Friday, September 8, 2023 6:01‚ÄØPM"><a href=#chatlog__message-container-1149826752743485480>9/8/2023 6:01‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>not yet but that&#39;s on the roadmap. We&#39;ll probably start with bf16 actually - same space as f16 but with f32 dynamic range</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1149831136294469692 class=chatlog__message-container data-message-id=1149831136294469692><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/362075461104304130/ae038494f1f332fdc6aa7cc551b1888e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rumhamz data-user-id=362075461104304130>Nate Harada</span> <span class=chatlog__timestamp title="Friday, September 8, 2023 6:18‚ÄØPM"><a href=#chatlog__message-container-1149831136294469692>9/8/2023 6:18‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>oh yeah that&#39;s even better</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1151536434533117962 class=chatlog__message-container data-message-id=1151536434533117962><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=davin_22191 data-user-id=1135657708557709392>Davin</span> <span class=chatlog__timestamp title="Wednesday, September 13, 2023 11:14‚ÄØAM"><a href=#chatlog__message-container-1151536434533117962>9/13/2023 11:14‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello! I&#39;m playing around with lancedb&#39;s search functionality and I&#39;m wondering if lancedb supports batch queries? Or a way to send multiple vectors in a single request at a time?</span> <span class=chatlog__edited-timestamp title="Wednesday, September 13, 2023 11:14‚ÄØAM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1151555198649630770 class=chatlog__message-container data-message-id=1151555198649630770><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, September 13, 2023 12:29‚ÄØPM"><a href=#chatlog__message-container-1151555198649630770>9/13/2023 12:29‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Currently no. It‚Äôs on the roadmap but we just haven‚Äôt had the bandwidth to tackle it yet.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1154345408194170902 class=chatlog__message-container data-message-id=1154345408194170902><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=ukclivecox data-user-id=1137732231876583454>Clive</span> <span class=chatlog__timestamp title="Thursday, September 21, 2023 5:16‚ÄØAM"><a href=#chatlog__message-container-1154345408194170902>9/21/2023 5:16‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>+1 on above - batch queries would be very useful</span></div></div></div></div><div id=chatlog__message-container-1154345469259030598 class=chatlog__message-container data-message-id=1154345469259030598><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, September 21, 2023 5:16‚ÄØAM">5:16‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is there a github issue to track?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1154379870399373323 class=chatlog__message-container data-message-id=1154379870399373323><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=ukclivecox>Clive</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1154345469259030598')"> Is there a github issue to track? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Thursday, September 21, 2023 7:33‚ÄØAM"><a href=#chatlog__message-container-1154379870399373323>9/21/2023 7:33‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://github.com/lancedb/lance/issues/876">https://github.com/lancedb/lance/issues/876</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/issues/876><div class="chatlog__markdown chatlog__markdown-preserve">Allow issue vector search in batch mode &#183; Issue #876 &#183; lancedb/lance</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Problem Statement Instead of query one vector a time, allows user to issue multiple queries in the same request, exposing more opportunity for internal parallisms. enable vector searching for a bat...</div></div></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1157723784204267661 class=chatlog__message-container data-message-id=1157723784204267661><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/362075461104304130/ae038494f1f332fdc6aa7cc551b1888e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rumhamz data-user-id=362075461104304130>Nate Harada</span> <span class=chatlog__timestamp title="Saturday, September 30, 2023 1:00‚ÄØPM"><a href=#chatlog__message-container-1157723784204267661>9/30/2023 1:00‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey team! What&#39;s the current roadmap looking like with respect to GPU features? For example, GPU index training, possibly GPU accelerated queries (is that even possible)?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1157735916987744296 class=chatlog__message-container data-message-id=1157735916987744296><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Saturday, September 30, 2023 1:49‚ÄØPM"><a href=#chatlog__message-container-1157735916987744296>9/30/2023 1:49‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We are evaluating GPU (esp. TPU) indexing at the moment. It might take 1-2 months to get a more definite answer. 

Btw, w.r.t. of index training performance, <a href="https://github.com/lancedb/lance/pull/1312">https://github.com/lancedb/lance/pull/1312</a> this branch can train a 30M 768-D dataset (wiki dataset), with <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">IVF8192,PQ96,cosine</code> in 1 hr 14 minutes.  On a AMD 5900X, 64GB RAM, ubuntu 22.04 machine, with <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">RUSTFLAGS=-C target-cpu=native</code></span> <span class=chatlog__edited-timestamp title="Saturday, September 30, 2023 1:50‚ÄØPM">(edited)</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/pull/1312><div class="chatlog__markdown chatlog__markdown-preserve">feat: build ivf partition using disk based shuffler by eddyxu &#183; Pul...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Reduce the memory consumption to run IVF_PQ
Building block for distributed IVF_PQ indexing
Better multi-thread support during IVF assignment</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/xYoqSuj0Nw65Cl3SUHC1aL7PcCO7B7rSuDX7uEeNeXY/https/opengraph.githubassets.com/253e8ba0ce698c712dd5099edd55072bf8c4391d1d5323c2dc1c6ba62c9a6e3d/lancedb/lance/pull/1312> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/xYoqSuj0Nw65Cl3SUHC1aL7PcCO7B7rSuDX7uEeNeXY/https/opengraph.githubassets.com/253e8ba0ce698c712dd5099edd55072bf8c4391d1d5323c2dc1c6ba62c9a6e3d/lancedb/lance/pull/1312 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1158863541403660338 class=chatlog__message-container data-message-id=1158863541403660338><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Tuesday, October 3, 2023 4:29‚ÄØPM"><a href=#chatlog__message-container-1158863541403660338>10/3/2023 4:29‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="rumhamz">@Nate Harada</span> the indexing speed up is released in <a href="https://github.com/lancedb/lance/releases/tag/v0.8.1">https://github.com/lancedb/lance/releases/tag/v0.8.1</a>.  We will bump lancedb to include the fix in a few hours.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1158868243075833907 class=chatlog__message-container data-message-id=1158868243075833907><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/362075461104304130/ae038494f1f332fdc6aa7cc551b1888e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rumhamz data-user-id=362075461104304130>Nate Harada</span> <span class=chatlog__timestamp title="Tuesday, October 3, 2023 4:48‚ÄØPM"><a href=#chatlog__message-container-1158868243075833907>10/3/2023 4:48‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>oh nice! does that mean it&#39;s by default compiled with the custom rust flags then?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1158875754071855184 class=chatlog__message-container data-message-id=1158875754071855184><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Tuesday, October 3, 2023 5:18‚ÄØPM"><a href=#chatlog__message-container-1158875754071855184>10/3/2023 5:18‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>by default it is still target-cpu=haswell, but it removes the single thread in the last stage. 
I was able to train a 30M,768M dataset , IVF8096,PQ96,cosine , can be done in 1h 14m</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1158889108605771806 class=chatlog__message-container data-message-id=1158889108605771806><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Tuesday, October 3, 2023 6:11‚ÄØPM"><a href=#chatlog__message-container-1158889108605771806>10/3/2023 6:11‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>OH, also since it uses local disk for shuffling of IVF partitions, it should keep the memory undercontrol , you should not see OOM in your machine , <span class="chatlog__markdown-mention" title="rumhamz">@Nate Harada</span></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1159564585301446687 class=chatlog__message-container data-message-id=1159564585301446687><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Thursday, October 5, 2023 2:55‚ÄØPM"><a href=#chatlog__message-container-1159564585301446687>10/5/2023 2:55‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="rumhamz">@Nate Harada</span> we&#39;ve landed experimental GPU support <a href="https://github.com/lancedb/lance/pull/1361">https://github.com/lancedb/lance/pull/1361</a>   , gonna do a release soon</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/pull/1361><div class="chatlog__markdown chatlog__markdown-preserve">feat(python): gpu based ivf partition training by eddyxu &#183; Pull Req...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Use pytorch to train IVF partitions on GPU
ds.create_index(...,  accelerator=&quot;cuda&quot;)</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/6WMuySleNqbyEn1Hu3AKeaOEEbX3V0v0cbRrsFHNMJ0/https/opengraph.githubassets.com/b087e0b207a422e4552582627e5afa6a6c68131de787251a5983e0292648f108/lancedb/lance/pull/1361> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/6WMuySleNqbyEn1Hu3AKeaOEEbX3V0v0cbRrsFHNMJ0/https/opengraph.githubassets.com/b087e0b207a422e4552582627e5afa6a6c68131de787251a5983e0292648f108/lancedb/lance/pull/1361 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1159921764688740352 class=chatlog__message-container data-message-id=1159921764688740352><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/362075461104304130/ae038494f1f332fdc6aa7cc551b1888e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rumhamz data-user-id=362075461104304130>Nate Harada</span> <span class=chatlog__timestamp title="Friday, October 6, 2023 2:34‚ÄØPM"><a href=#chatlog__message-container-1159921764688740352>10/6/2023 2:34‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>awesome! once it&#39;s in a release I&#39;ll do some benchmarking on my end</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1159935301666484255 class=chatlog__message-container data-message-id=1159935301666484255><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Friday, October 6, 2023 3:28‚ÄØPM"><a href=#chatlog__message-container-1159935301666484255>10/6/2023 3:28‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">---------------------------------------- benchmark &#39;kmeans&#39;: 1 tests -----------------------------------------
Name (time in s)          Min      Max     Mean  StdDev   Median     IQR  Outliers     OPS  Rounds  Iterations
--------------------------------------------------------------------------------------------------------------
test_kmeans_torch     14.0936  18.5737  15.0893  1.9502  14.2909  1.2531       1;1  0.0663       5           1
--------------------------------------------------------------------------------------------------------------
on Cuda
------------------------------------------ benchmark &#39;kmeans&#39;: 1 tests -------------------------------------------
Name (time in s)           Min       Max      Mean  StdDev    Median     IQR  Outliers     OPS  Rounds  Iterations
------------------------------------------------------------------------------------------------------------------
test_kmeans_torch     166.2126  172.1808  168.8325  2.6321  168.8662  4.7347       1;0  0.0059       5           1
------------------------------------------------------------------------------------------------------------------
on MPS</code>
This is what i got from my end.   Cuda = old TITAN RTX  for IVF8192</span></div></div></div></div><div id=chatlog__message-container-1159935374836121701 class=chatlog__message-container data-message-id=1159935374836121701><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, October 6, 2023 3:29‚ÄØPM">3:29‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">MPS</code> = <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">M2 MAX 64GB</code></span></div></div></div></div><div id=chatlog__message-container-1159935483397292082 class=chatlog__message-container data-message-id=1159935483397292082><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, October 6, 2023 3:29‚ÄØPM">3:29‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>cc <span class="chatlog__markdown-mention" title="rumhamz">@Nate Harada</span></span></div></div></div></div><div id=chatlog__message-container-1159935548706791515 class=chatlog__message-container data-message-id=1159935548706791515><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, October 6, 2023 3:29‚ÄØPM">3:29‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://github.com/lancedb/lance/pull/1370">https://github.com/lancedb/lance/pull/1370</a> some speed improvement here</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/pull/1370><div class="chatlog__markdown chatlog__markdown-preserve">chore: improve kmean performance on MPS by eddyxu &#183; Pull Request #1...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Run faster on Apple Silicon GPUs</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/uBsA8E0VMxaJhCAQ1DytAC0FA0G77p6B5fUZCCXS0nI/https/opengraph.githubassets.com/1246d9a71c36fccf3a5a756d046967f5080b54da84acfd01796195970e860fb7/lancedb/lance/pull/1370> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/uBsA8E0VMxaJhCAQ1DytAC0FA0G77p6B5fUZCCXS0nI/https/opengraph.githubassets.com/1246d9a71c36fccf3a5a756d046967f5080b54da84acfd01796195970e860fb7/lancedb/lance/pull/1370 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1159936504567709717 class=chatlog__message-container data-message-id=1159936504567709717><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Friday, October 6, 2023 3:33‚ÄØPM"><a href=#chatlog__message-container-1159936504567709717>10/6/2023 3:33‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Note: that‚Äôs the kmeans part not the whole index creation process</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1159944660563787878 class=chatlog__message-container data-message-id=1159944660563787878><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Friday, October 6, 2023 4:05‚ÄØPM"><a href=#chatlog__message-container-1159944660563787878>10/6/2023 4:05‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yes, by comparison, training IVF8196 on AMD 5950X CPU is about 2000s</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1160072315900543116 class=chatlog__message-container data-message-id=1160072315900543116><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Saturday, October 7, 2023 12:33‚ÄØAM"><a href=#chatlog__message-container-1160072315900543116>10/7/2023 12:33‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>The latest <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">main</code> delivers 20x speed up on Apple M1/M2 GPU, and 40x speed up on TITAN RTX (i&#39;d expect much more on 40-series / A10/L4) .  150x faster on L2 (updated)</span> <span class=chatlog__edited-timestamp title="Monday, October 9, 2023 12:34‚ÄØPM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1161890712896426015 class=chatlog__message-container data-message-id=1161890712896426015><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/261206277017960448/24e3ebcf94c10a92fd1a93beaad3a9f7.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=gggrunt data-user-id=261206277017960448>gggrunt</span> <span class=chatlog__timestamp title="Thursday, October 12, 2023 12:58‚ÄØAM"><a href=#chatlog__message-container-1161890712896426015>10/12/2023 12:58‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>not sure if this is a proper feature request, but I am looking for ways to filter before embedding search, the use case is that i have a few collection of documents that relate closely to one another(think different people&#39;s notes over time) and I&#39;d want to figure out the most relevant notes across whole collection vs. most relevant notes per person given a note. I don&#39;t know if the right way is creating multiple tables, it feels wrong to create N tables per person but i also can&#39;t do search-then-where &#39;cause the embedding search may not surface up any other notes by the person of interest.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162046767924269106 class=chatlog__message-container data-message-id=1162046767924269106><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/261206277017960448/24e3ebcf94c10a92fd1a93beaad3a9f7.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=gggrunt>gggrunt</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1161890712896426015')"> not sure if this is a proper feature request, but I am looking for ways to filter before embedding search, the use case is that i have a few collection of documents that relate closely to one another(think different people&#39;s notes over time) and I&#39;d want to figure out the most relevant notes across whole collection vs. most relevant notes per person given a note. I don&#39;t know if the right way is creating multiple tables, it feels wrong to create N tables per person but i also can&#39;t do search-then-where &#39;cause the embedding search may not surface up any other notes by the person of interest. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Thursday, October 12, 2023 11:18‚ÄØAM"><a href=#chatlog__message-container-1162046767924269106>10/12/2023 11:18‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I think you are looking for the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">prefilter</code> parameter. If you set that to true, you can apply a filter prior to searching.  In LanceDB Python, this looks like:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">    df = (
        LanceVectorQueryBuilder(table, [0, 0], &quot;vector&quot;)
        .where(&quot;user_id = 2&quot;, prefilter=True)
        .limit(10)
        .to_df()
    )</code>
One limitation right now is this only works on tables where there isn&#39;t an ANN index. Usually when filtering to a specific user like this, the ANN index is unnecesssary anyways, since there are so few rows.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162061703543001119 class=chatlog__message-container data-message-id=1162061703543001119><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/261206277017960448/24e3ebcf94c10a92fd1a93beaad3a9f7.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=gggrunt data-user-id=261206277017960448>gggrunt</span> <span class=chatlog__timestamp title="Thursday, October 12, 2023 12:18‚ÄØPM"><a href=#chatlog__message-container-1162061703543001119>10/12/2023 12:18‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Thanks for the tip on that! Was looking through the docs+code for hours and did not see that flag
Yeah, the point for this is that I&#39;d like to support both really small number of docs post-filter with KNN vs. ANN for a full dataset, without having to think about creating N number of tables for any subset of the dataset.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162062224739807272 class=chatlog__message-container data-message-id=1162062224739807272><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Thursday, October 12, 2023 12:20‚ÄØPM"><a href=#chatlog__message-container-1162062224739807272>10/12/2023 12:20‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yeah for some reason the flag is missing from the docs. I&#39;ll look into that. <a href="https://github.com/lancedb/lancedb/issues/559">https://github.com/lancedb/lancedb/issues/559</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/issues/559><div class="chatlog__markdown chatlog__markdown-preserve">prefilter flag is missing from the API docs &#183; Issue #559 &#183; lancedb/...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve"><a href="https://lancedb.github.io/lancedb/python/python/#lancedb.query.LanceQueryBuilder.where">https://lancedb.github.io/lancedb/python/python/#lancedb.query.LanceQueryBuilder.where</a></div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/NxTQdbzMHog3lRx6ADOKoNRC2nmIemeKMyzmcK0OkJk/https/opengraph.githubassets.com/17af487cd305dddda64bceec64e2d306a1c66004e7bfa2f2114130567fbbc47b/lancedb/lancedb/issues/559> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/NxTQdbzMHog3lRx6ADOKoNRC2nmIemeKMyzmcK0OkJk/https/opengraph.githubassets.com/17af487cd305dddda64bceec64e2d306a1c66004e7bfa2f2114130567fbbc47b/lancedb/lancedb/issues/559 alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=tada><img class="chatlog__emoji chatlog__emoji--small" alt=üéâ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f389.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162064214639247441 class=chatlog__message-container data-message-id=1162064214639247441><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/261206277017960448/24e3ebcf94c10a92fd1a93beaad3a9f7.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=gggrunt data-user-id=261206277017960448>gggrunt</span> <span class=chatlog__timestamp title="Thursday, October 12, 2023 12:28‚ÄØPM"><a href=#chatlog__message-container-1162064214639247441>10/12/2023 12:28‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="wjones127">@Will Jones</span> also i suppose you can only choose prefilter or postfilter?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1162068888490606703 class=chatlog__message-container data-message-id=1162068888490606703><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, October 12, 2023 12:46‚ÄØPM"><a href=#chatlog__message-container-1162068888490606703>10/12/2023 12:46‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yeah the filter is applied either before or after the search</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164250109240950954 class=chatlog__message-container data-message-id=1164250109240950954><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Wednesday, October 18, 2023 1:14‚ÄØPM"><a href=#chatlog__message-container-1164250109240950954>10/18/2023 1:14‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Feature request: to return vectors as quantized integers and be able to separately compress/decompress them on a different machine. I frequently require a large number of results (e.g. 1k-10k, and usually the more the better) and the vector size is huge (something like 50-100MB) which makes it super hard to stand up Lance as a separate endpoint. But with PQ? It goes down to 1-2MB, which is amazing. Plus, you guys already have it, just likely not exposed <img
    loading="lazy"
    class="chatlog__emoji "
    alt="üôÇ"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164250376464240741 class=chatlog__message-container data-message-id=1164250376464240741><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=chrisemoody>chrisemoody</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1164250109240950954')"> Feature request: to return vectors as quantized integers and be able to separately compress/decompress them on a different machine. I frequently require a large number of results (e.g. 1k-10k, and usually the more the better) and the vector size is huge (something like 50-100MB) which makes it super hard to stand up Lance as a separate endpoint. But with PQ? It goes down to 1-2MB, which is amazing. Plus, you guys already have it, just likely not exposed <img
    loading="lazy"
    class="chatlog__emoji "
    alt="üôÇ"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"> </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Wednesday, October 18, 2023 1:15‚ÄØPM"><a href=#chatlog__message-container-1164250376464240741>10/18/2023 1:15‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I think we always load the full vectors to re-rank them. Are you also asking to skip that step?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164253813704765547 class=chatlog__message-container data-message-id=1164253813704765547><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wjones127>Will Jones</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1164250376464240741')"> I think we always load the full vectors to re-rank them. Are you also asking to skip that step? </span></div></div><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Wednesday, October 18, 2023 1:28‚ÄØPM"><a href=#chatlog__message-container-1164253813704765547>10/18/2023 1:28‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>In this case, yes, it is safe to skip re-ranking. If you&#39;re retrieving 10k results, the ranking is somewhat less sensitive</span> <span class=chatlog__edited-timestamp title="Wednesday, October 18, 2023 1:30‚ÄØPM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164257125527212052 class=chatlog__message-container data-message-id=1164257125527212052><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=chrisemoody>chrisemoody</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1164253813704765547')"> In this case, yes, it is safe to skip re-ranking. If you&#39;re retrieving 10k results, the ranking is somewhat less sensitive </span> <span class=chatlog__reply-edited-timestamp title="Wednesday, October 18, 2023 1:30‚ÄØPM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Wednesday, October 18, 2023 1:42‚ÄØPM"><a href=#chatlog__message-container-1164257125527212052>10/18/2023 1:42‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Interesting. I think it would be a meaningful refactor to allow this kind of low-level access to the index itself.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164257346839662693 class=chatlog__message-container data-message-id=1164257346839662693><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wjones127>Will Jones</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1164257125527212052')"> Interesting. I think it would be a meaningful refactor to allow this kind of low-level access to the index itself. </span></div></div><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Wednesday, October 18, 2023 1:43‚ÄØPM"><a href=#chatlog__message-container-1164257346839662693>10/18/2023 1:43‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yeah, seems likely. You&#39;d want access to the code words too so you decompress them on a different machine too</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164265665230798940 class=chatlog__message-container data-message-id=1164265665230798940><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=chrisemoody>chrisemoody</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1164257346839662693')"> Yeah, seems likely. You&#39;d want access to the code words too so you decompress them on a different machine too </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Wednesday, October 18, 2023 2:16‚ÄØPM"><a href=#chatlog__message-container-1164265665230798940>10/18/2023 2:16‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Okay we&#39;ll think about this. I&#39;ve captured here: <a href="https://github.com/lancedb/lance/issues/1432">https://github.com/lancedb/lance/issues/1432</a> Given the changes are big, this likely won&#39;t be. something we jump on soon.</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/issues/1432><div class="chatlog__markdown chatlog__markdown-preserve">Provide access to raw index results &#183; Issue #1432 &#183; lancedb/lance</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Some users may want to get the raw PQ values and codebook and decompress themselves. This would require a refactor of how we want indexes plus expose some very low-level details, so we should think...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/14CzUDMi6cXnAsNm70Xm_oVxWHLYYQue4HIcYsiTy-E/https/opengraph.githubassets.com/ff6c5a342868e51213b7c3fd3c87acb4abbfa57caf0dfa28c6af0e5560e50f03/lancedb/lance/issues/1432> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/14CzUDMi6cXnAsNm70Xm_oVxWHLYYQue4HIcYsiTy-E/https/opengraph.githubassets.com/ff6c5a342868e51213b7c3fd3c87acb4abbfa57caf0dfa28c6af0e5560e50f03/lancedb/lance/issues/1432 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164266810296778833 class=chatlog__message-container data-message-id=1164266810296778833><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wjones127>Will Jones</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1164265665230798940')"> Okay we&#39;ll think about this. I&#39;ve captured here: <a href="https://github.com/lancedb/lance/issues/1432">https://github.com/lancedb/lance/issues/1432</a> Given the changes are big, this likely won&#39;t be. something we jump on soon. </span></div></div><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Wednesday, October 18, 2023 2:20‚ÄØPM"><a href=#chatlog__message-container-1164266810296778833>10/18/2023 2:20‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>thanks! not a dealbreaker for me.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164426265349070909 class=chatlog__message-container data-message-id=1164426265349070909><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=energetic_maypole_64699 data-user-id=1144859643500306513>Ben</span> <span class=chatlog__timestamp title="Thursday, October 19, 2023 12:54‚ÄØAM"><a href=#chatlog__message-container-1164426265349070909>10/19/2023 12:54‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i saw this github issue, but is there any update on when upsert might be supported?
<a href="https://github.com/lancedb/lancedb/issues/524">https://github.com/lancedb/lancedb/issues/524</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/issues/524><div class="chatlog__markdown chatlog__markdown-preserve">Support UPSERT in LanceDB &#183; Issue #524 &#183; lancedb/lancedb</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Problem Statement Support upsert in LanceDB to allow user update data</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/BiB0BjcXFdwod9Nu9w7cktvad8vzagfOqICPK0kwm9E/https/opengraph.githubassets.com/208b209b1d766e8f6d433f40104a3e406843446c46de935bae20b1c4b37e2e48/lancedb/lancedb/issues/524> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/BiB0BjcXFdwod9Nu9w7cktvad8vzagfOqICPK0kwm9E/https/opengraph.githubassets.com/208b209b1d766e8f6d433f40104a3e406843446c46de935bae20b1c4b37e2e48/lancedb/lancedb/issues/524 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164427129266642965 class=chatlog__message-container data-message-id=1164427129266642965><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=energetic_maypole_64699>Ben</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1164426265349070909')"> i saw this github issue, but is there any update on when upsert might be supported?
<a href="https://github.com/lancedb/lancedb/issues/524">https://github.com/lancedb/lancedb/issues/524</a> </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, October 19, 2023 12:57‚ÄØAM"><a href=#chatlog__message-container-1164427129266642965>10/19/2023 12:57‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>no timeline yet. we need to do some investigation to estimate the amount of work required</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164427283247935569 class=chatlog__message-container data-message-id=1164427283247935569><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1164427129266642965')"> no timeline yet. we need to do some investigation to estimate the amount of work required </span></div></div><div class=chatlog__header><span class=chatlog__author title=energetic_maypole_64699 data-user-id=1144859643500306513>Ben</span> <span class=chatlog__timestamp title="Thursday, October 19, 2023 12:58‚ÄØAM"><a href=#chatlog__message-container-1164427283247935569>10/19/2023 12:58‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>gotcha, is there a work around you would suggest in the mean time to mimic this functionality?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164427691559231540 class=chatlog__message-container data-message-id=1164427691559231540><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/261206277017960448/24e3ebcf94c10a92fd1a93beaad3a9f7.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=gggrunt data-user-id=261206277017960448>gggrunt</span> <span class=chatlog__timestamp title="Thursday, October 19, 2023 12:59‚ÄØAM"><a href=#chatlog__message-container-1164427691559231540>10/19/2023 12:59‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Eh, you could do try-catch to switch between create vs insert?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164427807183605863 class=chatlog__message-container data-message-id=1164427807183605863><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, October 19, 2023 1:00‚ÄØAM"><a href=#chatlog__message-container-1164427807183605863>10/19/2023 1:00‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>we have delete functionality, so if you can write a filter expression to remove the duplicates you can do <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table.delete(expr)</code> then <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table.add(new_data)</code></span></div></div></div></div><div id=chatlog__message-container-1164427993909821511 class=chatlog__message-container data-message-id=1164427993909821511><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, October 19, 2023 1:01‚ÄØAM">1:01‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>doing try-catch row by row is a valid workaround too. If you&#39;re inserting a lot of rows the performance won&#39;t be great. And also, if you do that remember to compact the table at the end</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div><div id=chatlog__message-container-1164428239473746041 class=chatlog__message-container data-message-id=1164428239473746041><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, October 19, 2023 1:02‚ÄØAM">1:02‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>compaction: <a href="https://github.com/lancedb/lancedb/blob/main/python/lancedb/table.py#L925">https://github.com/lancedb/lancedb/blob/main/python/lancedb/table.py#L925</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/blob/main/python/lancedb/table.py><div class="chatlog__markdown chatlog__markdown-preserve">lancedb/python/lancedb/table.py at main &#183; lancedb/lancedb</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Developer-friendly, serverless vector database for AI applications. Easily add long-term memory to your LLM apps! - lancedb/lancedb</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/YEQqQYFzoDIyKKUzZEsOmOICoIg2ilwCxZFxHjiInzI/https/opengraph.githubassets.com/afc4737a6db7d4c62d3bb9f3fffb8dc425e1e59af45a4cfd64e91c864b6012fc/lancedb/lancedb> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/YEQqQYFzoDIyKKUzZEsOmOICoIg2ilwCxZFxHjiInzI/https/opengraph.githubassets.com/afc4737a6db7d4c62d3bb9f3fffb8dc425e1e59af45a4cfd64e91c864b6012fc/lancedb/lancedb alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164651281353285632 class=chatlog__message-container data-message-id=1164651281353285632><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=energetic_maypole_64699 data-user-id=1144859643500306513>Ben</span> <span class=chatlog__timestamp title="Thursday, October 19, 2023 3:48‚ÄØPM"><a href=#chatlog__message-container-1164651281353285632>10/19/2023 3:48‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>is there any out of the box encryption for lanceDB? Looking for something equiv to sqlcipher</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164654284554641428 class=chatlog__message-container data-message-id=1164654284554641428><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=energetic_maypole_64699>Ben</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1164651281353285632')"> is there any out of the box encryption for lanceDB? Looking for something equiv to sqlcipher </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, October 19, 2023 4:00‚ÄØPM"><a href=#chatlog__message-container-1164654284554641428>10/19/2023 4:00‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>currently we don&#39;t have something like sqlcipher. Would filesystem encryption work (i&#39;ve not tried it myself)?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164679459371225108 class=chatlog__message-container data-message-id=1164679459371225108><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=energetic_maypole_64699 data-user-id=1144859643500306513>Ben</span> <span class=chatlog__timestamp title="Thursday, October 19, 2023 5:40‚ÄØPM"><a href=#chatlog__message-container-1164679459371225108>10/19/2023 5:40‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>ideally it would be more granular as we want to avoid the overhead of encrypting an entire portion of disk</span></div></div></div></div><div id=chatlog__message-container-1164679511158308894 class=chatlog__message-container data-message-id=1164679511158308894><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, October 19, 2023 5:40‚ÄØPM">5:40‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>also sqlcipher has nice ways to link the encripytion to applications</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164709712655302666 class=chatlog__message-container data-message-id=1164709712655302666><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, October 19, 2023 7:40‚ÄØPM"><a href=#chatlog__message-container-1164709712655302666>10/19/2023 7:40‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Gotcha. We‚Äôll look into it. Would you mind filing a GitHub issue so we don‚Äôt lose track of it</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164754453199585290 class=chatlog__message-container data-message-id=1164754453199585290><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/915234773990006795/5445ffd7ffb201a98393cbdf684ea4b1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=llasun95 data-user-id=915234773990006795>Chait</span> <span class=chatlog__timestamp title="Thursday, October 19, 2023 10:38‚ÄØPM"><a href=#chatlog__message-container-1164754453199585290>10/19/2023 10:38‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey there!
I have a use case for using MMR search, would love to use the langchain integration, but happy to use the native functionality on LanceDB if it&#39;s being thought about. I couldn‚Äôt find anything on the docs or GitHub.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164759188816285706 class=chatlog__message-container data-message-id=1164759188816285706><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/915234773990006795/5445ffd7ffb201a98393cbdf684ea4b1.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=llasun95>Chait</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1164754453199585290')"> Hey there!
I have a use case for using MMR search, would love to use the langchain integration, but happy to use the native functionality on LanceDB if it&#39;s being thought about. I couldn‚Äôt find anything on the docs or GitHub. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Thursday, October 19, 2023 10:57‚ÄØPM"><a href=#chatlog__message-container-1164759188816285706>10/19/2023 10:57‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I assume by MMR you mean <a href="https://python.langchain.com/docs/modules/model_io/prompts/example_selectors/mmr">Maximal Marginal Relevance</a>? If so, we don&#39;t support that now but it is very intriguing.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1164949530656112710 class=chatlog__message-container data-message-id=1164949530656112710><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/915234773990006795/5445ffd7ffb201a98393cbdf684ea4b1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wjones127>Will Jones</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1164759188816285706')"> I assume by MMR you mean <a href="https://python.langchain.com/docs/modules/model_io/prompts/example_selectors/mmr">Maximal Marginal Relevance</a>? If so, we don&#39;t support that now but it is very intriguing. </span></div></div><div class=chatlog__header><span class=chatlog__author title=llasun95 data-user-id=915234773990006795>Chait</span> <span class=chatlog__timestamp title="Friday, October 20, 2023 11:33‚ÄØAM"><a href=#chatlog__message-container-1164949530656112710>10/20/2023 11:33‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yes!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1165045942668501032 class=chatlog__message-container data-message-id=1165045942668501032><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/915234773990006795/5445ffd7ffb201a98393cbdf684ea4b1.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=llasun95>Chait</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1164754453199585290')"> Hey there!
I have a use case for using MMR search, would love to use the langchain integration, but happy to use the native functionality on LanceDB if it&#39;s being thought about. I couldn‚Äôt find anything on the docs or GitHub. </span></div></div><div class=chatlog__header><span class=chatlog__author title="Deleted User" data-user-id=456226577798135808>Deleted User</span> <span class=chatlog__timestamp title="Friday, October 20, 2023 5:56‚ÄØPM"><a href=#chatlog__message-container-1165045942668501032>10/20/2023 5:56‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>whats the difference between this and semantic rerank?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1165048692861050962 class=chatlog__message-container data-message-id=1165048692861050962><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/915234773990006795/5445ffd7ffb201a98393cbdf684ea4b1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=llasun95 data-user-id=915234773990006795>Chait</span> <span class=chatlog__timestamp title="Friday, October 20, 2023 6:07‚ÄØPM"><a href=#chatlog__message-container-1165048692861050962>10/20/2023 6:07‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>IIRC Semantic reranking is to reorder or rerank the initial set of search results based on their semantic relevance to the user&#39;s query. 
MMR seeks to select documents that are both relevant to the query and different from each other. 

My use case for recommender engines so diversity is a consideration.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1165049039432196127 class=chatlog__message-container data-message-id=1165049039432196127><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/915234773990006795/5445ffd7ffb201a98393cbdf684ea4b1.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=llasun95>Chait</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1165048692861050962')"> IIRC Semantic reranking is to reorder or rerank the initial set of search results based on their semantic relevance to the user&#39;s query. 
MMR seeks to select documents that are both relevant to the query and different from each other. 

My use case for recommender engines so diversity is a consideration. </span></div></div><div class=chatlog__header><span class=chatlog__author title="Deleted User" data-user-id=456226577798135808>Deleted User</span> <span class=chatlog__timestamp title="Friday, October 20, 2023 6:08‚ÄØPM"><a href=#chatlog__message-container-1165049039432196127>10/20/2023 6:08‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>ahh i see definitely a different solution than what i asked about, thanks for the clarification</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1165353359587414077 class=chatlog__message-container data-message-id=1165353359587414077><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1058755251940900946/d044b06490e5c624b171c83e29724486.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=_.zys._ data-user-id=1058755251940900946>zys</span> <span class=chatlog__timestamp title="Saturday, October 21, 2023 2:18‚ÄØPM"><a href=#chatlog__message-container-1165353359587414077>10/21/2023 2:18‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello, what are the best ways (if any) to interface LanceDB with other technology stack like C# and/or Java ?
I am not fan of python especially when the project becomes big, and this is mostly due to the untyped nature of python, which makes development much more costly and time consuming than typed languages.
So if you have a way to interface with C# or Java, I would be happy to learn about  it.
Thank you</span> <span class=chatlog__edited-timestamp title="Saturday, October 21, 2023 2:19‚ÄØPM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1165355002496299059 class=chatlog__message-container data-message-id=1165355002496299059><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, October 21, 2023 2:24‚ÄØPM"><a href=#chatlog__message-container-1165355002496299059>10/21/2023 2:24‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We don‚Äôt have a C# / Java integration yet, but it‚Äôs definitely on the wishlist. Our TypeScript package uses Rust FFI. It‚Äôs possible the JVM integration would go through a similar path but that‚Äôs tdb</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1165447488405262418 class=chatlog__message-container data-message-id=1165447488405262418><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/261206277017960448/24e3ebcf94c10a92fd1a93beaad3a9f7.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=gggrunt data-user-id=261206277017960448>gggrunt</span> <span class=chatlog__timestamp title="Saturday, October 21, 2023 8:32‚ÄØPM"><a href=#chatlog__message-container-1165447488405262418>10/21/2023 8:32‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Tools like pydantic and mypy can help a lot with the lack of typing system in python though</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1169389998202691645 class=chatlog__message-container data-message-id=1169389998202691645><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=energetic_maypole_64699 data-user-id=1144859643500306513>Ben</span> <span class=chatlog__timestamp title="Wednesday, November 1, 2023 5:38‚ÄØPM"><a href=#chatlog__message-container-1169389998202691645>11/1/2023 5:38‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>When running with HF embeddings, does the utils.with_embeddings method have a flag to switch between GPU usage and not?</span> <span class=chatlog__edited-timestamp title="Wednesday, November 1, 2023 5:38‚ÄØPM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1169405985811611668 class=chatlog__message-container data-message-id=1169405985811611668><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, November 1, 2023 6:41‚ÄØPM"><a href=#chatlog__message-container-1169405985811611668>11/1/2023 6:41‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>if you&#39;re using sentence transformers using the lancedb embedding function registry, then you can choose the device when creating the function instance. Using the explicit <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">with_embeddings</code> API, that wraps the internal function you&#39;re supplying it so you can do whatever you like in there</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1171710879587389510 class=chatlog__message-container data-message-id=1171710879587389510><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=cmclean165_25187 data-user-id=1158835514686853121>mclean-connor</span> <span class=chatlog__timestamp title="Wednesday, November 8, 2023 2:20‚ÄØAM"><a href=#chatlog__message-container-1171710879587389510>11/8/2023 2:20‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Two requests:
1) being able to change table names
2) http remote connection file service. i use ftp and it would be nice to connect to my db from anywhere. i know there is the cloud version... but connecting to my own would be nice</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1171850050725486612 class=chatlog__message-container data-message-id=1171850050725486612><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Wednesday, November 8, 2023 11:33‚ÄØAM"><a href=#chatlog__message-container-1171850050725486612>11/8/2023 11:33‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>For ftp there are various utilities that allows you to mount ftp as a drive the main issue is performance. Eg <a href="https://linuxconfig.org/mount-remote-ftp-directory-host-locally-into-linux-filesystem">https://linuxconfig.org/mount-remote-ftp-directory-host-locally-into-linux-filesystem</a> caveat I‚Äôve not tried this myself</span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://linuxconfig.org/mount-remote-ftp-directory-host-locally-into-linux-filesystem><div class="chatlog__markdown chatlog__markdown-preserve">Mount remote ftp directory host locally into linux filesystem</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">In this tutorial, we show the step by step instructions to mount a remote FTP directory on a Linux system.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/M7tMafNBgPDZ7oO-P1F4dxDPqWG9waYj35rPdliWp80/https/linuxconfig.org/wp-content/uploads/2013/04/00-mount-remote-ftp-directory-host-locally-into-linux-filesystem.png> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/M7tMafNBgPDZ7oO-P1F4dxDPqWG9waYj35rPdliWp80/https/linuxconfig.org/wp-content/uploads/2013/04/00-mount-remote-ftp-directory-host-locally-into-linux-filesystem.png alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1171905082858688634 class=chatlog__message-container data-message-id=1171905082858688634><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=universalmind303 data-user-id=674379435058921472>universalmind303</span> <span class=chatlog__timestamp title="Wednesday, November 8, 2023 3:12‚ÄØPM"><a href=#chatlog__message-container-1171905082858688634>11/8/2023 3:12‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hey not sure if this is the best channel for this kind of question, but i&#39;m working on making the dataset options more configurable as part of <a href="https://github.com/lancedb/lance/issues/1542">https://github.com/lancedb/lance/issues/1542</a>.

I noticed that creation of the object stores <em>could</em> be done without async except for the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">dynamodb_external_store</code> which uses tokio&#39;s <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">RwLock</code> inside <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">DynamoDBExternalManifestStore::new_external_store</code>

I&#39;m wondering if there&#39;s any reason we couldn&#39;t swap that out for <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">parking_lot::RwLock</code> and make the object store creation not need async?</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/issues/1542.><div class="chatlog__markdown chatlog__markdown-preserve">Issues &#183; lancedb/lance</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Modern columnar data format for ML and LLMs implemented in Rust. Convert from parquet in 2 lines of code for 100x faster random access, vector index, and data versioning. Compatible with Pandas, Du...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/K3mmXle7S5NwlmRySucVfNkOUMsUudwU9zhTn-ojFwo/https/opengraph.githubassets.com/03eb5844ddad83f4060cf049899cee2e03a3a3fa4928406eb53172a712851275/lancedb/lance> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/K3mmXle7S5NwlmRySucVfNkOUMsUudwU9zhTn-ojFwo/https/opengraph.githubassets.com/03eb5844ddad83f4060cf049899cee2e03a3a3fa4928406eb53172a712851275/lancedb/lance alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1171940250264805470 class=chatlog__message-container data-message-id=1171940250264805470><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, November 8, 2023 5:32‚ÄØPM"> <a href=#chatlog__message-container-1171940250264805470>11/8/2023 5:32‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1179324646756204646 class=chatlog__message-container data-message-id=1179324646756204646><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/754329612309364836/38b86ae627ab58ef99f0c5406dda82a8.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=swastikk data-user-id=754329612309364836>Swastik K</span> <span class=chatlog__timestamp title="Wednesday, November 29, 2023 2:35‚ÄØAM"><a href=#chatlog__message-container-1179324646756204646>11/29/2023 2:35‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://github.com/lancedb/lancedb/issues/664">https://github.com/lancedb/lancedb/issues/664</a>

It would be really hepful if we have this inplace</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/issues/664><div class="chatlog__markdown chatlog__markdown-preserve">Support for incremental updates in FTS &#183; Issue #664 &#183; lancedb/lance...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">It&#39;s mentioned in the docs that Currently we do not yet support incremental writes. If you add data after fts index creation, it won&#39;t be reflected in search results until you do a full rei...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/f85o3AdPC1HdepZzMDXhQ5_cdjYYkqJgxdNesekl1pA/https/opengraph.githubassets.com/e8f1a488e5dd70fe8cba850ca4adeb3434431726b4dcd5eea7180fd5d987b369/lancedb/lancedb/issues/664> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/f85o3AdPC1HdepZzMDXhQ5_cdjYYkqJgxdNesekl1pA/https/opengraph.githubassets.com/e8f1a488e5dd70fe8cba850ca4adeb3434431726b4dcd5eea7180fd5d987b369/lancedb/lancedb/issues/664 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1179325096213618708 class=chatlog__message-container data-message-id=1179325096213618708><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1032079688887189556/9d9cd1c2872874160d9f8e2f6dd766a5.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/754329612309364836/38b86ae627ab58ef99f0c5406dda82a8.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=swastikk>Swastik K</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1179324646756204646')"> <a href="https://github.com/lancedb/lancedb/issues/664">https://github.com/lancedb/lancedb/issues/664</a>

It would be really hepful if we have this inplace </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=ayushexel data-user-id=1032079688887189556>AyushC</span> <span class=chatlog__timestamp title="Wednesday, November 29, 2023 2:36‚ÄØAM"><a href=#chatlog__message-container-1179325096213618708>11/29/2023 2:36‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Thanks. Someone from the team will respond by EOD</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1179325201377398896 class=chatlog__message-container data-message-id=1179325201377398896><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/754329612309364836/38b86ae627ab58ef99f0c5406dda82a8.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1032079688887189556/9d9cd1c2872874160d9f8e2f6dd766a5.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=ayushexel>AyushC</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1179325096213618708')"> Thanks. Someone from the team will respond by EOD </span></div></div><div class=chatlog__header><span class=chatlog__author title=swastikk data-user-id=754329612309364836>Swastik K</span> <span class=chatlog__timestamp title="Wednesday, November 29, 2023 2:37‚ÄØAM"><a href=#chatlog__message-container-1179325201377398896>11/29/2023 2:37‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span> is already aware of this</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup_tone1><img class="chatlog__emoji chatlog__emoji--small" alt=üëçüèª src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d-1f3fb.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1180642324901003385 class=chatlog__message-container data-message-id=1180642324901003385><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/694247826745589890/ea5060d570089243af80fff99e710f4d.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=michaelretchin data-user-id=694247826745589890>Michael Retchin</span> <span class=chatlog__timestamp title="Saturday, December 2, 2023 5:51‚ÄØPM"><a href=#chatlog__message-container-1180642324901003385>12/2/2023 5:51‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;d like to be able to perform vector searches over binary / boolean fields (in this case, molecular fingerprints e.g., <a href="https://chemicbook.com/2021/03/25/a-beginners-guide-for-understanding-extended-connectivity-fingerprints.html)">https://chemicbook.com/2021/03/25/a-beginners-guide-for-understanding-extended-connectivity-fingerprints.html)</a>.

but it won&#39;t let me -&gt;

<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">ValueError: LanceError(IO): Column fingerprint is not a vector column (type: FixedSizeList(Field { name: &quot;item&quot;, data_type: Boolean, nullable: true, dict_id: 0, dict_is_ordered: false, metadata: {} }, 2048)), /home/runner/work/lance/lance/rust/lance/src/dataset/scanner.rs:384:35</code>

<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">import pyarrow as pa
import lancedb
from lancedb.pydantic import LanceModel, Vector

class Molecule(LanceModel):
    id: str
    smiles: str
    fingerprint: Vector(2048, pa.bool_())

uri = &quot;./out/strict_fragments.lancedb&quot;
db = lancedb.connect(uri)

tbl = db.create_table(
    &quot;molecules&quot;,
    schema = Molecule,
    mode = &#39;overwrite&#39;
)</code>

Ideas? This is for my doctoral work <img
    loading="lazy"
    class="chatlog__emoji "
    alt="üôÇ"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg">
*same issue with Int8</span> <span class=chatlog__edited-timestamp title="Saturday, December 2, 2023 5:54‚ÄØPM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1180646554038714418 class=chatlog__message-container data-message-id=1180646554038714418><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/694247826745589890/ea5060d570089243af80fff99e710f4d.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=michaelretchin>Michael Retchin</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1180642324901003385')"> I&#39;d like to be able to perform vector searches over binary / boolean fields (in this case, molecular fingerprints e.g., <a href="https://chemicbook.com/2021/03/25/a-beginners-guide-for-understanding-extended-connectivity-fingerprints.html)">https://chemicbook.com/2021/03/25/a-beginners-guide-for-understanding-extended-connectivity-fingerprints.html)</a>.

but it won&#39;t let me -&gt;

<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">ValueError: LanceError(IO): Column fingerprint is not a vector column (type: FixedSizeList(Field { name: &quot;item&quot;, data_type: Boolean, nullable: true, dict_id: 0, dict_is_ordered: false, metadata: {} }, 2048)), /home/runner/work/lance/lance/rust/lance/src/dataset/scanner.rs:384:35</code>

<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">import pyarrow as pa
import lancedb
from lancedb.pydantic import LanceModel, Vector

class Molecule(LanceModel):
    id: str
    smiles: str
    fingerprint: Vector(2048, pa.bool_())

uri = &quot;./out/strict_fragments.lancedb&quot;
db = lancedb.connect(uri)

tbl = db.create_table(
    &quot;molecules&quot;,
    schema = Molecule,
    mode = &#39;overwrite&#39;
)</code>

Ideas? This is for my doctoral work <img
    loading="lazy"
    class="chatlog__emoji "
    alt="üôÇ"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg">
*same issue with Int8 </span> <span class=chatlog__reply-edited-timestamp title="Saturday, December 2, 2023 5:54‚ÄØPM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, December 2, 2023 6:07‚ÄØPM"><a href=#chatlog__message-container-1180646554038714418>12/2/2023 6:07‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yeah currently we support fp32 only. Would you mind opening a GitHub issue so we can keep track of the feature request? What distance metrics do you need with bit vectors or int8 vectors?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1180649134420668487 class=chatlog__message-container data-message-id=1180649134420668487><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/694247826745589890/ea5060d570089243af80fff99e710f4d.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1180646554038714418')"> Yeah currently we support fp32 only. Would you mind opening a GitHub issue so we can keep track of the feature request? What distance metrics do you need with bit vectors or int8 vectors? </span></div></div><div class=chatlog__header><span class=chatlog__author title=michaelretchin data-user-id=694247826745589890>Michael Retchin</span> <span class=chatlog__timestamp title="Saturday, December 2, 2023 6:18‚ÄØPM"><a href=#chatlog__message-container-1180649134420668487>12/2/2023 6:18‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Will do. Anything probably works fine honestly, since they&#39;re binary. Ideally Jaccard but cosine or inner product are definitely better than euclidean. I&#39;d love to have this working in my work, which I will open source upon publication!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1180650246741700760 class=chatlog__message-container data-message-id=1180650246741700760><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/694247826745589890/ea5060d570089243af80fff99e710f4d.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1180646554038714418')"> Yeah currently we support fp32 only. Would you mind opening a GitHub issue so we can keep track of the feature request? What distance metrics do you need with bit vectors or int8 vectors? </span></div></div><div class=chatlog__header><span class=chatlog__author title=michaelretchin data-user-id=694247826745589890>Michael Retchin</span> <span class=chatlog__timestamp title="Saturday, December 2, 2023 6:22‚ÄØPM"><a href=#chatlog__message-container-1180650246741700760>12/2/2023 6:22‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>just opened an issue - thanks!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1180653845697810504 class=chatlog__message-container data-message-id=1180653845697810504><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, December 2, 2023 6:36‚ÄØPM"><a href=#chatlog__message-container-1180653845697810504>12/2/2023 6:36‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Thanks! As a workaround, would it work for you to convert to fp32 for now?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1180915422674047036 class=chatlog__message-container data-message-id=1180915422674047036><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/694247826745589890/ea5060d570089243af80fff99e710f4d.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=michaelretchin data-user-id=694247826745589890>Michael Retchin</span> <span class=chatlog__timestamp title="Sunday, December 3, 2023 11:56‚ÄØAM"><a href=#chatlog__message-container-1180915422674047036>12/3/2023 11:56‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;ll try that but it&#39;s a crazy disk space trade off. So I probably won&#39;t actually use it.</span></div></div></div></div><div id=chatlog__message-container-1180915697593892905 class=chatlog__message-container data-message-id=1180915697593892905><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Sunday, December 3, 2023 11:57‚ÄØAM">11:57‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>If you can point me to the places I&#39;d need to make changes I don&#39;t mind spending some time hacking on this</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1181018545958686870 class=chatlog__message-container data-message-id=1181018545958686870><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/694247826745589890/ea5060d570089243af80fff99e710f4d.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=michaelretchin>Michael Retchin</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1180915697593892905')"> If you can point me to the places I&#39;d need to make changes I don&#39;t mind spending some time hacking on this </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Sunday, December 3, 2023 6:46‚ÄØPM"><a href=#chatlog__message-container-1181018545958686870>12/3/2023 6:46‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>There are a few things for a complete feature:
1. add support for boolean/integer vector types
2. implement custom SIMD for those vector types
3. implement additional distance metrics.

for #1 there are a number of places in lance-index that uses ArrowFloatType as the generic type parameter. If you find those instances and change the type parameter to be a union of floating and boolean/integer types then that would probably work. An example is: <a href="https://github.com/lancedb/lance/blob/main/rust/lance-index/src/vector/ivf.rs#L52">https://github.com/lancedb/lance/blob/main/rust/lance-index/src/vector/ivf.rs#L52</a>
There are a bunch of places from flat / ivf / pq etc</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/blob/main/rust/lance-index/src/vector/ivf.rs><div class="chatlog__markdown chatlog__markdown-preserve">lance/rust/lance-index/src/vector/ivf.rs at main &#183; lancedb/lance</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Modern columnar data format for ML and LLMs implemented in Rust. Convert from parquet in 2 lines of code for 100x faster random access, vector index, and data versioning. Compatible with Pandas, Du...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/wBsOYyMsD28ESIN0Jh_6dci6Xh2zp7WHIqR8bvQsnrc/https/opengraph.githubassets.com/dc349d706d9ffae42acab72ccebba685d9b2d58522b7c8f0ecd6e16116d4ec2d/lancedb/lance> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/wBsOYyMsD28ESIN0Jh_6dci6Xh2zp7WHIqR8bvQsnrc/https/opengraph.githubassets.com/dc349d706d9ffae42acab72ccebba685d9b2d58522b7c8f0ecd6e16116d4ec2d/lancedb/lance alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=fire><img class="chatlog__emoji chatlog__emoji--small" alt=üî• src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1181418442092453998 class=chatlog__message-container data-message-id=1181418442092453998><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Monday, December 4, 2023 9:15‚ÄØPM"><a href=#chatlog__message-container-1181418442092453998>12/4/2023 9:15‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Feature request for Lance: being able to get and set the PQ centroids. You can do this today for IVF centroids, not for PQ (iiuc). Two reasons: 1) for multimodal embeddings you want to train the PQ vectors on not just image but image and text embeddings. But usually your table only has image embeddings. There‚Äôs a few papers that show that this seriously negatively impacts recall in most vector search situations, but is usually not measured correctly 2) when (re)creating an index it‚Äôs a hell of a lot faster and you can skip recomputing everything</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1181483804498604042 class=chatlog__message-container data-message-id=1181483804498604042><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/754329612309364836/38b86ae627ab58ef99f0c5406dda82a8.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1032079688887189556/9d9cd1c2872874160d9f8e2f6dd766a5.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=ayushexel>AyushC</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1179325096213618708')"> Thanks. Someone from the team will respond by EOD </span></div></div><div class=chatlog__header><span class=chatlog__author title=swastikk data-user-id=754329612309364836>Swastik K</span> <span class=chatlog__timestamp title="Tuesday, December 5, 2023 1:34‚ÄØAM"><a href=#chatlog__message-container-1181483804498604042>12/5/2023 1:34‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Can I get some updates on timeline for this?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1181754017693585472 class=chatlog__message-container data-message-id=1181754017693585472><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, December 5, 2023 7:28‚ÄØPM"> <a href=#chatlog__message-container-1181754017693585472>12/5/2023 7:28‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1182543846031237150 class=chatlog__message-container data-message-id=1182543846031237150><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1158488843587178589/c46a725edfc782b59ec73c78cc6533b1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=parima_76202 data-user-id=1158488843587178589>Parima</span> <span class=chatlog__timestamp title="Thursday, December 7, 2023 11:47‚ÄØPM"><a href=#chatlog__message-container-1182543846031237150>12/7/2023 11:47‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi there! Thanks for all of your hard work on building lance! Had a question - is there a way to merge datasets? I have two large datasets that I would like to merge into one dataset. Both are very large and difficult to load into memory.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1182549682073899009 class=chatlog__message-container data-message-id=1182549682073899009><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Friday, December 8, 2023 12:10‚ÄØAM"><a href=#chatlog__message-container-1182549682073899009>12/8/2023 12:10‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yeah the merge method should work. A.merge(B, on=‚Ä¶) does a left join of A and B. If you want a full outer join the workaround would be to find the new rows in B and append it after the merge call</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=100><img class="chatlog__emoji chatlog__emoji--small" alt=üíØ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f4af.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div><div id=chatlog__message-container-1182549838064259102 class=chatlog__message-container data-message-id=1182549838064259102><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, December 8, 2023 12:10‚ÄØAM">12:10‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Cc <span class="chatlog__markdown-mention" title="wjones127">@Will Jones</span> in case I‚Äôm pulling stuff out of thin air</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1182716030196387874 class=chatlog__message-container data-message-id=1182716030196387874><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, December 8, 2023 11:11‚ÄØAM"> <a href=#chatlog__message-container-1182716030196387874>12/8/2023 11:11‚ÄØAM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1182865390091632770 class=chatlog__message-container data-message-id=1182865390091632770><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Friday, December 8, 2023 9:04‚ÄØPM"><a href=#chatlog__message-container-1182865390091632770>12/8/2023 9:04‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="chrisemoody">@chrisemoody</span> if we were to build better polars integration, what would be on top of your list of important features to build? e.g., not sure if it‚Äôll be possible, but let‚Äôs say if we build some API like ‚Äúpl.read_lance(path).search(vec).limit(10)‚Äù that returns as a polars dataframe, would your reaction be ‚Äúmeh‚Äù ‚Äúwow‚Äù or ‚Äúgtfo‚Äù ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1184203081156665507 class=chatlog__message-container data-message-id=1184203081156665507><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/801879136569524304/a8afcc49442ea2bf1dcb6482b7bdb033.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1182865390091632770')"> <span class="chatlog__markdown-mention" title="chrisemoody">@chrisemoody</span> if we were to build better polars integration, what would be on top of your list of important features to build? e.g., not sure if it‚Äôll be possible, but let‚Äôs say if we build some API like ‚Äúpl.read_lance(path).search(vec).limit(10)‚Äù that returns as a polars dataframe, would your reaction be ‚Äúmeh‚Äù ‚Äúwow‚Äù or ‚Äúgtfo‚Äù ? </span></div></div><div class=chatlog__header><span class=chatlog__author title=chrisemoody data-user-id=801879136569524304>chrisemoody</span> <span class=chatlog__timestamp title="Tuesday, December 12, 2023 1:40‚ÄØPM"><a href=#chatlog__message-container-1184203081156665507>12/12/2023 1:40‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>for the example you&#39;ve got here it would be meh. i currently read lance -&gt; pyarrow -&gt; polars, and i basically never change that part of the code.</span></div></div></div></div><div id=chatlog__message-container-1184203133518368908 class=chatlog__message-container data-message-id=1184203133518368908><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, December 12, 2023 1:40‚ÄØPM">1:40‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>but if it makes <em>writing</em> data it might be a different story -- although i don&#39;t use polars for writing. but would if it makes it simpler</span> <span class=chatlog__edited-timestamp title="Tuesday, December 12, 2023 1:40‚ÄØPM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1184235919637762234 class=chatlog__message-container data-message-id=1184235919637762234><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, December 12, 2023 3:50‚ÄØPM"> <a href=#chatlog__message-container-1184235919637762234>12/12/2023 3:50‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1184594791284101140 class=chatlog__message-container data-message-id=1184594791284101140><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1158488843587178589/c46a725edfc782b59ec73c78cc6533b1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=parima_76202 data-user-id=1158488843587178589>Parima</span> <span class=chatlog__timestamp title="Wednesday, December 13, 2023 3:36‚ÄØPM"><a href=#chatlog__message-container-1184594791284101140>12/13/2023 3:36‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>another question - how do I query a large dataset in s3 via lance, without loading it memory? Right now, I have a lance dataset that has 146,135,368 rows, that is too large to load into memory (with .to_arrow, or with .to_df). As per the documentation, I&#39;m using the batched method of querying
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">ds = lance.dataset(s3://my-dataset.lance)
for batch in ds.to_batches(columns=[&quot;id&quot;, &quot;text&quot;], filter=&quot;id=10000&quot;):
    print(batch[&quot;text&quot;])</code>
but this takes over &gt;10 mins to perform on an ec2 instance (c5.xlarge). Is there a better, more recommended way to do this? Is there a way to query a dataset, through a batched format, in Lancedb?</span> <span class=chatlog__edited-timestamp title="Wednesday, December 13, 2023 3:37‚ÄØPM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1184597553782726701 class=chatlog__message-container data-message-id=1184597553782726701><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, December 13, 2023 3:47‚ÄØPM"> <a href=#chatlog__message-container-1184597553782726701>12/13/2023 3:47‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189238684730536067 class=chatlog__message-container data-message-id=1189238684730536067><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1121552617886199808/25865046be51e3d69731d4c1c9755ac0.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=doughboy8831 data-user-id=1121552617886199808>doughboy</span> <span class=chatlog__timestamp title="Tuesday, December 26, 2023 11:09‚ÄØAM"><a href=#chatlog__message-container-1189238684730536067>12/26/2023 11:09‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>When searching, is there a way to specify a minimum cosine similarity (or maximum cosine distance)? If not, I&#39;d like to request this feature.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189253417898623086 class=chatlog__message-container data-message-id=1189253417898623086><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1121552617886199808/25865046be51e3d69731d4c1c9755ac0.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=doughboy8831>doughboy</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1189238684730536067')"> When searching, is there a way to specify a minimum cosine similarity (or maximum cosine distance)? If not, I&#39;d like to request this feature. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Tuesday, December 26, 2023 12:08‚ÄØPM"><a href=#chatlog__message-container-1189253417898623086>12/26/2023 12:08‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>to clarify, are you asking for (1) all results within some distance threshold OR (2) filter the search results to only contain results within some distance threshold ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189253945714036847 class=chatlog__message-container data-message-id=1189253945714036847><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1121552617886199808/25865046be51e3d69731d4c1c9755ac0.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=doughboy8831 data-user-id=1121552617886199808>doughboy</span> <span class=chatlog__timestamp title="Tuesday, December 26, 2023 12:10‚ÄØPM"><a href=#chatlog__message-container-1189253945714036847>12/26/2023 12:10‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Since option 1 sounds more efficient, I&#39;d like that one‚Äîassuming we&#39;d be able to combine it with <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">.limit()</code>.</span></div></div></div></div><div id=chatlog__message-container-1189254059698425856 class=chatlog__message-container data-message-id=1189254059698425856><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, December 26, 2023 12:11‚ÄØPM">12:11‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Option 2 is what I&#39;m doing currently in my own Python code after performing a search.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189259819081793648 class=chatlog__message-container data-message-id=1189259819081793648><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Tuesday, December 26, 2023 12:33‚ÄØPM"><a href=#chatlog__message-container-1189259819081793648>12/26/2023 12:33‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>so something like <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table.search(&lt;vec&gt;).where(&quot;_distance &lt; X&quot;).limit(10)</code> ? And you&#39;d get up to 10 rows back</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=heart><img class="chatlog__emoji chatlog__emoji--small" alt=‚ù§Ô∏è src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/2764.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189263411658375238 class=chatlog__message-container data-message-id=1189263411658375238><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1121552617886199808/25865046be51e3d69731d4c1c9755ac0.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=doughboy8831 data-user-id=1121552617886199808>doughboy</span> <span class=chatlog__timestamp title="Tuesday, December 26, 2023 12:48‚ÄØPM"><a href=#chatlog__message-container-1189263411658375238>12/26/2023 12:48‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yeah, that sounds great. Are you saying this is already possible with the WHERE clause?</span></div></div></div></div><div id=chatlog__message-container-1189263749081731242 class=chatlog__message-container data-message-id=1189263749081731242><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, December 26, 2023 12:49‚ÄØPM">12:49‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Haha. Nope <img
    loading="lazy"
    class="chatlog__emoji "
    alt="üôÇ"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"> <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">ValueError: LanceError(IO): Schema error: No field named _distance</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189265632848515173 class=chatlog__message-container data-message-id=1189265632848515173><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1121552617886199808/25865046be51e3d69731d4c1c9755ac0.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=doughboy8831 data-user-id=1121552617886199808>doughboy</span> <span class=chatlog__timestamp title="Tuesday, December 26, 2023 12:57‚ÄØPM"><a href=#chatlog__message-container-1189265632848515173>12/26/2023 12:57‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Weaviate does it this way.</span></div><div class=chatlog__attachment><a href="https://cdn.discordapp.com/attachments/1105226935333818532/1189265632626225303/image.png?ex=697b9f6e&amp;is=697a4dee&amp;hm=ccc9823e800f0ca4c3fe07fcced62c3f7b69e5bf2b2cfd1e5ec6a408b3ae3e26&amp;"> <img class=chatlog__attachment-media src="https://cdn.discordapp.com/attachments/1105226935333818532/1189265632626225303/image.png?ex=697b9f6e&amp;is=697a4dee&amp;hm=ccc9823e800f0ca4c3fe07fcced62c3f7b69e5bf2b2cfd1e5ec6a408b3ae3e26&amp;" alt="Image attachment" title="Image: image.png (71 KB)" loading=lazy> </a></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189266430051496077 class=chatlog__message-container data-message-id=1189266430051496077><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1121552617886199808/25865046be51e3d69731d4c1c9755ac0.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=doughboy8831>doughboy</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1189263411658375238')"> Yeah, that sounds great. Are you saying this is already possible with the WHERE clause? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Tuesday, December 26, 2023 1:00‚ÄØPM"><a href=#chatlog__message-container-1189266430051496077>12/26/2023 1:00‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yeah it&#39;s not enabled, i&#39;m just checking whether i&#39;m understanding the feature request clearly</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189266660243296306 class=chatlog__message-container data-message-id=1189266660243296306><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1121552617886199808/25865046be51e3d69731d4c1c9755ac0.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=doughboy8831>doughboy</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1189265632848515173')"> Weaviate does it this way. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Tuesday, December 26, 2023 1:01‚ÄØPM"><a href=#chatlog__message-container-1189266660243296306>12/26/2023 1:01‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>so the main difference with what i&#39;m proposing is that the limit is required (otherwise potentially the results are unbounded)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189266754321531061 class=chatlog__message-container data-message-id=1189266754321531061><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1121552617886199808/25865046be51e3d69731d4c1c9755ac0.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=doughboy8831 data-user-id=1121552617886199808>doughboy</span> <span class=chatlog__timestamp title="Tuesday, December 26, 2023 1:01‚ÄØPM"><a href=#chatlog__message-container-1189266754321531061>12/26/2023 1:01‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>sounds good</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=ok_hand><img class="chatlog__emoji chatlog__emoji--small" alt=üëå src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44c.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div><div id=chatlog__message-container-1189266814564319263 class=chatlog__message-container data-message-id=1189266814564319263><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, December 26, 2023 1:01‚ÄØPM">1:01‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>thank you!!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189282668777574450 class=chatlog__message-container data-message-id=1189282668777574450><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1121552617886199808/25865046be51e3d69731d4c1c9755ac0.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=doughboy8831 data-user-id=1121552617886199808>doughboy</span> <span class=chatlog__timestamp title="Tuesday, December 26, 2023 2:04‚ÄØPM"><a href=#chatlog__message-container-1189282668777574450>12/26/2023 2:04‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span> Shall I create a feature request on GitHub?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189285279190761582 class=chatlog__message-container data-message-id=1189285279190761582><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Tuesday, December 26, 2023 2:15‚ÄØPM"><a href=#chatlog__message-container-1189285279190761582>12/26/2023 2:15‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yes please. thanks!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1189293434557706441 class=chatlog__message-container data-message-id=1189293434557706441><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1121552617886199808/25865046be51e3d69731d4c1c9755ac0.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=doughboy8831 data-user-id=1121552617886199808>doughboy</span> <span class=chatlog__timestamp title="Tuesday, December 26, 2023 2:47‚ÄØPM"><a href=#chatlog__message-container-1189293434557706441>12/26/2023 2:47‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>done.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=pray><img class="chatlog__emoji chatlog__emoji--small" alt=üôè src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190335041830666401 class=chatlog__message-container data-message-id=1190335041830666401><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/139482328387813376/6680b3880143d4302d602c0c07e62190.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=an_gus data-user-id=139482328387813376>Angus</span> <span class=chatlog__timestamp title="Friday, December 29, 2023 11:46‚ÄØAM"><a href=#chatlog__message-container-1190335041830666401>12/29/2023 11:46‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>does the lancedb javascript library support an array datatype in the schema? If not could it be possible to implement if apache arrow supports it?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190342245975609375 class=chatlog__message-container data-message-id=1190342245975609375><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Friday, December 29, 2023 12:15‚ÄØPM"><a href=#chatlog__message-container-1190342245975609375>12/29/2023 12:15‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://github.com/lancedb/lancedb/blob/main/node/src/index.ts#L82">https://github.com/lancedb/lancedb/blob/main/node/src/index.ts#L82</a> yes, we support Arrow Schema.  Please give it a try and let us know the feedbacks</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/blob/main/node/src/index.ts><div class="chatlog__markdown chatlog__markdown-preserve">lancedb/node/src/index.ts at main &#183; lancedb/lancedb</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Developer-friendly, serverless vector database for AI applications. Easily add long-term memory to your LLM apps! - lancedb/lancedb</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/0NHrdsguLIlgYskvKiqmIx8YMvg6sXd_mNgDn0lN9qI/https/opengraph.githubassets.com/21fe4e6033feda3164adaca580584c1527e4c7b533f3595e73b4e4ce261b47f8/lancedb/lancedb> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/0NHrdsguLIlgYskvKiqmIx8YMvg6sXd_mNgDn0lN9qI/https/opengraph.githubassets.com/21fe4e6033feda3164adaca580584c1527e4c7b533f3595e73b4e4ce261b47f8/lancedb/lancedb alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190342673337438218 class=chatlog__message-container data-message-id=1190342673337438218><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/139482328387813376/6680b3880143d4302d602c0c07e62190.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=an_gus data-user-id=139482328387813376>Angus</span> <span class=chatlog__timestamp title="Friday, December 29, 2023 12:16‚ÄØPM"><a href=#chatlog__message-container-1190342673337438218>12/29/2023 12:16‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>thanks! I&#39;ll give it a try</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=muscle><img class="chatlog__emoji chatlog__emoji--small" alt=üí™ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f4aa.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190721612689969323 class=chatlog__message-container data-message-id=1190721612689969323><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/139482328387813376/6680b3880143d4302d602c0c07e62190.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=an_gus data-user-id=139482328387813376>Angus</span> <span class=chatlog__timestamp title="Saturday, December 30, 2023 1:22‚ÄØPM"><a href=#chatlog__message-container-1190721612689969323>12/30/2023 1:22‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hey <span class="chatlog__markdown-mention" title="lei.xu">@lei</span> I got around to using the apache arrow schema, however I think there may be a bug. I&#39;m using an identical version of apache arrow as lancedb to define my own schema as shown:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">new Schema([
        new Field(&#39;vector&#39;, new FixedSizeList(1536, new Field(&#39;float32&#39;, new Float32()))),
        new Field(&#39;text&#39;, new Utf8()),
        new Field(&#39;id&#39;, new Int64()),
        new Field(&#39;created_at&#39;, new Date_(DateUnit.MILLISECOND)),
        new Field(&#39;updated_at&#39;, new Date_(DateUnit.MILLISECOND)),
        new Field(&#39;categories&#39;, new List(new Field(&#39;category&#39;, new Utf8(), true))),
        new Field(&#39;title&#39;, new Utf8()),
        new Field(&#39;link&#39;, new Utf8()),
    ])</code>
The categories field which is supposed to be a list of strings throws an error when calling table.add, here&#39;s the stack trace
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">TypeError: Unable to infer Vector type from input values, explicit type declaration expected.
    at inferType (/Users/dsimowitz/dev/nutreense/daisybot/src/node_modules/apache-arrow/factories.ts:168:11)
    at vectorFromArray (/Users/dsimowitz/dev/nutreense/daisybot/src/node_modules/apache-arrow/factories.ts:86:61)
    at /Users/dsimowitz/dev/nutreense/daisybot/src/node_modules/vectordb/dist/arrow.js:61:78
    at Generator.next (&lt;anonymous&gt;)
    at /Users/dsimowitz/dev/nutreense/daisybot/src/node_modules/vectordb/dist/arrow.js:21:71
    at new Promise (&lt;anonymous&gt;)
    at __awaiter (/Users/dsimowitz/dev/nutreense/daisybot/src/node_modules/vectordb/dist/arrow.js:17:12)
    at convertToTable (/Users/dsimowitz/dev/nutreense/daisybot/src/node_modules/vectordb/dist/arrow.js:29:12)
    at /Users/dsimowitz/dev/nutreense/daisybot/src/node_modules/vectordb/dist/arrow.js:85:29
    at Generator.next (&lt;anonymous&gt;)</code>
It seems there is some coercion of string types here
<a href="https://github.com/lancedb/lancedb/blob/main/node/src/arrow.ts#L59">https://github.com/lancedb/lancedb/blob/main/node/src/arrow.ts#L59</a>

I&#39;m thinking maybe it needs to be extended to operate on Lists of strings. Does this sound right?</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/blob/main/node/src/arrow.ts><div class="chatlog__markdown chatlog__markdown-preserve">lancedb/node/src/arrow.ts at main &#183; lancedb/lancedb</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Developer-friendly, serverless vector database for AI applications. Easily add long-term memory to your LLM apps! - lancedb/lancedb</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/OJxVhc_GTv8atmD6h-boEt3WS49W0RxydZEFlZFV0I8/https/opengraph.githubassets.com/a41e165c6268a097934c6dc4ee175238376431f57cc278808cbec9a5d72d183a/lancedb/lancedb> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/OJxVhc_GTv8atmD6h-boEt3WS49W0RxydZEFlZFV0I8/https/opengraph.githubassets.com/a41e165c6268a097934c6dc4ee175238376431f57cc278808cbec9a5d72d183a/lancedb/lancedb alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190722595096637480 class=chatlog__message-container data-message-id=1190722595096637480><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, December 30, 2023 1:26‚ÄØPM"><a href=#chatlog__message-container-1190722595096637480>12/30/2023 1:26‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yeah possibly just needs a conversion of the nested inner field</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190728141853962400 class=chatlog__message-container data-message-id=1190728141853962400><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/139482328387813376/6680b3880143d4302d602c0c07e62190.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=an_gus data-user-id=139482328387813376>Angus</span> <span class=chatlog__timestamp title="Saturday, December 30, 2023 1:48‚ÄØPM"><a href=#chatlog__message-container-1190728141853962400>12/30/2023 1:48‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i thought i could fix this and submit a pr but its proving to be a more complex than I thought</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190729204355051540 class=chatlog__message-container data-message-id=1190729204355051540><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, December 30, 2023 1:52‚ÄØPM"><a href=#chatlog__message-container-1190729204355051540>12/30/2023 1:52‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>What‚Äôre you running into?</span></div></div></div></div><div id=chatlog__message-container-1190729383170813992 class=chatlog__message-container data-message-id=1190729383170813992><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, December 30, 2023 1:53‚ÄØPM">1:53‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>It might help to isolate the issue. Eg if you just try to import vectorFromArray from arrow js and try to create an array with list of string, does that work as expected?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190729720749367346 class=chatlog__message-container data-message-id=1190729720749367346><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/139482328387813376/6680b3880143d4302d602c0c07e62190.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=an_gus data-user-id=139482328387813376>Angus</span> <span class=chatlog__timestamp title="Saturday, December 30, 2023 1:54‚ÄØPM"><a href=#chatlog__message-container-1190729720749367346>12/30/2023 1:54‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>for prototyping quickly, I modified the dist js as follows
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">                if (typeof values[0] === &#39;string&#39;) {
                    // `vectorFromArray` converts strings into dictionary vectors, forcing it back to a string column
                    records[columnsKey] = (0, apache_arrow_1.vectorFromArray)(values, new apache_arrow_1.Utf8());
                }
                else if (Array.isArray(values[0]) &amp;&amp; typeof values[0][0] === &#39;string&#39;) {
                    records[columnsKey] = (0, apache_arrow_1.vectorFromArray)(values, new apache_arrow_1.List(new apache_arrow_1.Utf8()));
                }
                else {
                    records[columnsKey] = (0, apache_arrow_1.vectorFromArray)(values);
                }</code>
It&#39;s similar to your suggestion of using vectorFromArray directly</span></div></div></div></div><div id=chatlog__message-container-1190729859853459567 class=chatlog__message-container data-message-id=1190729859853459567><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, December 30, 2023 1:55‚ÄØPM">1:55‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>essentially I added a condition to check if its an array and if that array contains strings</span></div></div></div></div><div id=chatlog__message-container-1190729898931785818 class=chatlog__message-container data-message-id=1190729898931785818><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, December 30, 2023 1:55‚ÄØPM">1:55‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>then i inform arrow of the type directly using vectorFromArray</span> <span class=chatlog__edited-timestamp title="Saturday, December 30, 2023 1:55‚ÄØPM">(edited)</span></div></div></div></div><div id=chatlog__message-container-1190730056302067732 class=chatlog__message-container data-message-id=1190730056302067732><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, December 30, 2023 1:56‚ÄØPM">1:56‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>however I have a new stack trace that I&#39;ve been working my way through
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">Error: Unrecognized type &#39;NONE&#39;
    at getVisitFnByTypeId (/Users/dsimowitz/dev/nutreense/daisybot/src/node_modules/apache-arrow/visitor.ts:121:11)
    at getVisitFn (/Users/dsimowitz/dev/nutreense/daisybot/src/node_modules/apache-arrow/visitor.ts:68:12)
    at GetBuilderCtor.getVisitFn (/Users/dsimowitz/dev/nutreense/daisybot/src/node_modules/apache-arrow/visitor.ts:29:16)
    at makeBuilder (/Users/dsimowitz/dev/nutreense/daisybot/src/node_modules/apache-arrow/factories.ts:33:48)
    at makeBuilder (/Users/dsimowitz/dev/nutreense/daisybot/src/node_modules/apache-arrow/factories.ts:46:35)
    at /Users/dsimowitz/dev/nutreense/daisybot/src/node_modules/apache-arrow/factories.ts:216:25
    at Generator.next (&lt;anonymous&gt;)
    at vectorFromArray (/Users/dsimowitz/dev/nutreense/daisybot/src/node_modules/apache-arrow/factories.ts:87:55)
    at /Users/dsimowitz/dev/nutreense/daisybot/src/node_modules/vectordb/dist/arrow.js:61:78
    at Generator.next (&lt;anonymous&gt;)</code></span></div></div></div></div><div id=chatlog__message-container-1190730500038459525 class=chatlog__message-container data-message-id=1190730500038459525><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, December 30, 2023 1:57‚ÄØPM">1:57‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>it seems in the makeBuilder function, the type is undefined rather than UTF8</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190733652548653158 class=chatlog__message-container data-message-id=1190733652548653158><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, December 30, 2023 2:10‚ÄØPM"><a href=#chatlog__message-container-1190733652548653158>12/30/2023 2:10‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Unfortunately arrow js docs isn‚Äôt the best.</span></div></div></div></div><div id=chatlog__message-container-1190733785642319911 class=chatlog__message-container data-message-id=1190733785642319911><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, December 30, 2023 2:10‚ÄØPM">2:10‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>That line 61 reported in the stack trace, that‚Äôs the code you added that calls vectorFromArray ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190733868882481264 class=chatlog__message-container data-message-id=1190733868882481264><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/139482328387813376/6680b3880143d4302d602c0c07e62190.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=an_gus data-user-id=139482328387813376>Angus</span> <span class=chatlog__timestamp title="Saturday, December 30, 2023 2:11‚ÄØPM"><a href=#chatlog__message-container-1190733868882481264>12/30/2023 2:11‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I think I&#39;m on the right approach now. using listbuilder directly rather than vectorFromArray</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div><div id=chatlog__message-container-1190734077058371654 class=chatlog__message-container data-message-id=1190734077058371654><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, December 30, 2023 2:12‚ÄØPM">2:12‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yes the docs are... not great. I checked there first and searched github issues as well</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190738528955547760 class=chatlog__message-container data-message-id=1190738528955547760><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/139482328387813376/6680b3880143d4302d602c0c07e62190.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=an_gus data-user-id=139482328387813376>Angus</span> <span class=chatlog__timestamp title="Saturday, December 30, 2023 2:29‚ÄØPM"><a href=#chatlog__message-container-1190738528955547760>12/30/2023 2:29‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">                else if (Array.isArray(values[0]) &amp;&amp; typeof values[0][0] === &#39;string&#39;) {
                    const listBuilder = (0, apache_arrow_1.makeBuilder)({
                        type: new apache_arrow_1.List(new apache_arrow_1.Field(&#39;category&#39;, new apache_arrow_1.Utf8()))
                    });
                    for (const value of values) {
                        listBuilder.append(value);
                    }
                    records[columnsKey] = listBuilder.finish().toVector();
                }</code>
this works, however the field name is hardcoded to match my schema otherwise it throws schema mismatch</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190741385121378354 class=chatlog__message-container data-message-id=1190741385121378354><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, December 30, 2023 2:41‚ÄØPM"><a href=#chatlog__message-container-1190741385121378354>12/30/2023 2:41‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Oh I think by default arrow uses item or smth as the subfield?</span></div></div></div></div><div id=chatlog__message-container-1190741452116988007 class=chatlog__message-container data-message-id=1190741452116988007><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, December 30, 2023 2:41‚ÄØPM">2:41‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is that the reason?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190742048278589460 class=chatlog__message-container data-message-id=1190742048278589460><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/139482328387813376/6680b3880143d4302d602c0c07e62190.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=an_gus data-user-id=139482328387813376>Angus</span> <span class=chatlog__timestamp title="Saturday, December 30, 2023 2:43‚ÄØPM"><a href=#chatlog__message-container-1190742048278589460>12/30/2023 2:43‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i tried that, but no dice</span></div></div></div></div><div id=chatlog__message-container-1190742457739133019 class=chatlog__message-container data-message-id=1190742457739133019><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, December 30, 2023 2:45‚ÄØPM">2:45‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>personally i dont care about the field name of each item in the list, so i would be happy renaming my field to item</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190742508414701698 class=chatlog__message-container data-message-id=1190742508414701698><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, December 30, 2023 2:45‚ÄØPM"><a href=#chatlog__message-container-1190742508414701698>12/30/2023 2:45‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>When it throw schema mismatch does it show the expected schema?</span></div></div></div></div><div id=chatlog__message-container-1190742584545521744 class=chatlog__message-container data-message-id=1190742584545521744><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, December 30, 2023 2:45‚ÄØPM">2:45‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Another possibility could be nullable vs non-nullable field</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190742714279526492 class=chatlog__message-container data-message-id=1190742714279526492><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/139482328387813376/6680b3880143d4302d602c0c07e62190.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=an_gus data-user-id=139482328387813376>Angus</span> <span class=chatlog__timestamp title="Saturday, December 30, 2023 2:46‚ÄØPM"><a href=#chatlog__message-container-1190742714279526492>12/30/2023 2:46‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>that was also an issue</span></div></div></div></div><div id=chatlog__message-container-1190742750203756575 class=chatlog__message-container data-message-id=1190742750203756575><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, December 30, 2023 2:46‚ÄØPM">2:46‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>it had to match my defined field exactly</span></div></div></div></div><div id=chatlog__message-container-1190742828746285097 class=chatlog__message-container data-message-id=1190742828746285097><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, December 30, 2023 2:46‚ÄØPM">2:46‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i dont see the expected schema, just <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">[Error: LanceDBError: Append with different schema:]</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190743146028605611 class=chatlog__message-container data-message-id=1190743146028605611><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, December 30, 2023 2:48‚ÄØPM"><a href=#chatlog__message-container-1190743146028605611>12/30/2023 2:48‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I can give it a shot and see what I come up with. Just try to create a table with any list of string column?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190743249405616188 class=chatlog__message-container data-message-id=1190743249405616188><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/139482328387813376/6680b3880143d4302d602c0c07e62190.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=an_gus data-user-id=139482328387813376>Angus</span> <span class=chatlog__timestamp title="Saturday, December 30, 2023 2:48‚ÄØPM"><a href=#chatlog__message-container-1190743249405616188>12/30/2023 2:48‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yeah a list of string</span></div></div></div></div><div id=chatlog__message-container-1190743306855002163 class=chatlog__message-container data-message-id=1190743306855002163><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, December 30, 2023 2:48‚ÄØPM">2:48‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>on a non-fixed size list</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190748840760979607 class=chatlog__message-container data-message-id=1190748840760979607><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, December 30, 2023 3:10‚ÄØPM"><a href=#chatlog__message-container-1190748840760979607>12/30/2023 3:10‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>so this passes <a href="https://github.com/lancedb/lancedb/pull/755">https://github.com/lancedb/lancedb/pull/755</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/pull/755><div class="chatlog__markdown chatlog__markdown-preserve">feat(js): support list of string input by changhiskhan &#183; Pull Reque...</div></a></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/ElFmMGPpkEhvDJV8V726zlT3c9M8gDvqSZcuVbzeusM/https/opengraph.githubassets.com/7e9c5dbeb072d88fab61d5bd67107273c33c2ae4ae5b9909f26158378ccc032f/lancedb/lancedb/pull/755> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/ElFmMGPpkEhvDJV8V726zlT3c9M8gDvqSZcuVbzeusM/https/opengraph.githubassets.com/7e9c5dbeb072d88fab61d5bd67107273c33c2ae4ae5b9909f26158378ccc032f/lancedb/lancedb/pull/755 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div><div id=chatlog__message-container-1190748954665693285 class=chatlog__message-container data-message-id=1190748954665693285><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, December 30, 2023 3:11‚ÄØPM">3:11‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>what am I doing differently from you that you&#39;re seeing the error and i&#39;m not?</span></div></div></div></div><div id=chatlog__message-container-1190749036538503269 class=chatlog__message-container data-message-id=1190749036538503269><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, December 30, 2023 3:11‚ÄØPM">3:11‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>(i basically copied what you&#39;re doing here ^)</span></div></div></div></div><div id=chatlog__message-container-1190749439577571428 class=chatlog__message-container data-message-id=1190749439577571428><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, December 30, 2023 3:13‚ÄØPM">3:13‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>i made it so just that new unit test runs so it&#39;s easier to iterate</span></div></div></div></div><div id=chatlog__message-container-1190749468837023814 class=chatlog__message-container data-message-id=1190749468837023814><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, December 30, 2023 3:13‚ÄØPM">3:13‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>you can just run <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">npm test</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190811020378247258 class=chatlog__message-container data-message-id=1190811020378247258><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, December 30, 2023 7:17‚ÄØPM"><a href=#chatlog__message-container-1190811020378247258>12/30/2023 7:17‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="an_gus">@Angus</span> lmk whether that code works for you. Happy to take a PR if you want to add anything else. If you don‚Äôt have time I can clean it up this PR as is</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190864923471925288 class=chatlog__message-container data-message-id=1190864923471925288><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/139482328387813376/6680b3880143d4302d602c0c07e62190.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1190748954665693285')"> what am I doing differently from you that you&#39;re seeing the error and i&#39;m not? </span></div></div><div class=chatlog__header><span class=chatlog__author title=an_gus data-user-id=139482328387813376>Angus</span> <span class=chatlog__timestamp title="Saturday, December 30, 2023 10:52‚ÄØPM"><a href=#chatlog__message-container-1190864923471925288>12/30/2023 10:52‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I was only seeing an error if I passed in an arrow schema to create table rather than having the schema inferred. it works for my use case as you have it now, but there&#39;s issues if passing in a defined schema if you want nullable values or if you use a different field name from &quot;item&quot;</span></div></div></div></div><div id=chatlog__message-container-1190865033954074735 class=chatlog__message-container data-message-id=1190865033954074735><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, December 30, 2023 10:52‚ÄØPM">10:52‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>im ok with it as it is, just a caveat i thought you should be aware of</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190887815056211988 class=chatlog__message-container data-message-id=1190887815056211988><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Sunday, December 31, 2023 12:23‚ÄØAM"><a href=#chatlog__message-container-1190887815056211988>12/31/2023 12:23‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>When you say defined schema with nullable values, can you give me a sample schema / code snippet I can repro ?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190907576003612725 class=chatlog__message-container data-message-id=1190907576003612725><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/139482328387813376/6680b3880143d4302d602c0c07e62190.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=an_gus data-user-id=139482328387813376>Angus</span> <span class=chatlog__timestamp title="Sunday, December 31, 2023 1:41‚ÄØAM"><a href=#chatlog__message-container-1190907576003612725>12/31/2023 1:41‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span> here&#39;s an example. note the categories List with the child type Utf8 named category
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">const db = await connect(tmpDB);
const table = await db.createTable &lt; number[] &gt; ({
    name: &#39;articles&#39;,
    writeOptions: {
        writeMode: WriteMode.Overwrite,
    },
    schema: new Schema([
        new Field(&#39;vector&#39;, new FixedSizeList(1536, new Field(&#39;float32&#39;, new Float32()))),
        new Field(&#39;text&#39;, new Utf8()),
        new Field(&#39;id&#39;, new Int64()),
        new Field(&#39;created_at&#39;, new Date_(DateUnit.MILLISECOND)),
        new Field(&#39;updated_at&#39;, new Date_(DateUnit.MILLISECOND)),
        new Field(&#39;categories&#39;, new List(new Field(&#39;category&#39;, new Utf8(), true))),
        new Field(&#39;title&#39;, new Utf8()),
        new Field(&#39;link&#39;, new Utf8()),
    ])
});</code></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1190907825652768848 class=chatlog__message-container data-message-id=1190907825652768848><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Sunday, December 31, 2023 1:42‚ÄØAM"><a href=#chatlog__message-container-1190907825652768848>12/31/2023 1:42‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Oic</span></div></div></div></div><div id=chatlog__message-container-1190907850151694387 class=chatlog__message-container data-message-id=1190907850151694387><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Sunday, December 31, 2023 1:42‚ÄØAM">1:42‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Ok thanks</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1191127946417668116 class=chatlog__message-container data-message-id=1191127946417668116><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Sunday, December 31, 2023 4:17‚ÄØPM"><a href=#chatlog__message-container-1191127946417668116>12/31/2023 4:17‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>ok so weirdly, you can all the inner field of a fixed sized list anything you like and Arrow does not have a problem with it. But for the variable sized list the schema and the incoming data has to match exactly</span></div></div></div></div><div id=chatlog__message-container-1191127975098339338 class=chatlog__message-container data-message-id=1191127975098339338><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Sunday, December 31, 2023 4:17‚ÄØPM">4:17‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>also there are some issue</span></div></div></div></div><div id=chatlog__message-container-1191127979720450099 class=chatlog__message-container data-message-id=1191127979720450099><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Sunday, December 31, 2023 4:17‚ÄØPM">4:17‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>s</span></div></div></div></div><div id=chatlog__message-container-1191128093239287940 class=chatlog__message-container data-message-id=1191128093239287940><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Sunday, December 31, 2023 4:17‚ÄØPM">4:17‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>e.g., arrowjs will automatically convert integers to float64 in vectorFromArray</span></div></div></div></div><div id=chatlog__message-container-1191128194540130405 class=chatlog__message-container data-message-id=1191128194540130405><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Sunday, December 31, 2023 4:18‚ÄØPM">4:18‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>so if you declare id as Int64 in the schema, it&#39;ll complain when you try to add data unfortunately</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1191152165155262554 class=chatlog__message-container data-message-id=1191152165155262554><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Sunday, December 31, 2023 5:53‚ÄØPM"><a href=#chatlog__message-container-1191152165155262554>12/31/2023 5:53‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>ok the more general case is going to be more complicated. I just added <a href="https://github.com/lancedb/lancedb/pull/755">https://github.com/lancedb/lancedb/pull/755</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/pull/755><div class="chatlog__markdown chatlog__markdown-preserve">feat(js): support list of string input by changhiskhan &#183; Pull Reque...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Add support for adding lists of string input (e.g., list of categorical labels)
Follow-up items: #757 #758</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/YHLsaUorjT6K5h5snRnr1YBQHkOAY3fu1Z5mbDK7Rko/https/opengraph.githubassets.com/0327c38444434c324c40d46bbea05cc50429d14bbe9c5512ed050000b25fef4d/lancedb/lancedb/pull/755> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/YHLsaUorjT6K5h5snRnr1YBQHkOAY3fu1Z5mbDK7Rko/https/opengraph.githubassets.com/0327c38444434c324c40d46bbea05cc50429d14bbe9c5512ed050000b25fef4d/lancedb/lancedb/pull/755 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div><div id=chatlog__message-container-1191152250425446501 class=chatlog__message-container data-message-id=1191152250425446501><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Sunday, December 31, 2023 5:53‚ÄØPM">5:53‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>with two additional issues to track</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1192515221131104266 class=chatlog__message-container data-message-id=1192515221131104266><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=kohlerbear3381 data-user-id=450637514668113921>kohlerbear</span> <span class=chatlog__timestamp title="Thursday, January 4, 2024 12:09‚ÄØPM"><a href=#chatlog__message-container-1192515221131104266>1/4/2024 12:09‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is there any way to perform filtering on the _distance column returned from a vector search? E.g. &quot;give the the k nearest neighbors with a distance &lt; X&quot;?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1192515705510297681 class=chatlog__message-container data-message-id=1192515705510297681><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=kohlerbear3381>kohlerbear</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1192515221131104266')"> Is there any way to perform filtering on the _distance column returned from a vector search? E.g. &quot;give the the k nearest neighbors with a distance &lt; X&quot;? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Thursday, January 4, 2024 12:11‚ÄØPM"><a href=#chatlog__message-container-1192515705510297681>1/4/2024 12:11‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Not yet, no. This was requested recently: <a href="https://github.com/lancedb/lancedb/issues/745">https://github.com/lancedb/lancedb/issues/745</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/issues/745><div class="chatlog__markdown chatlog__markdown-preserve">Feature: Specify maximum cosine distance in the WHERE clause of `ta...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">SDK Python Description I&#39;d love to be able to specify a minimum cosine similarity threshold (or maximum cosine distance) when using table.search(). One way to do this would be to alter the .whe...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/pC8_oqCXQ3bcNwLD6QBvYlXDda8TGbgvH2cWb5dmcsI/https/opengraph.githubassets.com/da89aef6cb8db6b58a83ced9042cb85537195931cb95252a19d80c589fcdacc2/lancedb/lancedb/issues/745> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/pC8_oqCXQ3bcNwLD6QBvYlXDda8TGbgvH2cWb5dmcsI/https/opengraph.githubassets.com/da89aef6cb8db6b58a83ced9042cb85537195931cb95252a19d80c589fcdacc2/lancedb/lancedb/issues/745 alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1199484535436488786 class=chatlog__message-container data-message-id=1199484535436488786><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=mtdonato data-user-id=912791911796990002>mtdonato</span> <span class=chatlog__timestamp title="Tuesday, January 23, 2024 5:43‚ÄØPM"><a href=#chatlog__message-container-1199484535436488786>1/23/2024 5:43‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I thought the versioning functionality was fantastic. Looking at the documentation I saw the metadata field, but I didn&#39;t understand if it is something that can be passed or is internal to the function. I plan to use it in production, so it would be very difficult to retrieve a version just by date.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1199486028025696266 class=chatlog__message-container data-message-id=1199486028025696266><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=mtdonato>mtdonato</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1199484535436488786')"> I thought the versioning functionality was fantastic. Looking at the documentation I saw the metadata field, but I didn&#39;t understand if it is something that can be passed or is internal to the function. I plan to use it in production, so it would be very difficult to retrieve a version just by date. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Tuesday, January 23, 2024 5:49‚ÄØPM"><a href=#chatlog__message-container-1199486028025696266>1/23/2024 5:49‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>The dataset metadata that we have is not version specific. Currently each version has a number and a date. I think you‚Äôre asking for version specific metadata field kind of like a git tag right?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1199486766328066118 class=chatlog__message-container data-message-id=1199486766328066118><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1199486028025696266')"> The dataset metadata that we have is not version specific. Currently each version has a number and a date. I think you‚Äôre asking for version specific metadata field kind of like a git tag right? </span></div></div><div class=chatlog__header><span class=chatlog__author title=mtdonato data-user-id=912791911796990002>mtdonato</span> <span class=chatlog__timestamp title="Tuesday, January 23, 2024 5:52‚ÄØPM"><a href=#chatlog__message-container-1199486766328066118>1/23/2024 5:52‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>exactly. I believe it would be easier to understand, in summary, what was the reason that generated the new version.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1199492474142470224 class=chatlog__message-container data-message-id=1199492474142470224><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Tuesday, January 23, 2024 6:14‚ÄØPM"><a href=#chatlog__message-container-1199492474142470224>1/23/2024 6:14‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I agree. Can you file a GitHub feature request in the LanceDB/lance repo? Be great to have this as a feature.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1199498515693457479 class=chatlog__message-container data-message-id=1199498515693457479><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1199492474142470224')"> I agree. Can you file a GitHub feature request in the LanceDB/lance repo? Be great to have this as a feature. </span></div></div><div class=chatlog__header><span class=chatlog__author title=mtdonato data-user-id=912791911796990002>mtdonato</span> <span class=chatlog__timestamp title="Tuesday, January 23, 2024 6:38‚ÄØPM"><a href=#chatlog__message-container-1199498515693457479>1/23/2024 6:38‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yes</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1200169298287661177 class=chatlog__message-container data-message-id=1200169298287661177><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/196870038987341825/794c58d6131700e27acd5e2bdebc949c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=royliu0 data-user-id=196870038987341825>Roy</span> <span class=chatlog__timestamp title="Thursday, January 25, 2024 3:04‚ÄØPM"><a href=#chatlog__message-container-1200169298287661177>1/25/2024 3:04‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Does your query language support document search? In other words, documents are broken into chunks, and the resulting table has three columns: chunk primary key, document id, and chunk vector. We would like a query along the lines of &quot;given an embedding, find the top 10 matching documents&quot;, for some definition of &quot;matching&quot;. I get that users can simulate this functionality by searching against chunks straight up and iterating through the result set after, say, n documents have been found, but there is a certain peace of mind and future proofing that can be attained by relying on a vendor&#39;s implementation of document search.</span> <span class=chatlog__edited-timestamp title="Thursday, January 25, 2024 3:04‚ÄØPM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1200178594752774144 class=chatlog__message-container data-message-id=1200178594752774144><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/196870038987341825/794c58d6131700e27acd5e2bdebc949c.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=royliu0>Roy</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1200169298287661177')"> Does your query language support document search? In other words, documents are broken into chunks, and the resulting table has three columns: chunk primary key, document id, and chunk vector. We would like a query along the lines of &quot;given an embedding, find the top 10 matching documents&quot;, for some definition of &quot;matching&quot;. I get that users can simulate this functionality by searching against chunks straight up and iterating through the result set after, say, n documents have been found, but there is a certain peace of mind and future proofing that can be attained by relying on a vendor&#39;s implementation of document search. </span> <span class=chatlog__reply-edited-timestamp title="Thursday, January 25, 2024 3:04‚ÄØPM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, January 25, 2024 3:41‚ÄØPM"><a href=#chatlog__message-container-1200178594752774144>1/25/2024 3:41‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>we currently don&#39;t have this feature exactly as described. Most of our users who need that will do what you described and do the &quot;groupby&quot; operation on the result set. happy to take a feature-request github issue and we can discuss how to push the groupby down into the search query execution itself</span></div></div></div></div><div id=chatlog__message-container-1200178664365621360 class=chatlog__message-container data-message-id=1200178664365621360><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, January 25, 2024 3:41‚ÄØPM">3:41‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>similar to what <span class="chatlog__markdown-mention" title="wpace">@WestonPace</span> had worked on recently actually ^</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1200179850531586069 class=chatlog__message-container data-message-id=1200179850531586069><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/196870038987341825/794c58d6131700e27acd5e2bdebc949c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1200178594752774144')"> we currently don&#39;t have this feature exactly as described. Most of our users who need that will do what you described and do the &quot;groupby&quot; operation on the result set. happy to take a feature-request github issue and we can discuss how to push the groupby down into the search query execution itself </span></div></div><div class=chatlog__header><span class=chatlog__author title=royliu0 data-user-id=196870038987341825>Roy</span> <span class=chatlog__timestamp title="Thursday, January 25, 2024 3:46‚ÄØPM"><a href=#chatlog__message-container-1200179850531586069>1/25/2024 3:46‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Will file. Thanks!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1200207013418913832 class=chatlog__message-container data-message-id=1200207013418913832><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=mtdonato>mtdonato</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1199498515693457479')"> Yes </span></div></div><div class=chatlog__header><span class=chatlog__author title=qian_00349 data-user-id=1139637723725041674>Qian</span> <span class=chatlog__timestamp title="Thursday, January 25, 2024 5:34‚ÄØPM"><a href=#chatlog__message-container-1200207013418913832>1/25/2024 5:34‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi <span class="chatlog__markdown-mention" title="mtdonato">@mtdonato</span> I filed this issue per your feature request <a href="https://github.com/lancedb/lancedb/issues/866">https://github.com/lancedb/lancedb/issues/866</a>. Can you please take a look and add in details if needed? Thank you!</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/issues/866.><div class="chatlog__markdown chatlog__markdown-preserve">Issues &#183; lancedb/lancedb</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Developer-friendly, serverless vector database for AI applications. Easily add long-term memory to your LLM apps! - Issues &#183; lancedb/lancedb</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/UC2G4jS2YADhyv0dDUTZCwDTCOzNZuxznk7xSmhf0w4/https/opengraph.githubassets.com/131e7571f410992771cc089a284e48c47fbeef41fe793304887ec1f6f569408b/lancedb/lancedb> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/UC2G4jS2YADhyv0dDUTZCwDTCOzNZuxznk7xSmhf0w4/https/opengraph.githubassets.com/131e7571f410992771cc089a284e48c47fbeef41fe793304887ec1f6f569408b/lancedb/lancedb alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1200431327678312448 class=chatlog__message-container data-message-id=1200431327678312448><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=qian_00349>Qian</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1200207013418913832')"> Hi <span class="chatlog__markdown-mention" title="mtdonato">@mtdonato</span> I filed this issue per your feature request <a href="https://github.com/lancedb/lancedb/issues/866">https://github.com/lancedb/lancedb/issues/866</a>. Can you please take a look and add in details if needed? Thank you! </span></div></div><div class=chatlog__header><span class=chatlog__author title=mtdonato data-user-id=912791911796990002>mtdonato</span> <span class=chatlog__timestamp title="Friday, January 26, 2024 8:25‚ÄØAM"><a href=#chatlog__message-container-1200431327678312448>1/26/2024 8:25‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yes, you defined the idea well. No more to add. Thanks!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1200456798629535877 class=chatlog__message-container data-message-id=1200456798629535877><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1155643238917603359/75c483b16903e322a33a085775985cd7.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=orko_69844 data-user-id=1155643238917603359>Orko</span> <span class=chatlog__timestamp title="Friday, January 26, 2024 10:06‚ÄØAM"><a href=#chatlog__message-container-1200456798629535877>1/26/2024 10:06‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Documentation feature request: I recently wanted to add two vector columns to a table (to allow searching the same data via two different embeddings), hence, I needed a vector column name different from <em>vector</em>. I often guide table creation by just passing a pandas <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">DataFrame</code> via the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">data</code> parameter (instead of a schema) but here this lead to an error when trying to search via the column with the non-standard name.

Eventually, I found that to act as a vector column one needs to have the proper type (fixed length float list) in place and that the schema created by <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">pyarrow.Table.from_arrow</code> is modified (function <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">_sanitize_schema</code> in <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table.py</code>) automatically to this end ... but this only works if the automatic detection detects a vector column (which requires the column name <em>vector</em> if no schema is provided).

Now I know, it all makes sense but this was not clear to me when starting out. Did I do something wrong or miss something? But if not, then it would be nice to have a warning in the docs ... in particular, given that the presence of the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">vector_column_name</code> parameter somehow invites using different names.</span> <span class=chatlog__edited-timestamp title="Friday, January 26, 2024 10:13‚ÄØAM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1200487859212259438 class=chatlog__message-container data-message-id=1200487859212259438><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Friday, January 26, 2024 12:10‚ÄØPM"><a href=#chatlog__message-container-1200487859212259438>1/26/2024 12:10‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="orko_69844">@Orko</span> thanks for reports.  Could you post your workflow that add columns and the error message you see? We&#39;d like to improve it&gt;

Btw, we are in the process to refine the expereince of using lance. One feature we&#39;ve already done is that it does not have hard requirements of &quot;vector&quot; column anymore. It can auto detect vector columns as long as they are <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">FixedSizeList&lt;float16 | float32&gt;</code>, for ingestion / create index / query.

Would love to see your use case as a feedback to the feature</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1200598280682352852 class=chatlog__message-container data-message-id=1200598280682352852><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1155643238917603359/75c483b16903e322a33a085775985cd7.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=lei.xu>lei</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1200487859212259438')"> <span class="chatlog__markdown-mention" title="orko_69844">@Orko</span> thanks for reports.  Could you post your workflow that add columns and the error message you see? We&#39;d like to improve it&gt;

Btw, we are in the process to refine the expereince of using lance. One feature we&#39;ve already done is that it does not have hard requirements of &quot;vector&quot; column anymore. It can auto detect vector columns as long as they are <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">FixedSizeList&lt;float16 | float32&gt;</code>, for ingestion / create index / query.

Would love to see your use case as a feedback to the feature </span></div></div><div class=chatlog__header><span class=chatlog__author title=orko_69844 data-user-id=1155643238917603359>Orko</span> <span class=chatlog__timestamp title="Friday, January 26, 2024 7:28‚ÄØPM"><a href=#chatlog__message-container-1200598280682352852>1/26/2024 7:28‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Here is a minimal example
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">import pandas as pd
import lancedb

df = pd.DataFrame(
    {
        &quot;vector_a&quot;: [[1.0, 2.0], [3.0, 4.0], [5.0, 6.0]],
        &quot;vector_b&quot;: [[1.0, 2.0], [3.0, 4.0], [5.0, 6.0]],
    }
)

vector_store = lancedb.connect(&quot;db&quot;)
fail = vector_store.create_table(&quot;fail&quot;, data=df)

fail.search(query=[2.5, 3.5], vector_column_name=&quot;vector_a&quot;).to_pandas()</code>
When running this I get <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">TypeError: Query column vector_a must be a vector. Got list&lt;item: double&gt;.</code>

When first encountering this I has vectors from openai&#39;s API (via langchain) but the data type was <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">list[list[float]]</code> as above.

After a bit of research (explained in my previous post) I ended up with something like
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">import pyarrow as pa

success = vector_store.create_table(
    &quot;success&quot;,
    data=df,
    schema=pa.schema(
        ((name, pa.list_(pa.float32(), 2)) for name in (&quot;vector_a&quot;, &quot;vector_b&quot;))
    ),
)
success.search(query=[2.5, 3.5], vector_column_name=&quot;vector_a&quot;).to_pandas()</code>
This is not a big deal and with hindsight it all makes sense ... but before doing the research I was a bit puzzled that it all works fine as long as the vector columns is called <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">&quot;vector&quot;</code> and then fails once it is called <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">&quot;vector_a&quot;</code>. Would have been nice to have a little hint int the docs.</span> <span class=chatlog__edited-timestamp title="Friday, January 26, 2024 7:36‚ÄØPM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1200609252952264754 class=chatlog__message-container data-message-id=1200609252952264754><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1001739727197700146/5cd18d5cd712e8e0248f6bd4a2f04b4f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span class=chatlog__timestamp title="Friday, January 26, 2024 8:12‚ÄØPM"><a href=#chatlog__message-container-1200609252952264754>1/26/2024 8:12‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We are about to relax this restriction (hard coded vector column) in a week or 2.</span></div></div></div></div><div id=chatlog__message-container-1200609359013621940 class=chatlog__message-container data-message-id=1200609359013621940><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Friday, January 26, 2024 8:12‚ÄØPM">8:12‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>no physical limitation to enforce this restriction</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1202682727409782784 class=chatlog__message-container data-message-id=1202682727409782784><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1040448339088519168/5445ffd7ffb201a98393cbdf684ea4b1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=garnizzle data-user-id=1040448339088519168>garnizzle</span> <span class=chatlog__timestamp title="Thursday, February 1, 2024 1:31‚ÄØPM"><a href=#chatlog__message-container-1202682727409782784>2/1/2024 1:31‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>are there any plans to add an option create the s3 bucket under the hood for the user?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1202683152951148564 class=chatlog__message-container data-message-id=1202683152951148564><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1040448339088519168/5445ffd7ffb201a98393cbdf684ea4b1.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=garnizzle>garnizzle</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1202682727409782784')"> are there any plans to add an option create the s3 bucket under the hood for the user? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Thursday, February 1, 2024 1:33‚ÄØPM"><a href=#chatlog__message-container-1202683152951148564>2/1/2024 1:33‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I don&#39;t think so. Creating S3 buckets involve deciding permissions (is is public or private?) and a bunch of other configurations (turn on/off versioning, etc.). We don&#39;t want to make those decisions for you.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>2</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1207640952840126505 class=chatlog__message-container data-message-id=1207640952840126505><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/751443477933588563/8a41e673abc94aabd7676d902dadc9e3.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=sn5244 data-user-id=751443477933588563>sean</span> <span class=chatlog__timestamp title="Thursday, February 15, 2024 5:54‚ÄØAM"><a href=#chatlog__message-container-1207640952840126505>2/15/2024 5:54‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi! Thanks for maintaining this excellent library! I&#39;m interested in full-text search and wondering if its possible to search for partial string matches? So for instance if searching using &#39;man&#39;, results could include text containing the words &#39;Manhattan&#39;, &#39;mantis&#39;, &#39;mane&#39; etc. rather than needing to search for each one of these words specifically.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210247385473749054 class=chatlog__message-container data-message-id=1210247385473749054><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/800391234060943441/a111219198a4f2b9ddd2211c587a2e65.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=lincolncannon data-user-id=800391234060943441>Lincoln Cannon</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 10:31‚ÄØAM"><a href=#chatlog__message-container-1210247385473749054>2/22/2024 10:31‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi all. Have you considered deploying and maintaining a Lance lambda layer in the AWS Serverless Application Repository? It would be super helpful and facilitate onboarding. <a href="https://serverlessrepo.aws.amazon.com/applications">https://serverlessrepo.aws.amazon.com/applications</a></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210257770478313482 class=chatlog__message-container data-message-id=1210257770478313482><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/800391234060943441/a111219198a4f2b9ddd2211c587a2e65.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=lincolncannon>Lincoln Cannon</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1210247385473749054')"> Hi all. Have you considered deploying and maintaining a Lance lambda layer in the AWS Serverless Application Repository? It would be super helpful and facilitate onboarding. <a href="https://serverlessrepo.aws.amazon.com/applications">https://serverlessrepo.aws.amazon.com/applications</a> </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:12‚ÄØAM"><a href=#chatlog__message-container-1210257770478313482>2/22/2024 11:12‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>that&#39;s a great idea</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=pray><img class="chatlog__emoji chatlog__emoji--small" alt=üôè src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210259139893141554 class=chatlog__message-container data-message-id=1210259139893141554><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/800391234060943441/a111219198a4f2b9ddd2211c587a2e65.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1210257770478313482')"> that&#39;s a great idea </span></div></div><div class=chatlog__header><span class=chatlog__author title=lincolncannon data-user-id=800391234060943441>Lincoln Cannon</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:17‚ÄØAM"><a href=#chatlog__message-container-1210259139893141554>2/22/2024 11:17‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>If you create one that contains the Lance javascript API, I would happily tell all my developer friends about it.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210262365405454337 class=chatlog__message-container data-message-id=1210262365405454337><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/800391234060943441/a111219198a4f2b9ddd2211c587a2e65.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=lincolncannon>Lincoln Cannon</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1210259139893141554')"> If you create one that contains the Lance javascript API, I would happily tell all my developer friends about it. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 11:30‚ÄØAM"><a href=#chatlog__message-container-1210262365405454337>2/22/2024 11:30‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>mind creating a github issue to help us track it? <img
    loading="lazy"
    class="chatlog__emoji "
    alt="üôè"
    title="pray"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg"></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1210278423738720356 class=chatlog__message-container data-message-id=1210278423738720356><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/800391234060943441/a111219198a4f2b9ddd2211c587a2e65.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1210262365405454337')"> mind creating a github issue to help us track it? <img
    loading="lazy"
    class="chatlog__emoji "
    alt="üôè"
    title="pray"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg"> </span></div></div><div class=chatlog__header><span class=chatlog__author title=lincolncannon data-user-id=800391234060943441>Lincoln Cannon</span> <span class=chatlog__timestamp title="Thursday, February 22, 2024 12:34‚ÄØPM"><a href=#chatlog__message-container-1210278423738720356>2/22/2024 12:34‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Done! <a href="https://github.com/lancedb/lancedb/issues/1010">https://github.com/lancedb/lancedb/issues/1010</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/issues/1010><div class="chatlog__markdown chatlog__markdown-preserve">Feature:Lance Lambda Layer in AWS Serverless Application Repository...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">SDK Node Description Deploy and maintain a Lance lambda layer for use by Node.js Lambda functions in the AWS Serverless Application Repository. This will greatly facilitate onboarding.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/JZeVWJWuRImO1v9VL6m7ge_JzL1GLno4wJTycUbfqog/https/opengraph.githubassets.com/7b009381aaa74fa5e216682226339058b3440a55f5c3dc19a2c78260d467bd15/lancedb/lancedb/issues/1010> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/JZeVWJWuRImO1v9VL6m7ge_JzL1GLno4wJTycUbfqog/https/opengraph.githubassets.com/7b009381aaa74fa5e216682226339058b3440a55f5c3dc19a2c78260d467bd15/lancedb/lancedb/issues/1010 alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=pray><img class="chatlog__emoji chatlog__emoji--small" alt=üôè src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1214164156824035328 class=chatlog__message-container data-message-id=1214164156824035328><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=dhruv_aintech data-user-id=1097776143941259324>dhruv-aintech</span> <span class=chatlog__timestamp title="Monday, March 4, 2024 5:54‚ÄØAM"><a href=#chatlog__message-container-1214164156824035328>3/4/2024 5:54‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi there, does LanceDB have a Scroll API (similar to <a href="https://qdrant.tech/documentation/concepts/points/#scroll-points)">https://qdrant.tech/documentation/concepts/points/#scroll-points)</a>, something that can iterate through the entire table/index?</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(255,255,255,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href="https://qdrant.tech/documentation/concepts/points/"><div class="chatlog__markdown chatlog__markdown-preserve">Points - Qdrant</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Qdrant is an Open-Source Vector Database and Vector Search Engine written in Rust. It provides fast and scalable vector similarity search service with convenient API.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/kpqyRM62xdBV6IJiCdar4teYFaZ5bK0thiIPvPuurMM/https/qdrant.tech/documentation/concepts/points-social-preview.png> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/kpqyRM62xdBV6IJiCdar4teYFaZ5bK0thiIPvPuurMM/https/qdrant.tech/documentation/concepts/points-social-preview.png alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1214243885983735829 class=chatlog__message-container data-message-id=1214243885983735829><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=dhruv_aintech>dhruv-aintech</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1214164156824035328')"> Hi there, does LanceDB have a Scroll API (similar to <a href="https://qdrant.tech/documentation/concepts/points/#scroll-points)">https://qdrant.tech/documentation/concepts/points/#scroll-points)</a>, something that can iterate through the entire table/index? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Monday, March 4, 2024 11:11‚ÄØAM"><a href=#chatlog__message-container-1214243885983735829>3/4/2024 11:11‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>In LanceDB OSS, you can call <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table.search()</code> without any query vector and it will do a table scan (same thing as scroll). This isn&#39;t yet supported on LanceDB Cloud. Right now, it doesn&#39;t return the results paginated, so would collect everything in memory. But you can use <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">.where</code> to filter the rows and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">.select()</code> to choose which columns you want to retrieve.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1214244817123676210 class=chatlog__message-container data-message-id=1214244817123676210><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Monday, March 4, 2024 11:15‚ÄØAM"><a href=#chatlog__message-container-1214244817123676210>3/4/2024 11:15‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>if it&#39;s a large table, for now you can do something like <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table.to_lance().to_batches()</code> and iterate over that? And <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">to_batches</code> takes filters as well</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1214476231047909396 class=chatlog__message-container data-message-id=1214476231047909396><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1214244817123676210')"> if it&#39;s a large table, for now you can do something like <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table.to_lance().to_batches()</code> and iterate over that? And <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">to_batches</code> takes filters as well </span></div></div><div class=chatlog__header><span class=chatlog__author title=dhruv_aintech data-user-id=1097776143941259324>dhruv-aintech</span> <span class=chatlog__timestamp title="Tuesday, March 5, 2024 2:34‚ÄØAM"><a href=#chatlog__message-container-1214476231047909396>3/5/2024 2:34‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>thanks! this is what I needed</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1215090638589272134 class=chatlog__message-container data-message-id=1215090638589272134><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=pourion data-user-id=840013314256011264>Pourion</span> <span class=chatlog__timestamp title="Wednesday, March 6, 2024 7:16‚ÄØPM"><a href=#chatlog__message-container-1215090638589272134>3/6/2024 7:16‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi All, I want to call <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table.search(query, vector_column_name=&#39;vector&#39;)</code> on the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">vector</code> embeddings that are unique, is there an easy way to remove duplicates based on distance?Alternatively, because I also maintain the actual <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">strings</code> that made the embedding vectors in another column,  hypothetically I achieve this by pre-filtering the database to only keep rows with unique values in the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">strings</code> column using a construct similar to <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">.where(?)</code> , do you know what should the syntax for this? I think having a threshold feature in the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">.search(..., threshold=0.001, ..)</code> would be a nice feature!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1215194881681661982 class=chatlog__message-container data-message-id=1215194881681661982><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, March 7, 2024 2:10‚ÄØAM"> <a href=#chatlog__message-container-1215194881681661982>3/7/2024 2:10‚ÄØAM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1215736803542302812 class=chatlog__message-container data-message-id=1215736803542302812><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/785121952133546006/221a83d33a2e828fc0e13ce1da79af23.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=lhuillier data-user-id=785121952133546006>samlhuillier</span> <span class=chatlog__timestamp title="Friday, March 8, 2024 2:04‚ÄØPM"><a href=#chatlog__message-container-1215736803542302812>3/8/2024 2:04‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello! Are there plans for a way to get time weighted results like Langchain does with their time weighted retriever? <a href="https://js.langchain.com/docs/modules/data_connection/retrievers/time_weighted_vectorstore#:~:text=This%20retriever%20uses%20a%20combination%20of%20semantic%20similarity%20and%20a%20time%20decay.&amp;text=Notably%2C%20hours_passed%20refers%20to%20the,accessed%20objects%20remain%20%22fresh.%22">https://js.langchain.com/docs/modules/data_connection/retrievers/time_weighted_vectorstore#:~:text=This%20retriever%20uses%20a%20combination%20of%20semantic%20similarity%20and%20a%20time%20decay.&amp;text=Notably%2C%20hours_passed%20refers%20to%20the,accessed%20objects%20remain%20%22fresh.%22</a>

This would really improve the rag pipeline I have. I&#39;m using node js btw.</span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://js.langchain.com/docs/modules/data_connection/retrievers/time_weighted_vectorstore><div class="chatlog__markdown chatlog__markdown-preserve">Time-weighted vector store retriever | <img
    loading="lazy"
    class="chatlog__emoji "
    alt="ü¶ú"
    title="parrot"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f99c.svg">Ô∏è<img
    loading="lazy"
    class="chatlog__emoji "
    alt="üîó"
    title="link"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f517.svg"> Langchain</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">This retriever uses a combination of semantic similarity and a time decay.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/ZkgLUxiGG8QFLjrpVQm6ZwuQZ6CKpp5vo0IGDLgBUUc/https/js.langchain.com/img/brand/theme-image.png> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/ZkgLUxiGG8QFLjrpVQm6ZwuQZ6CKpp5vo0IGDLgBUUc/https/js.langchain.com/img/brand/theme-image.png alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1216106527048470638 class=chatlog__message-container data-message-id=1216106527048470638><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1032079688887189556/9d9cd1c2872874160d9f8e2f6dd766a5.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/785121952133546006/221a83d33a2e828fc0e13ce1da79af23.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=lhuillier>samlhuillier</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1215736803542302812')"> Hello! Are there plans for a way to get time weighted results like Langchain does with their time weighted retriever? <a href="https://js.langchain.com/docs/modules/data_connection/retrievers/time_weighted_vectorstore#:~:text=This%20retriever%20uses%20a%20combination%20of%20semantic%20similarity%20and%20a%20time%20decay.&amp;text=Notably%2C%20hours_passed%20refers%20to%20the,accessed%20objects%20remain%20%22fresh.%22">https://js.langchain.com/docs/modules/data_connection/retrievers/time_weighted_vectorstore#:~:text=This%20retriever%20uses%20a%20combination%20of%20semantic%20similarity%20and%20a%20time%20decay.&amp;text=Notably%2C%20hours_passed%20refers%20to%20the,accessed%20objects%20remain%20%22fresh.%22</a>

This would really improve the rag pipeline I have. I&#39;m using node js btw. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=ayushexel data-user-id=1032079688887189556>AyushC</span> <span class=chatlog__timestamp title="Saturday, March 9, 2024 2:33‚ÄØPM"><a href=#chatlog__message-container-1216106527048470638>3/9/2024 2:33‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I think this would be pretty interesting. You can probably implement something like this by simply using our current Reranker API in hybrid search setting (You&#39;ll just need to ignore the fts results and use semantic results with time decay), which&#39;ll add some penaltly due to the fts pathway. See- <a href="https://lancedb.github.io/lancedb/hybrid_search/hybrid_search/#building-custom-rerankers">https://lancedb.github.io/lancedb/hybrid_search/hybrid_search/#building-custom-rerankers</a>
I think we should support plugging in custom rerankers in vector search only pathway if there is enough demand for it. This is a compelling use case &amp; I&#39;ve seen another one in an official cohere blog where they rerank semantic search results with cohere reranker.. Seems like reranking vector  search is also a getting pretty common <span class="chatlog__markdown-mention" title="prrao">@prashanth</span> <span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span> .</span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href="https://lancedb.github.io/lancedb/hybrid_search/hybrid_search/"><div class="chatlog__markdown chatlog__markdown-preserve">Overview</div></a></div></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1216117443559297044 class=chatlog__message-container data-message-id=1216117443559297044><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1032079688887189556/9d9cd1c2872874160d9f8e2f6dd766a5.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=ayushexel>AyushC</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1216106527048470638')"> I think this would be pretty interesting. You can probably implement something like this by simply using our current Reranker API in hybrid search setting (You&#39;ll just need to ignore the fts results and use semantic results with time decay), which&#39;ll add some penaltly due to the fts pathway. See- <a href="https://lancedb.github.io/lancedb/hybrid_search/hybrid_search/#building-custom-rerankers">https://lancedb.github.io/lancedb/hybrid_search/hybrid_search/#building-custom-rerankers</a>
I think we should support plugging in custom rerankers in vector search only pathway if there is enough demand for it. This is a compelling use case &amp; I&#39;ve seen another one in an official cohere blog where they rerank semantic search results with cohere reranker.. Seems like reranking vector  search is also a getting pretty common <span class="chatlog__markdown-mention" title="prrao">@prashanth</span> <span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span> . </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Saturday, March 9, 2024 3:16‚ÄØPM"><a href=#chatlog__message-container-1216117443559297044>3/9/2024 3:16‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yeah agreed. We should make the reranking API more generic so it doesn‚Äôt need to be hard coded as ‚Äúrerank vector ‚Äú vs ‚Äúrerank hybrid‚Äù. Instead, the interface should allow arbitrary selection of additional features</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1216131856345333770 class=chatlog__message-container data-message-id=1216131856345333770><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/785121952133546006/221a83d33a2e828fc0e13ce1da79af23.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=changkhiskhan>changhiskhan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1216117443559297044')"> Yeah agreed. We should make the reranking API more generic so it doesn‚Äôt need to be hard coded as ‚Äúrerank vector ‚Äú vs ‚Äúrerank hybrid‚Äù. Instead, the interface should allow arbitrary selection of additional features </span></div></div><div class=chatlog__header><span class=chatlog__author title=lhuillier data-user-id=785121952133546006>samlhuillier</span> <span class=chatlog__timestamp title="Saturday, March 9, 2024 4:13‚ÄØPM"><a href=#chatlog__message-container-1216131856345333770>3/9/2024 4:13‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>yes this would be very nice - do you have an ETA for when you think it could be available?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1216272762641973298 class=chatlog__message-container data-message-id=1216272762641973298><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/874024849549443083/82ae4877b6329b4d8ab2440a270e9278.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jmeks data-user-id=874024849549443083>JMEKS</span> <span class=chatlog__timestamp title="Sunday, March 10, 2024 1:33‚ÄØAM"><a href=#chatlog__message-container-1216272762641973298>3/10/2024 1:33‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Would it be possible to get some examples in the docs using Instructor with LanceDB? Seems like a great fit since both work well with Pydantic. Most Python examples use LangChain and it‚Äôd be great to get some framework diversity</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1216357837295325189 class=chatlog__message-container data-message-id=1216357837295325189><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=ayushexel data-user-id=1032079688887189556>AyushC</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Sunday, March 10, 2024 8:11‚ÄØAM"> <a href=#chatlog__message-container-1216357837295325189>3/10/2024 8:11‚ÄØAM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1216652661806465134 class=chatlog__message-container data-message-id=1216652661806465134><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1158488843587178589/c46a725edfc782b59ec73c78cc6533b1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=parima_76202 data-user-id=1158488843587178589>Parima</span> <span class=chatlog__timestamp title="Monday, March 11, 2024 3:43‚ÄØAM"><a href=#chatlog__message-container-1216652661806465134>3/11/2024 3:43‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;m trying to write ~146 million vectors, with dimension 768. Right now, to write 5,000 vector batches to s3, it takes around 13s via the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">.add(data)</code> method on an opened lancedb table. With this logic, it would take me around 105 hrs (4.3 days) to write ~146 million vectors. Do you have any recommendations/tips/tricks on how to make this faster? Would a local write -&gt; pushing to s3 be a better solution (and then merging the lance shards)?</span> <span class=chatlog__edited-timestamp title="Monday, March 11, 2024 3:48‚ÄØAM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1216657425461936143 class=chatlog__message-container data-message-id=1216657425461936143><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=parima_76202 data-user-id=1158488843587178589>Parima</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, March 11, 2024 4:02‚ÄØAM"> <a href=#chatlog__message-container-1216657425461936143>3/11/2024 4:02‚ÄØAM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1218126222748553236 class=chatlog__message-container data-message-id=1218126222748553236><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=regstuff data-user-id=488030511957016578>regstuff</span> <span class=chatlog__timestamp title="Friday, March 15, 2024 5:18‚ÄØAM"><a href=#chatlog__message-container-1218126222748553236>3/15/2024 5:18‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi. Saw this in the docs for Full Text Search: &quot;Currently we do not yet support incremental writes.&quot; Any ETA on the incremental writes. I have new docs coming in every 10-20 mins, so doing a full reindex of thousands of docs every 10 mins wouldn&#39;t be ideal. Also wondering if the FTS query parser supports all methods from tantivy, such as * prefix operator and ~ slop for proximity matching. Great job with lancedb btw</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1218137816048078963 class=chatlog__message-container data-message-id=1218137816048078963><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, March 15, 2024 6:04‚ÄØAM"> <a href=#chatlog__message-container-1218137816048078963>3/15/2024 6:04‚ÄØAM</a> </span></div></div></div><div id=chatlog__message-container-1219055997558067304 class=chatlog__message-container data-message-id=1219055997558067304><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=ascillitoe data-user-id=1139624821798473842>Ash</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Sunday, March 17, 2024 6:53‚ÄØPM"> <a href=#chatlog__message-container-1219055997558067304>3/17/2024 6:53‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1224075264422576198 class=chatlog__message-container data-message-id=1224075264422576198><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/785121952133546006/221a83d33a2e828fc0e13ce1da79af23.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=lhuillier data-user-id=785121952133546006>samlhuillier</span> <span class=chatlog__timestamp title="Sunday, March 31, 2024 3:18‚ÄØPM"><a href=#chatlog__message-container-1224075264422576198>3/31/2024 3:18‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, is there an ETA for FTS in node? I see this issue but not sure if much progress has been made: <a href="https://github.com/lancedb/lance/issues/1195">https://github.com/lancedb/lance/issues/1195</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/issues/1195><div class="chatlog__markdown chatlog__markdown-preserve">Full text search (FTS) indices &#183; Issue #1195 &#183; lancedb/lance</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Given that we have <a href="https://github.com/lancedb/tantivy-object-store">https://github.com/lancedb/tantivy-object-store</a> ready now, we can start to integrate tantive FTS into the rust core, and offer FTS to js/python/rust bindings. Because we need to ...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/G--Q-GqhtYRBoAufgBvgyifRmGyg5BjUWmKTp-CFPVQ/https/opengraph.githubassets.com/acc1877361966a7d4ee6583640cae35e1c0ec3761694afdaf66094a307105582/lancedb/lance/issues/1195> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/G--Q-GqhtYRBoAufgBvgyifRmGyg5BjUWmKTp-CFPVQ/https/opengraph.githubassets.com/acc1877361966a7d4ee6583640cae35e1c0ec3761694afdaf66094a307105582/lancedb/lance/issues/1195 alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=heavy_plus_sign><img class="chatlog__emoji chatlog__emoji--small" alt=‚ûï src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/2795.svg loading=lazy> <span class=chatlog__reaction-count>3</span></div><div class=chatlog__reaction title=eyes><img class="chatlog__emoji chatlog__emoji--small" alt=üëÄ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f440.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1224593408182456340 class=chatlog__message-container data-message-id=1224593408182456340><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/785121952133546006/221a83d33a2e828fc0e13ce1da79af23.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=lhuillier>samlhuillier</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1224075264422576198')"> Hi, is there an ETA for FTS in node? I see this issue but not sure if much progress has been made: <a href="https://github.com/lancedb/lance/issues/1195">https://github.com/lancedb/lance/issues/1195</a> </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span class=chatlog__timestamp title="Tuesday, April 2, 2024 1:37‚ÄØAM"><a href=#chatlog__message-container-1224593408182456340>4/2/2024 1:37‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We&#39;ve been focused on a bunch features around indexing and data format support for large scale training. This is still high priority on the roadmap. Likely this quarter</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1225200367587950692 class=chatlog__message-container data-message-id=1225200367587950692><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/897120175797727232/eaac0d965ffc8e4dfeb23da707fefd90.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=devops.199_ data-user-id=897120175797727232>topher (Chris)</span> <span class=chatlog__timestamp title="Wednesday, April 3, 2024 5:48‚ÄØPM"><a href=#chatlog__message-container-1225200367587950692>4/3/2024 5:48‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi all, noticed a call for feature requests on LinkedIn. Async support in Python would be amazing! Would this be on the roadmap? Also full text search index (tantivy).</span> <span class=chatlog__edited-timestamp title="Wednesday, April 3, 2024 5:49‚ÄØPM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1228020857499160636 class=chatlog__message-container data-message-id=1228020857499160636><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=aigeek_33554 data-user-id=1141819736137662494>aiGeek</span> <span class=chatlog__timestamp title="Thursday, April 11, 2024 12:36‚ÄØPM"><a href=#chatlog__message-container-1228020857499160636>4/11/2024 12:36‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>It would be REALLY convenient if there was an option to load a LanceDB or Lance Cloud
instance with sample data such as the movies or otherwise from
  <a href="https://github.com/lancedb/vectordb-recipes/tree/main?tab=readme-ov-file#examples">https://github.com/lancedb/vectordb-recipes/tree/main?tab=readme-ov-file#examples</a>

MongoDB Atlas has this option and it accelerates the time to &#39;ah hah!&#39;. There is no need
to burden the developer on finding data and figuring out how to load it. They just
copy and paste from onboarding tutorials, confirm a few &#39;hello worlds&#39; work,
and are happy campers. They&#39;ll then invest more time with their own data.</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href="https://github.com/lancedb/vectordb-recipes/tree/main?tab=readme-ov-file"><div class="chatlog__markdown chatlog__markdown-preserve">GitHub - lancedb/vectordb-recipes: High quality resources &amp; applica...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">High quality resources &amp;amp; applications for LLMs, multi-modal models and VectorDBs  - GitHub - lancedb/vectordb-recipes: High quality resources &amp;amp; applications for LLMs, multi-modal mo...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/us0IwuhXKc0XwmjUbAZHJOFOWN4C33kbYGtVg2WXRvo/https/opengraph.githubassets.com/e4d5bc717a9d607b8011c9790046e0acd90716f417c142f7e2647f871da17148/lancedb/vectordb-recipes> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/us0IwuhXKc0XwmjUbAZHJOFOWN4C33kbYGtVg2WXRvo/https/opengraph.githubassets.com/e4d5bc717a9d607b8011c9790046e0acd90716f417c142f7e2647f871da17148/lancedb/vectordb-recipes alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1228026747883356160 class=chatlog__message-container data-message-id=1228026747883356160><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=aigeek_33554 data-user-id=1141819736137662494>aiGeek</span> <span class=chatlog__timestamp title="Thursday, April 11, 2024 12:59‚ÄØPM"><a href=#chatlog__message-container-1228026747883356160>4/11/2024 12:59‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>The legacy vectorDB node.js module was very lightweight compared to the new @lancedb\lancedb one.
Our requirement is for a client only support module and not a full blown
database server code set. This requirement naturally fits into the LanceDB Cloud offering.
A driving factor in this is the possible mess one encounters with npm with respect to
module overlays\conflicts etc. Yes, this is likely a different node.js module, but it
is likely very much expected as part of the LanceDB Cloud solution. The look and
feel would of course be like the existing interfaces.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1228032136406372387 class=chatlog__message-container data-message-id=1228032136406372387><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, April 11, 2024 1:21‚ÄØPM"> <a href=#chatlog__message-container-1228032136406372387>4/11/2024 1:21‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1231818235264110644 class=chatlog__message-container data-message-id=1231818235264110644><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=viviantitus13 data-user-id=1225319186872401972>vivian titus</span> <span class=chatlog__timestamp title="Monday, April 22, 2024 12:05‚ÄØAM"><a href=#chatlog__message-container-1231818235264110644>4/22/2024 12:05‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span>  <a href="https://myscale.com/blog/optimizing-filtered-vector-search/">https://myscale.com/blog/optimizing-filtered-vector-search/</a> 

I came across this claim and not able to validate from any paper. Have you guys checked this out?</span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href="https://myscale.com/blog/optimizing-filtered-vector-search/"><div class="chatlog__markdown chatlog__markdown-preserve">Optimizing Filtered Vector Search in MyScale</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Discuss the technical challenges of filtered vector search and how MyScale optimizes filtered vector search using a new algorithm called MSTG, together with ClickHouse for fast filtering on structural data.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/uEw4VKM9np21QI7OXhVvHMNOpzChfW-L9F9LIliWtUE/https/d3lhz231q7ogjd.cloudfront.net/blog/optimizing-filtered-vector-search.jpg> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/uEw4VKM9np21QI7OXhVvHMNOpzChfW-L9F9LIliWtUE/https/d3lhz231q7ogjd.cloudfront.net/blog/optimizing-filtered-vector-search.jpg alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1232000679384580177 class=chatlog__message-container data-message-id=1232000679384580177><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/779784350320689152/1fd145c1b6ca0dad1e498fe85a4a02d9.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=nicolaygerold data-user-id=779784350320689152>Nicolay</span> <span class=chatlog__timestamp title="Monday, April 22, 2024 12:10‚ÄØPM"><a href=#chatlog__message-container-1232000679384580177>4/22/2024 12:10‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is there a roadmap of the next features you are working on? Would be really curious about fts on cloud storage.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1232010971535511582 class=chatlog__message-container data-message-id=1232010971535511582><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/779784350320689152/1fd145c1b6ca0dad1e498fe85a4a02d9.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=nicolaygerold>Nicolay</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1232000679384580177')"> Is there a roadmap of the next features you are working on? Would be really curious about fts on cloud storage. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Monday, April 22, 2024 12:51‚ÄØPM"><a href=#chatlog__message-container-1232010971535511582>4/22/2024 12:51‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>We have a roadmap for Lance here: <a href="https://github.com/lancedb/lance/issues/2079">https://github.com/lancedb/lance/issues/2079</a>
FTS support on object storage is something we&#39;ll be working on this summer.</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/issues/2079><div class="chatlog__markdown chatlog__markdown-preserve">Roadmap 2024 &#183; Issue #2079 &#183; lancedb/lance</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Vector search We continue to work at making vector search performant at very high scales (10 billion vectors). #1832 #2078 #2064 V2 File Format We are working on the next version of our Lance file ...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/CmJf8Q2MIOvIrZpS2Qi2UY-E-DcnvXnB-jPCXODKw8M/https/opengraph.githubassets.com/3b7d0b41ab7d2ecf0506eec03422f95197af7d266cf37ecf3f4973e9e5ad1fc5/lancedb/lance/issues/2079> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/CmJf8Q2MIOvIrZpS2Qi2UY-E-DcnvXnB-jPCXODKw8M/https/opengraph.githubassets.com/3b7d0b41ab7d2ecf0506eec03422f95197af7d266cf37ecf3f4973e9e5ad1fc5/lancedb/lance/issues/2079 alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1233362078534995998 class=chatlog__message-container data-message-id=1233362078534995998><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=adriandlt_10918 data-user-id=1138816094677782610>adrian-dlt</span> <span class=chatlog__timestamp title="Friday, April 26, 2024 6:20‚ÄØAM"><a href=#chatlog__message-container-1233362078534995998>4/26/2024 6:20‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>we (dlt <a href="https://dlthub.com/docs/intro)">https://dlthub.com/docs/intro)</a> want to add lancedb as destination (<a href="https://dlthub.com/docs/dlt-ecosystem/destinations/)">https://dlthub.com/docs/dlt-ecosystem/destinations/)</a>, would it be fine to also add ourselves to this docs page?
<a href="https://lancedb.github.io/lancedb/integrations/">https://lancedb.github.io/lancedb/integrations/</a></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=fire><img class="chatlog__emoji chatlog__emoji--small" alt=üî• src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg loading=lazy> <span class=chatlog__reaction-count>4</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1235734684680585216 class=chatlog__message-container data-message-id=1235734684680585216><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/800391234060943441/a111219198a4f2b9ddd2211c587a2e65.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=lincolncannon data-user-id=800391234060943441>Lincoln Cannon</span> <span class=chatlog__timestamp title="Thursday, May 2, 2024 7:28‚ÄØPM"><a href=#chatlog__message-container-1235734684680585216>5/2/2024 7:28‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Any tricks to getting an enhancement request prioritized? <img
    loading="lazy"
    class="chatlog__emoji "
    alt="üôÇ"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"> <a href="https://github.com/lancedb/lancedb/issues/1010">https://github.com/lancedb/lancedb/issues/1010</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/issues/1010><div class="chatlog__markdown chatlog__markdown-preserve">Feature:Lance Lambda Layer in AWS Serverless Application Repository...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">SDK Node Description Deploy and maintain a Lance lambda layer for use by Node.js Lambda functions in the AWS Serverless Application Repository. This will greatly facilitate onboarding.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/pw3iv3ywYuU-rXNFyIahUlaQVhPj6twf8kzrDzz5ZFU/https/opengraph.githubassets.com/cb7f4d7d3deb382c44b1e02ac4ab037c217fb0200d8bcbda5d51d6842660b9d8/lancedb/lancedb/issues/1010> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/pw3iv3ywYuU-rXNFyIahUlaQVhPj6twf8kzrDzz5ZFU/https/opengraph.githubassets.com/cb7f4d7d3deb382c44b1e02ac4ab037c217fb0200d8bcbda5d51d6842660b9d8/lancedb/lancedb/issues/1010 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1249697228629479434 class=chatlog__message-container data-message-id=1249697228629479434><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1008493627930050650/9952e4d696f2b358c9bb1155b3b50956.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=dsgibbons data-user-id=1008493627930050650>dsgibbons</span> <span class=chatlog__timestamp title="Monday, June 10, 2024 8:10‚ÄØAM"><a href=#chatlog__message-container-1249697228629479434>6/10/2024 8:10‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Just came across this project. It looks super interesting and addresses my main gripe with parquet (slow random access on blobs). I was reading about how lance handles versioning (<a href="https://lancedb.github.io/lancedb/notebooks/reproducibility/)">https://lancedb.github.io/lancedb/notebooks/reproducibility/)</a>. From a first glance, it seems as though higher-order abstractions could be placed on top of the versioning system such as tags and branches (similar to Apache Iceberg perhaps? <a href="https://apache.github.io/iceberg/docs/latest/branching)">https://apache.github.io/iceberg/docs/latest/branching)</a>. For example, a branch could be achieved by restoring from a particular version and then applying transformations that are all linked back to the checked-out version. A secondary table can be used to track how versions map to branch histories. Would the project be interested in adding these sorts of features? I‚Äôd be interested in helping to build out these features if so.</span> <span class=chatlog__edited-timestamp title="Monday, June 10, 2024 8:25‚ÄØAM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1249718644360089654 class=chatlog__message-container data-message-id=1249718644360089654><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, June 10, 2024 9:35‚ÄØAM"> <a href=#chatlog__message-container-1249718644360089654>6/10/2024 9:35‚ÄØAM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1254878339139633152 class=chatlog__message-container data-message-id=1254878339139633152><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=.danteoz data-user-id=736218110646026281>DanteOz</span> <span class=chatlog__timestamp title="Monday, June 24, 2024 3:18‚ÄØPM"><a href=#chatlog__message-container-1254878339139633152>6/24/2024 3:18‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is there any timeline on concurrent writer support for LanceDB on S3? <a href="https://github.com/lancedb/lancedb/issues/534">https://github.com/lancedb/lancedb/issues/534</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/issues/534><div class="chatlog__markdown chatlog__markdown-preserve">feat: enable dynamodb commit in python sdk &#183; Issue #534 &#183; lancedb/l...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Problem Statement We already support Dynamodb for strong consistency S3 commit in Rust and typescript SDK. We should bring it to Python as well.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/eP_wQhIscq_TP-i_rIaK7G0vdu7Fm6gqgx-0bMfNECI/https/opengraph.githubassets.com/1cc1685cb79ca00865b1d2b9d78a70b97431d0ed1865ffa90d2efd6df1029fcf/lancedb/lancedb/issues/534> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/eP_wQhIscq_TP-i_rIaK7G0vdu7Fm6gqgx-0bMfNECI/https/opengraph.githubassets.com/1cc1685cb79ca00865b1d2b9d78a70b97431d0ed1865ffa90d2efd6df1029fcf/lancedb/lancedb/issues/534 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1256958878843666524 class=chatlog__message-container data-message-id=1256958878843666524><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/709857988919164981/24ef5169ca62f7d5e129d3aff8d4ac8a.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=shravan.s data-user-id=709857988919164981>Shravan</span> <span class=chatlog__timestamp title="Sunday, June 30, 2024 9:05‚ÄØAM"><a href=#chatlog__message-container-1256958878843666524>6/30/2024 9:05‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Question. Is I possible to store the index on a different drive than LanceDB data store.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1257021669747327019 class=chatlog__message-container data-message-id=1257021669747327019><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/736899851513626685/637c255769a28cc525579dbfa7f5b435.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=dscanny data-user-id=736899851513626685>Scanny</span> <span class=chatlog__timestamp title="Sunday, June 30, 2024 1:15‚ÄØPM"><a href=#chatlog__message-container-1257021669747327019>6/30/2024 1:15‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hey, I don&#39;t know the correct place to ask this question. I am trying to use LanceDB for my chatbot, but I am having difficulties when trying to use it in a docker. When I import lancedb it takes a very long time to run the docker image. I also noticed that my CPU usage went to 100% compared to 0.5% when running without lancedb. (was using docker stats) to monitor. Can someone help me with this issue, i also saw this issue on GitHub and wonder if other people have encountred it. I am using M1 chip, but the image is build with linux/amd64.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1257049421720457363 class=chatlog__message-container data-message-id=1257049421720457363><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Sunday, June 30, 2024 3:05‚ÄØPM"> <a href=#chatlog__message-container-1257049421720457363>6/30/2024 3:05‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1262923507436617818 class=chatlog__message-container data-message-id=1262923507436617818><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/688188920567300113/74bee75a2391f9725e0c49cb8e996692.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=mwlon data-user-id=688188920567300113>martin</span> <span class=chatlog__timestamp title="Tuesday, July 16, 2024 8:07‚ÄØPM"><a href=#chatlog__message-container-1262923507436617818>7/16/2024 8:07‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Has anyone thought about adding Pcodec compression as an option for numerical columns? It generally gets better compression than LZ approaches</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1262986088801243157 class=chatlog__message-container data-message-id=1262986088801243157><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, July 17, 2024 12:15‚ÄØAM"> <a href=#chatlog__message-container-1262986088801243157>7/17/2024 12:15‚ÄØAM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1263247203984740403 class=chatlog__message-container data-message-id=1263247203984740403><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=kpkpkpkpkp data-user-id=573400024919310337>kp</span> <span class=chatlog__timestamp title="Wednesday, July 17, 2024 5:33‚ÄØPM"><a href=#chatlog__message-container-1263247203984740403>7/17/2024 5:33‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, not sure if this counts as a feature request, but I had a question on writing to a Lance dataset using distributed pipelines (e.g., using Apache Beam). It seems like writes are bottlenecked by updating the metadata. Is there a proper way to write a lance dataset using such pipelines?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1263352710938361887 class=chatlog__message-container data-message-id=1263352710938361887><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/453011810984132648/7e7ce1345a74b61dde07ed74b98a089e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=kdexd data-user-id=453011810984132648>kd</span> <span class=chatlog__timestamp title="Thursday, July 18, 2024 12:32‚ÄØAM"><a href=#chatlog__message-container-1263352710938361887>7/18/2024 12:32‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey everyone! I am working with a dataset of few million images and a set of captions. I was using webdataset (<a href="https://github.com.webdataset/webdataset)">https://github.com.webdataset/webdataset)</a> but I am considering to migrate to Lance as I want to add a few more columns to my data and conduct related experiments. I saw <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">use_legacy_format</code> argument in <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lance.write_dataset</code> while converting my dataset format. Is Lance v2 stable enough to use? When Lance v2 releases, will the Python library provide support to migrate from the current experimental v2 format to the (future) stable v2 format? Thanks in advance!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1263573762293370975 class=chatlog__message-container data-message-id=1263573762293370975><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, July 18, 2024 3:11‚ÄØPM"> <a href=#chatlog__message-container-1263573762293370975>7/18/2024 3:11‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1264781431960506408 class=chatlog__message-container data-message-id=1264781431960506408><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/686127960440438795/a_93a9f73483fed52a295164c3b03fac99.gif?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=isidentical data-user-id=686127960440438795>isidentical</span> <span class=chatlog__timestamp title="Sunday, July 21, 2024 11:09‚ÄØPM"><a href=#chatlog__message-container-1264781431960506408>7/21/2024 11:09‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;d love to have an performant API for clustering &amp; deduplication. E.g. find all the entries with a similarity &gt;=0.99 to any other entry. something along the lines <a href="https://github.com/facebookresearch/faiss">https://github.com/facebookresearch/faiss</a> used natively for embeddings indexed in lancedb</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/facebookresearch/faiss><div class="chatlog__markdown chatlog__markdown-preserve">GitHub - facebookresearch/faiss: A library for efficient similarity...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">A library for efficient similarity search and clustering of dense vectors. - facebookresearch/faiss</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/KSmgVEkbxhYvXnJsfZ49vww2ebME4MYbsTowSMEc6k4/https/opengraph.githubassets.com/e567aaebe6bc0d3d358a8dcc068fdce929912db40e901a45150d327299ecb04d/facebookresearch/faiss> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/KSmgVEkbxhYvXnJsfZ49vww2ebME4MYbsTowSMEc6k4/https/opengraph.githubassets.com/e567aaebe6bc0d3d358a8dcc068fdce929912db40e901a45150d327299ecb04d/facebookresearch/faiss alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1268260165216505967 class=chatlog__message-container data-message-id=1268260165216505967><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/401984116368867328/020a9a0f2b54e09e65070b95777cba9b.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=conradev_ data-user-id=401984116368867328>conrad</span> <span class=chatlog__timestamp title="Wednesday, July 31, 2024 1:33‚ÄØPM"><a href=#chatlog__message-container-1268260165216505967>7/31/2024 1:33‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is there a way to configure LanceDB such that it deletes full vectors once they are incorporated into an ANN index?

I&#39;m working on a product where we optimize for disk usage, and we store data in plain text. I want to embed the text and index it at the same time to avoid needing to store the full vectors on disk</span> <span class=chatlog__edited-timestamp title="Wednesday, July 31, 2024 1:33‚ÄØPM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1268262876758413314 class=chatlog__message-container data-message-id=1268262876758413314><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, July 31, 2024 1:43‚ÄØPM"> <a href=#chatlog__message-container-1268262876758413314>7/31/2024 1:43‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1268269526093402203 class=chatlog__message-container data-message-id=1268269526093402203><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/380005148602138636/c1737ba9241b7f993575783ea10e8ed4.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=thrillcoxson data-user-id=380005148602138636>Alex W</span> <span class=chatlog__timestamp title="Wednesday, July 31, 2024 2:10‚ÄØPM"><a href=#chatlog__message-container-1268269526093402203>7/31/2024 2:10‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey there. I spoke with <span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span> a few days ago about using lancedb. One thing we were interested in with our current delta based service was replicated the transaction log to some faster lookup storage so we could resolve the table state before hitting object store (azure in our case). 

I see with lance there is an external manifest store trait. This looks like it will help locate the pointer to latest manifest data. But the manifest data would still need to be read from object store. Is this correct?  He mentioned a ‚Äústriped‚Äù store.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1268285354914480256 class=chatlog__message-container data-message-id=1268285354914480256><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, July 31, 2024 3:13‚ÄØPM"> <a href=#chatlog__message-container-1268285354914480256>7/31/2024 3:13‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1268338399190847572 class=chatlog__message-container data-message-id=1268338399190847572><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/453011810984132648/7e7ce1345a74b61dde07ed74b98a089e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=kdexd data-user-id=453011810984132648>kd</span> <span class=chatlog__timestamp title="Wednesday, July 31, 2024 6:43‚ÄØPM"><a href=#chatlog__message-container-1268338399190847572>7/31/2024 6:43‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><strong>Incrementally writing columns</strong>

I have a large Lance DB with 1 billion rows and 2 columns. Here&#39;s a mock representation of my dataset which I&#39;d typically see with <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">dataset.head(num_rows=3)</code>:

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">pyarrow.Table
image_id: string
text: string
----
image_id: [[&quot;id1&quot;,&quot;id2&quot;,&quot;id3&quot;]]
text: [[&quot;caption 1&quot;,&quot;caption 2&quot;,&quot;caption 3&quot;]]</code>
Say I want to add a new column named <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">label</code>. I am using a beam pipeline on Google Cloud Dataflow and do batched writes to this DB. 
Can I incrementally write this new column to Lance, say 10K rows at a time? To the best of my understanding:

1. <strong>If the column does not exist</strong>, I must use <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">dataset.merge</code> ‚Äî this creates a column with first 10K values and other <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">null</code> values, like so:

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">dataset.merge(
    pyarrow.Table.from_pylist(
        [
            {&quot;image_id&quot;: &quot;id1&quot;, &quot;label&quot;: &quot;dog&quot;},
            {&quot;image_id&quot;: &quot;id2&quot;, &quot;label&quot;: &quot;cat&quot;},
        ]
    ),
    left_on=&quot;image_id&quot;,
)</code>

2.  <strong>If the column exists</strong>, I use <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">dataset.merge_insert</code>, but I have to read all 10K rows and update them in-memory to match the schema while performing the merge-insert. Here&#39;s my example code:

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">partial_column = pyarrow.Table.from_pylist(
    [
        {&quot;image_id&quot;: &quot;id3&quot;, &quot;label&quot;: &quot;fish&quot;},
        {&quot;image_id&quot;: &quot;id4&quot;, &quot;label&quot;: &quot;apple&quot;},
    ]
)
filter_values = &quot;, &quot;.join([f&quot;&#39;{key}&#39;&quot; for key in partial_column[&quot;image_id&quot;].to_pylist()])
rows = dataset.to_table(filter=f&quot;image_id IN ({filter_values})&quot;)
rows = rows.drop([&quot;label&quot;])

rows = rows.join(partial_column, &quot;image_id&quot;)
dataset.merge_insert(on=&quot;image_id&quot;)\
    .when_matched_update_all()\
    .execute(rows)</code>
If I don&#39;t read and update rows like this, I get a schema-mismatch error. Is there a better way to incrementally write <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">label</code>? Thanks!

In the next few weeks, I expect this dataset to eventually have 50+ columns, so it would be very useful to avoid reading all columns when performing merge_insert and also scan over 1 billion rows to read a record batch for adding the partial column.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1268587501233246208 class=chatlog__message-container data-message-id=1268587501233246208><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/166547942658932736/435b5fa99a050b22758ceae9bb5ae5a9.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=0xevan data-user-id=166547942658932736>0xEvan</span> <span class=chatlog__timestamp title="Thursday, August 1, 2024 11:13‚ÄØAM"><a href=#chatlog__message-container-1268587501233246208>8/1/2024 11:13‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-python">import asyncio
import os
import polars as pl
import lancedb

# Set environment variables to enable the new features
os.environ[&#39;LANCE_USE_FSST&#39;] = &#39;1&#39;
os.environ[&#39;LANCE_USE_BITPACKING&#39;] = &#39;1&#39;

# Check that lancedb folder exists. If not, create it
if not os.path.exists(&#39;data&#39;):
    os.makedirs(&#39;data&#39;)


async def main():
    df = pl.read_parquet(&#39;data/transactions.parquet&#39;)

    with await lancedb.connect_async(&quot;data&quot;) as conn:
        await conn.create_table(name=&quot;transactions_v1&quot;, data=df, use_legacy_format=True)
        await conn.create_table(name=&quot;transactions_v2&quot;, data=df, use_legacy_format=False)

# Run the async main function
asyncio.run(main())</code>

This is my setup now</span></div></div></div></div><div id=chatlog__message-container-1268587579909996574 class=chatlog__message-container data-message-id=1268587579909996574><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, August 1, 2024 11:14‚ÄØAM">11:14‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>getting this error when trying to write v2</span></div></div></div></div><div id=chatlog__message-container-1268587587866460180 class=chatlog__message-container data-message-id=1268587587866460180><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, August 1, 2024 11:14‚ÄØAM">11:14‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">hypersync-lancev2evan@pop-os:~/Documents/hypersync_lancev2$ python write_lance.py
thread &#39;tokio-runtime-worker&#39; panicked at /root/.cargo/registry/src/index.crates.io-6f17d22bba15001f/lance-encoding-0.15.0/src/encodings/physical/bitpack.rs:161:13:
index out of bounds: the len is 34689 but the index is 34689
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
thread &#39;tokio-runtime-worker&#39; panicked at /root/.cargo/registry/src/index.crates.io-6f17d22bba15001f/lance-encoding-0.15.0/src/encodings/logical/primitive.rs:421:32:
called `Result::unwrap()` on an `Err` value: JoinError::Panic(Id(2158), ...)
Traceback (most recent call last):
  File &quot;/home/evan/Documents/hypersync_lancev2/write_lance.py&quot;, line 23, in &lt;module&gt;
    asyncio.run(main())
  File &quot;/home/evan/.rye/py/cpython@3.12.2/install/lib/python3.12/asyncio/runners.py&quot;, line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File &quot;/home/evan/.rye/py/cpython@3.12.2/install/lib/python3.12/asyncio/runners.py&quot;, line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/home/evan/.rye/py/cpython@3.12.2/install/lib/python3.12/asyncio/base_events.py&quot;, line 685, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File &quot;/home/evan/Documents/hypersync_lancev2/write_lance.py&quot;, line 20, in main
    await conn.create_table(name=&quot;transactions_v2&quot;, data=df, use_legacy_format=False)
  File &quot;/home/evan/Documents/hypersync_lancev2/.venv/lib/python3.12/site-packages/lancedb/db.py&quot;, line 778, in create_table
    new_table = await self._inner.create_table(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pyo3_asyncio.RustPanic: rust future panicked: unknown error</code></span></div></div></div></div><div id=chatlog__message-container-1268587634348003342 class=chatlog__message-container data-message-id=1268587634348003342><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Thursday, August 1, 2024 11:14‚ÄØAM">11:14‚ÄØAM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">index out of bounds: the len is 34689 but the index is 34689</code> Kind of an odd error to see</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1268599682792292372 class=chatlog__message-container data-message-id=1268599682792292372><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/166547942658932736/435b5fa99a050b22758ceae9bb5ae5a9.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=0xevan>0xEvan</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1268587587866460180')"> <code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">hypersync-lancev2evan@pop-os:~/Documents/hypersync_lancev2$ python write_lance.py
thread &#39;tokio-runtime-worker&#39; panicked at /root/.cargo/registry/src/index.crates.io-6f17d22bba15001f/lance-encoding-0.15.0/src/encodings/physical/bitpack.rs:161:13:
index out of bounds: the len is 34689 but the index is 34689
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
thread &#39;tokio-runtime-worker&#39; panicked at /root/.cargo/registry/src/index.crates.io-6f17d22bba15001f/lance-encoding-0.15.0/src/encodings/logical/primitive.rs:421:32:
called `Result::unwrap()` on an `Err` value: JoinError::Panic(Id(2158), ...)
Traceback (most recent call last):
  File &quot;/home/evan/Documents/hypersync_lancev2/write_lance.py&quot;, line 23, in &lt;module&gt;
    asyncio.run(main())
  File &quot;/home/evan/.rye/py/cpython@3.12.2/install/lib/python3.12/asyncio/runners.py&quot;, line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File &quot;/home/evan/.rye/py/cpython@3.12.2/install/lib/python3.12/asyncio/runners.py&quot;, line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/home/evan/.rye/py/cpython@3.12.2/install/lib/python3.12/asyncio/base_events.py&quot;, line 685, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File &quot;/home/evan/Documents/hypersync_lancev2/write_lance.py&quot;, line 20, in main
    await conn.create_table(name=&quot;transactions_v2&quot;, data=df, use_legacy_format=False)
  File &quot;/home/evan/Documents/hypersync_lancev2/.venv/lib/python3.12/site-packages/lancedb/db.py&quot;, line 778, in create_table
    new_table = await self._inner.create_table(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pyo3_asyncio.RustPanic: rust future panicked: unknown error</code> </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span class=chatlog__timestamp title="Thursday, August 1, 2024 12:02‚ÄØPM"><a href=#chatlog__message-container-1268599682792292372>8/1/2024 12:02‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hmm this looks like a bug in bitpacking encoding. Could you make an issue on GitHub?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1268600683746168913 class=chatlog__message-container data-message-id=1268600683746168913><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/166547942658932736/435b5fa99a050b22758ceae9bb5ae5a9.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1107704233685434519/57e5fc331623dc34a8cf262d060dea71.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=wjones127>Will Jones</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1268599682792292372')"> Hmm this looks like a bug in bitpacking encoding. Could you make an issue on GitHub? </span></div></div><div class=chatlog__header><span class=chatlog__author title=0xevan data-user-id=166547942658932736>0xEvan</span> <span class=chatlog__timestamp title="Thursday, August 1, 2024 12:06‚ÄØPM"><a href=#chatlog__message-container-1268600683746168913>8/1/2024 12:06‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://github.com/lancedb/lancedb/issues/1490">https://github.com/lancedb/lancedb/issues/1490</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/issues/1490><div class="chatlog__markdown chatlog__markdown-preserve">bug(python): bitpacking index is out of bounds &#183; Issue #1490 &#183; lanc...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">LanceDB version v0.7.14 What happened? I made a standard dataframe without any exotic data types and tried to make a lance v2 table but got an index out of bounds error. Here is my python code: imp...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/yAvn86dEq7jdv_tSqbwW5Ow3Kg6E-fFEzzmpXP1woqw/https/opengraph.githubassets.com/a29350d9e7efd4d954000d6b84b962b92482aef9740c78253a0e9215ee991257/lancedb/lancedb/issues/1490> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/yAvn86dEq7jdv_tSqbwW5Ow3Kg6E-fFEzzmpXP1woqw/https/opengraph.githubassets.com/a29350d9e7efd4d954000d6b84b962b92482aef9740c78253a0e9215ee991257/lancedb/lancedb/issues/1490 alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1268601404956606710 class=chatlog__message-container data-message-id=1268601404956606710><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, August 1, 2024 12:09‚ÄØPM"> <a href=#chatlog__message-container-1268601404956606710>8/1/2024 12:09‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1278467501931499633 class=chatlog__message-container data-message-id=1278467501931499633><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/438505256486174721/aee6bf18779b17d5081e97a5bcc30247.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/686127960440438795/a_93a9f73483fed52a295164c3b03fac99.gif?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=isidentical>isidentical</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1264781431960506408')"> I&#39;d love to have an performant API for clustering &amp; deduplication. E.g. find all the entries with a similarity &gt;=0.99 to any other entry. something along the lines <a href="https://github.com/facebookresearch/faiss">https://github.com/facebookresearch/faiss</a> used natively for embeddings indexed in lancedb </span></div></div><div class=chatlog__header><span class=chatlog__author title=zdalih data-user-id=438505256486174721>zdalih</span> <span class=chatlog__timestamp title="Wednesday, August 28, 2024 5:33‚ÄØPM"><a href=#chatlog__message-container-1278467501931499633>8/28/2024 5:33‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>+1 on find all the entries with a similarity &gt;=0.99</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=100><img class="chatlog__emoji chatlog__emoji--small" alt=üíØ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f4af.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1280194337493487789 class=chatlog__message-container data-message-id=1280194337493487789><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/431539523151986697/b73b47f91fe76a154b7d392b68199926.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=aiynd data-user-id=431539523151986697>Aiynd</span> <span class=chatlog__timestamp title="Monday, September 2, 2024 11:55‚ÄØAM"><a href=#chatlog__message-container-1280194337493487789>9/2/2024 11:55‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>When you call <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table.delete()</code>, it would be great if it would return the number of rows deleted in order to compare against expectations.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1280543130202148959 class=chatlog__message-container data-message-id=1280543130202148959><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, September 3, 2024 11:01‚ÄØAM"> <a href=#chatlog__message-container-1280543130202148959>9/3/2024 11:01‚ÄØAM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1280563716387111035 class=chatlog__message-container data-message-id=1280563716387111035><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=.danteoz data-user-id=736218110646026281>DanteOz</span> <span class=chatlog__timestamp title="Tuesday, September 3, 2024 12:23‚ÄØPM"><a href=#chatlog__message-container-1280563716387111035>9/3/2024 12:23‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Can be this used to eliminate the need for dynamodb for concurrent writes on S3?
<a href="https://aws.amazon.com/about-aws/whats-new/2024/08/amazon-s3-conditional-writes/">https://aws.amazon.com/about-aws/whats-new/2024/08/amazon-s3-conditional-writes/</a></span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href="https://aws.amazon.com/about-aws/whats-new/2024/08/amazon-s3-conditional-writes/"><div class="chatlog__markdown chatlog__markdown-preserve">Amazon S3 now supports conditional writes - AWS</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Discover more about what&#39;s new at AWS with Amazon S3 now supports conditional writes</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/wZ9KN70oI0yNQgaLvZnp3zHOPcwHkR-fSexRYR_mQIw/https/a0.awsstatic.com/libra-css/images/logos/aws_logo_smile_1200x630.png> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/wZ9KN70oI0yNQgaLvZnp3zHOPcwHkR-fSexRYR_mQIw/https/a0.awsstatic.com/libra-css/images/logos/aws_logo_smile_1200x630.png alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1280588600206954511 class=chatlog__message-container data-message-id=1280588600206954511><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, September 3, 2024 2:01‚ÄØPM"> <a href=#chatlog__message-container-1280588600206954511>9/3/2024 2:01‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1282391017269624892 class=chatlog__message-container data-message-id=1282391017269624892><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/526965020031188994/db2edc1f2ec1dda77fb7301cf7874ac4.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=nicarq data-user-id=526965020031188994>nicarq</span> <span class=chatlog__timestamp title="Sunday, September 8, 2024 1:24‚ÄØPM"><a href=#chatlog__message-container-1282391017269624892>9/8/2024 1:24‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi! any chance that you folks could upload the beta releases to Rust crates as well? <a href="https://crates.io/crates/lancedb/versions">https://crates.io/crates/lancedb/versions</a></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1282716914363138127 class=chatlog__message-container data-message-id=1282716914363138127><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, September 9, 2024 10:59‚ÄØAM"> <a href=#chatlog__message-container-1282716914363138127>9/9/2024 10:59‚ÄØAM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1284078543315275837 class=chatlog__message-container data-message-id=1284078543315275837><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/263944037818564608/9b23ce139d049cd3f45a5c856eaa521c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=timon8543 data-user-id=263944037818564608>timonv</span> <span class=chatlog__timestamp title="Friday, September 13, 2024 5:09‚ÄØAM"><a href=#chatlog__message-container-1284078543315275837>9/13/2024 5:09‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey there, I just started on adding hybrid search to Swiftide, expecting full_text_search to work with similarity search, but it turns out that it doesn&#39;t. Is there a plan to implement hybrid like in the python libraries, or should I go for a different approach?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1284081126843088957 class=chatlog__message-container data-message-id=1284081126843088957><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1032079688887189556/9d9cd1c2872874160d9f8e2f6dd766a5.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/263944037818564608/9b23ce139d049cd3f45a5c856eaa521c.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=timon8543>timonv</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1284078543315275837')"> Hey there, I just started on adding hybrid search to Swiftide, expecting full_text_search to work with similarity search, but it turns out that it doesn&#39;t. Is there a plan to implement hybrid like in the python libraries, or should I go for a different approach? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=ayushexel data-user-id=1032079688887189556>AyushC</span> <span class=chatlog__timestamp title="Friday, September 13, 2024 5:19‚ÄØAM"><a href=#chatlog__message-container-1284081126843088957>9/13/2024 5:19‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi there. right now hybrid search is only available in Python. We have received several requests for supporting it in ts/rust and plan to do so in the near future but there&#39;s no timeline yet. Tentatively, I think I&#39;ll have more concrete timelines by mid-next month.
cc <span class="chatlog__markdown-mention" title="tetzebom">@tetzebom</span> <span class="chatlog__markdown-mention" title="ponchik3558">@Swan</span></span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>3</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1284090403955413012 class=chatlog__message-container data-message-id=1284090403955413012><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/263944037818564608/9b23ce139d049cd3f45a5c856eaa521c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1032079688887189556/9d9cd1c2872874160d9f8e2f6dd766a5.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=ayushexel>AyushC</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1284081126843088957')"> Hi there. right now hybrid search is only available in Python. We have received several requests for supporting it in ts/rust and plan to do so in the near future but there&#39;s no timeline yet. Tentatively, I think I&#39;ll have more concrete timelines by mid-next month.
cc <span class="chatlog__markdown-mention" title="tetzebom">@tetzebom</span> <span class="chatlog__markdown-mention" title="ponchik3558">@Swan</span> </span></div></div><div class=chatlog__header><span class=chatlog__author title=timon8543 data-user-id=263944037818564608>timonv</span> <span class=chatlog__timestamp title="Friday, September 13, 2024 5:56‚ÄØAM"><a href=#chatlog__message-container-1284090403955413012>9/13/2024 5:56‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Thank you for the update! If our community needs it badly, I might just do a double search / rerank instead, but so far I haven&#39;t had the feedback yet.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup_tone1><img class="chatlog__emoji chatlog__emoji--small" alt=üëçüèª src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d-1f3fb.svg loading=lazy> <span class=chatlog__reaction-count>2</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1301562626354053140 class=chatlog__message-container data-message-id=1301562626354053140><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/220891032349310978/f25a2c898e2aa06256d45c49a9153cec.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=therobotcarlson data-user-id=220891032349310978>therobotcarlson</span> <span class=chatlog__timestamp title="Thursday, October 31, 2024 11:05‚ÄØAM"><a href=#chatlog__message-container-1301562626354053140>10/31/2024 11:05‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is there any timeline on multi-vector support? Our use case has a lot of metadata per document and we want to not have to store document-level metadata per searchable chunk.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1301664741118316637 class=chatlog__message-container data-message-id=1301664741118316637><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, October 31, 2024 5:50‚ÄØPM"> <a href=#chatlog__message-container-1301664741118316637>10/31/2024 5:50‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1303200943353106462 class=chatlog__message-container data-message-id=1303200943353106462><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/5.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=dr.steven7991 data-user-id=845574169382879244>Dr.Steven</span> <span class=chatlog__timestamp title="Monday, November 4, 2024 10:35‚ÄØPM"><a href=#chatlog__message-container-1303200943353106462>11/4/2024 10:35‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi Gays,  I PR <a href="https://github.com/lancedb/lancedb/pull/1788">https://github.com/lancedb/lancedb/pull/1788</a> , add bedrock embedding function to rust sdk . Could someone help review my PR?</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/pull/1788><div class="chatlog__markdown chatlog__markdown-preserve">feat: add new feature, add amazon bedrock embedding function by ste...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Add amazon bedrock embedding function to rust sdk.

Add BedrockEmbeddingModel ( lancedb/src/embeddings/bedrock.rs)
Add example lancedb/examples/bedrock.rs</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/e9QrNwTb_UhFR1isjYPVrWFEl43o8QVUu-fbq72ZNIQ/https/opengraph.githubassets.com/290bc4cce8773fb1d08d40734fac5f50d8ed0d041571c75ac6c9404fb9306057/lancedb/lancedb/pull/1788> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/e9QrNwTb_UhFR1isjYPVrWFEl43o8QVUu-fbq72ZNIQ/https/opengraph.githubassets.com/290bc4cce8773fb1d08d40734fac5f50d8ed0d041571c75ac6c9404fb9306057/lancedb/lancedb/pull/1788 alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>2</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1308497615931048099 class=chatlog__message-container data-message-id=1308497615931048099><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=max_mpc_85836 data-user-id=1301572016809447537>Max</span> <span class=chatlog__timestamp title="Tuesday, November 19, 2024 1:22‚ÄØPM"><a href=#chatlog__message-container-1308497615931048099>11/19/2024 1:22‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi team!

Still loving lancedb. one thing I just noticed that would be nice to have would be a &#39;preview&#39; tab in the lancedb cloud dashboard, for seeing e.g. values for the first few records of each column. thanks again!</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=heart><img class="chatlog__emoji chatlog__emoji--small" alt=‚ù§Ô∏è src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/2764.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1308515944406188103 class=chatlog__message-container data-message-id=1308515944406188103><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=max_mpc_85836>Max</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1308497615931048099')"> Hi team!

Still loving lancedb. one thing I just noticed that would be nice to have would be a &#39;preview&#39; tab in the lancedb cloud dashboard, for seeing e.g. values for the first few records of each column. thanks again! </span></div></div><div class=chatlog__header><span class=chatlog__author title=qian_00349 data-user-id=1139637723725041674>Qian</span> <span class=chatlog__timestamp title="Tuesday, November 19, 2024 2:35‚ÄØPM"><a href=#chatlog__message-container-1308515944406188103>11/19/2024 2:35‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Thanks <span class="chatlog__markdown-mention" title="max_mpc_85836">@Max</span> ! We do have this feature on our roadmap. Will keep you posted</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1311983480799760386 class=chatlog__message-container data-message-id=1311983480799760386><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=andrijazz data-user-id=786295637913108480>andrijazz</span> <span class=chatlog__timestamp title="Friday, November 29, 2024 4:13‚ÄØAM"><a href=#chatlog__message-container-1311983480799760386>11/29/2024 4:13‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi everyone, I looking for ways to search for substring within the list elements:

uri = &quot;data/sample-lancedb&quot;
db = lancedb.connect(uri)
table = db.create_table(&quot;my_table&quot;, data=[{&quot;caption&quot;: [&#39;abcd&#39;, &#39;efgKKK&#39;, &#39;hijk&#39;], &quot;item&quot;: &quot;foo&quot;, &quot;price&quot;: 10.0}{&quot;caption&quot;: [&#39;abcd&#39;, &#39;efg&#39;, &#39;hijk&#39;], &quot;item&quot;: &quot;bar&quot;, &quot;price&quot;: 20.0}])

I would like to return all rows containing &#39;KKK&#39; substring in elements of caption list.

Can anyone help?</span> <span class=chatlog__edited-timestamp title="Friday, November 29, 2024 7:29‚ÄØAM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1313185531278135331 class=chatlog__message-container data-message-id=1313185531278135331><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, December 2, 2024 11:50‚ÄØAM"> <a href=#chatlog__message-container-1313185531278135331>12/2/2024 11:50‚ÄØAM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1317709078562082837 class=chatlog__message-container data-message-id=1317709078562082837><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/928409281290707086/53b1bc7e78f239b13c5b630f066bd669.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/1032079688887189556/9d9cd1c2872874160d9f8e2f6dd766a5.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=ayushexel>AyushC</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1284081126843088957')"> Hi there. right now hybrid search is only available in Python. We have received several requests for supporting it in ts/rust and plan to do so in the near future but there&#39;s no timeline yet. Tentatively, I think I&#39;ll have more concrete timelines by mid-next month.
cc <span class="chatlog__markdown-mention" title="tetzebom">@tetzebom</span> <span class="chatlog__markdown-mention" title="ponchik3558">@Swan</span> </span></div></div><div class=chatlog__header><span class=chatlog__author title=joshdickson data-user-id=928409281290707086>Josh</span> <span class=chatlog__timestamp title="Saturday, December 14, 2024 11:25‚ÄØPM"><a href=#chatlog__message-container-1317709078562082837>12/14/2024 11:25‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Any timeline update on this? Was also working on building out an integration and realized some of the options are missing in the TS types. If not soon, might be helpful to include a limitations section of the TS docs so folks know before getting too far.</span></div></div></div></div><div id=chatlog__message-container-1317709199836450847 class=chatlog__message-container data-message-id=1317709199836450847><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Saturday, December 14, 2024 11:25‚ÄØPM">11:25‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>This is a great project and I&#39;m excited to work with it!</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=pray><img class="chatlog__emoji chatlog__emoji--small" alt=üôè src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1318038948160999505 class=chatlog__message-container data-message-id=1318038948160999505><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Sunday, December 15, 2024 9:16‚ÄØPM"> <a href=#chatlog__message-container-1318038948160999505>12/15/2024 9:16‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1323407856992784497 class=chatlog__message-container data-message-id=1323407856992784497><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=andrijazz data-user-id=786295637913108480>andrijazz</span> <span class=chatlog__timestamp title="Monday, December 30, 2024 4:50‚ÄØPM"><a href=#chatlog__message-container-1323407856992784497>12/30/2024 4:50‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hey everyone, is it possible to use lance with torch.Dataset object just like in this example: <a href="https://lancedb.github.io/lance/examples/clip_training.html">https://lancedb.github.io/lance/examples/clip_training.html</a>
but additionally, apply filtering?
I am aware of <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lance.torch.data.LanceDataset</code> but I have run into many problems with <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">torch.IterableDataset</code> and I am waging all the options. Having ability to filter lance db and create dataloader from filtered dataset is mandatory for my use case.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1323463592670007401 class=chatlog__message-container data-message-id=1323463592670007401><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, December 30, 2024 8:31‚ÄØPM"> <a href=#chatlog__message-container-1323463592670007401>12/30/2024 8:31‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1328935801756712961 class=chatlog__message-container data-message-id=1328935801756712961><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=viviantitus13 data-user-id=1225319186872401972>vivian titus</span> <span class=chatlog__timestamp title="Tuesday, January 14, 2025 10:56‚ÄØPM"><a href=#chatlog__message-container-1328935801756712961>1/14/2025 10:56‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="changkhiskhan">@changhiskhan</span> Is there a way to avoid redundancy while retrieving topk proposals like maximal margin relevance. When we are retrieving there are lot of duplicates which need to be avoided</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1329147802210799659 class=chatlog__message-container data-message-id=1329147802210799659><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, January 15, 2025 12:58‚ÄØPM"> <a href=#chatlog__message-container-1329147802210799659>1/15/2025 12:58‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1337330469305319434 class=chatlog__message-container data-message-id=1337330469305319434><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/661167196013199371/9d8bad9255444cf4eddf20c9dd0f1b9a.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=elgreco1337 data-user-id=661167196013199371>Elgreco</span> <span class=chatlog__timestamp title="Friday, February 7, 2025 2:53‚ÄØAM"><a href=#chatlog__message-container-1337330469305319434>2/7/2025 2:53‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi folks, I would like to add Lakefs integration in lance, I&#39;ve recently added this in delta-rs. I think conceptually we can apply the same logic to achieve this in lance using dynamic dispatch. 

It would be quite useful since you can achieve write concurrency through lakefs git abstraction. Without it you won&#39;t have clean commits per lance commit operation.

Let me know if you guys would be willing to accept this?

Ref PR in delta-rs: <a href="https://github.com/delta-io/delta-rs/pull/3103">https://github.com/delta-io/delta-rs/pull/3103</a></span> <span class=chatlog__edited-timestamp title="Friday, February 7, 2025 2:56‚ÄØAM">(edited)</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/delta-io/delta-rs/pull/3103><div class="chatlog__markdown chatlog__markdown-preserve">feat: lakefs integration by ion-elgreco &#183; Pull Request #3103 &#183; delt...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Description
Makes LakeFS first-class citizen in delta-rs. Operations are executed in a transaction branch, where we write into and then try to commit and merge if there is no conflict. If there is ...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/Ajqcf4owxFFW8Lzrq4Yo3oKLsyZu1JRxx2jeTZDc7wg/https/opengraph.githubassets.com/15a77789e0f791bd7c348838b1c176f666654e3991ff53d4946b328138be0ac0/delta-io/delta-rs/pull/3103> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/Ajqcf4owxFFW8Lzrq4Yo3oKLsyZu1JRxx2jeTZDc7wg/https/opengraph.githubassets.com/15a77789e0f791bd7c348838b1c176f666654e3991ff53d4946b328138be0ac0/delta-io/delta-rs/pull/3103 alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=fire><img class="chatlog__emoji chatlog__emoji--small" alt=üî• src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg loading=lazy> <span class=chatlog__reaction-count>3</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1337473001465184270 class=chatlog__message-container data-message-id=1337473001465184270><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, February 7, 2025 12:20‚ÄØPM"> <a href=#chatlog__message-container-1337473001465184270>2/7/2025 12:20‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1340071640217944147 class=chatlog__message-container data-message-id=1340071640217944147><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=rohit_graft_57138 data-user-id=1339749957925867583>Rohit</span> <span class=chatlog__timestamp title="Friday, February 14, 2025 4:26‚ÄØPM"><a href=#chatlog__message-container-1340071640217944147>2/14/2025 4:26‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hey all, had a few questions around ANN indexes and versioning -

It seems possible to have multiple ANN indices on a single column, disambiguated by index name.
e.g. I can create and get information about two different indices via <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lance_dataset.index_statistics(&quot;foo_index&quot; / &quot;bar_index&quot;)</code> , where foo_index and bar_index are both indexes on the same column.

I&#39;d like to be able to specify which one of these indices to use when I call <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">.to_table()</code> , but currently the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">nearest</code> dict (which configures the NN lookup) doesn&#39;t seem to support this (though it supports which column to use).

<strong>1. Is there a way to do this (specify which of multiple indexes to use?)</strong>

Along these lines, I&#39;m also interested in tying ANN indexes to particular versions of the lance dataset.

<strong>2. When I call <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">create_index()</code>, is the resulting index created for the currently checked-out version of the dataset? Or would it be used for lookups on different versions?
Ideally, I&#39;d want ANN indexes to be tied to the corresponding dataset version, so that we have one version number to control both the index and the dataset itself.</strong></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1340079318025502765 class=chatlog__message-container data-message-id=1340079318025502765><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, February 14, 2025 4:56‚ÄØPM"> <a href=#chatlog__message-container-1340079318025502765>2/14/2025 4:56‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1341275293595209811 class=chatlog__message-container data-message-id=1341275293595209811><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/1.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=kevinwmerritt data-user-id=741347330929983518>kevin</span> <span class=chatlog__timestamp title="Tuesday, February 18, 2025 12:09‚ÄØAM"><a href=#chatlog__message-container-1341275293595209811>2/18/2025 12:09‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is creating indexes on nested fields something that might be coming this year? Both scalar and full text?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1341508660186058817 class=chatlog__message-container data-message-id=1341508660186058817><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=lei.xu data-user-id=1001739727197700146>lei</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, February 18, 2025 3:36‚ÄØPM"> <a href=#chatlog__message-container-1341508660186058817>2/18/2025 3:36‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1346072426651451393 class=chatlog__message-container data-message-id=1346072426651451393><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/957611986835898441/56dee24fe69ee95244d17518e6500499.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=sneakyf1shy data-user-id=957611986835898441>sneakyf1shy</span> <span class=chatlog__timestamp title="Monday, March 3, 2025 5:51‚ÄØAM"><a href=#chatlog__message-container-1346072426651451393>3/3/2025 5:51‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I wanted to ask if it was possible to:
<ul><li>Have many namespaces (similiar to other vector DBs) to isolate user content (would this happen in one DB, or could I just have a bunch of mini DBs instead?)</li><li>Assuming i‚Äôm using S3 as my main storage backend, is it possible to have say an EC2 instance as a fetcher API with disk cache. Say if I use a HSNW, the VM could cache the index and possibly certain namespaces / DBs to reduce P50 latency while most requests in P95 may still require S3 requests - essentially looking for a turbopuffer like alternative</li></ul></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1346203668562841645 class=chatlog__message-container data-message-id=1346203668562841645><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, March 3, 2025 2:32‚ÄØPM"> <a href=#chatlog__message-container-1346203668562841645>3/3/2025 2:32‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1351124269161250937 class=chatlog__message-container data-message-id=1351124269161250937><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/661167196013199371/9d8bad9255444cf4eddf20c9dd0f1b9a.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=elgreco1337 data-user-id=661167196013199371>Elgreco</span> <span class=chatlog__timestamp title="Monday, March 17, 2025 5:25‚ÄØAM"><a href=#chatlog__message-container-1351124269161250937>3/17/2025 5:25‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><span class="chatlog__markdown-mention" title="wjones127">@Will Jones</span> <span class="chatlog__markdown-mention" title="wpace">@WestonPace</span> hi gents, datafusion 46 out which includes a fix for: <a href="https://github.com/apache/datafusion/issues/10073">https://github.com/apache/datafusion/issues/10073</a> so the spill bypass wouldn&#39;t be needed anymore: <a href="https://github.com/lancedb/lance/issues/2119#issuecomment-2136414811">https://github.com/lancedb/lance/issues/2119#issuecomment-2136414811</a>

Do you have plans to bump this soon?</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/apache/datafusion/issues/10073><div class="chatlog__markdown chatlog__markdown-preserve">Memory account not adding up in SortExec &#183; Issue #10073 &#183; apache/da...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Describe the bug This is related / tangential to #9359 My primary problem is that I am trying to sort 100 million strings and always getting errors like: Resources exhausted: Failed to allocate add...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/cOk6vLoWPqV637CMpFlYGQDNVVymVDrSL_03dEPZFn4/https/opengraph.githubassets.com/e13f7103cc406811b2cf341c3e95191bca1266038e528e5616d07e7a6bebc80a/apache/datafusion/issues/10073> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/cOk6vLoWPqV637CMpFlYGQDNVVymVDrSL_03dEPZFn4/https/opengraph.githubassets.com/e13f7103cc406811b2cf341c3e95191bca1266038e528e5616d07e7a6bebc80a/apache/datafusion/issues/10073 alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance/issues/2119><div class="chatlog__markdown chatlog__markdown-preserve">Expose spill configuration to users &#183; Issue #2119 &#183; lancedb/lance</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">You can configure the memory limit for spilling when making vector indices (#1702) but not for scalar indices (#2043). We should make them both configurable from the same place.</div></div></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=fire><img class="chatlog__emoji chatlog__emoji--small" alt=üî• src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div><div class=chatlog__reaction title=tada><img class="chatlog__emoji chatlog__emoji--small" alt=üéâ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f389.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1351241411214966904 class=chatlog__message-container data-message-id=1351241411214966904><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, March 17, 2025 1:10‚ÄØPM"> <a href=#chatlog__message-container-1351241411214966904>3/17/2025 1:10‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1356792368514338940 class=chatlog__message-container data-message-id=1356792368514338940><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=ozb7067 data-user-id=1252344492762206249>Oz</span> <span class=chatlog__timestamp title="Tuesday, April 1, 2025 8:48‚ÄØPM"><a href=#chatlog__message-container-1356792368514338940>4/1/2025 8:48‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello! When running <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">table.delete(&quot;false&quot;)</code>, or some equivalent that ends up being a no-op, lancedb generates a transaction/new version. This can cause tables to blow up if idempotent delete requests are run a lot. This can be worked around by first doing a count, but of course that&#39;s not atomic, and generally a bit uglier. Any chance we could avoid a new transaction/version for these?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1357011039937626306 class=chatlog__message-container data-message-id=1357011039937626306><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, April 2, 2025 11:17‚ÄØAM"> <a href=#chatlog__message-container-1357011039937626306>4/2/2025 11:17‚ÄØAM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1360227121737240602 class=chatlog__message-container data-message-id=1360227121737240602><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1008493627930050650/9952e4d696f2b358c9bb1155b3b50956.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=dsgibbons data-user-id=1008493627930050650>dsgibbons</span> <span class=chatlog__timestamp title="Friday, April 11, 2025 8:16‚ÄØAM"><a href=#chatlog__message-container-1360227121737240602>4/11/2025 8:16‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Have there been any thoughts about implementing a Polars IO plugin to enable <a href="https://github.com/pola-rs/polars/issues/12389">https://github.com/pola-rs/polars/issues/12389</a> and <a href="https://github.com/pola-rs/polars/issues/14452">https://github.com/pola-rs/polars/issues/14452</a> ?</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/pola-rs/polars/issues/12389><div class="chatlog__markdown chatlog__markdown-preserve">Polars for vector search (via Lance integration) ?  &#183; Issue #12389...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Description Lance supports vector index and is Arrow compatible. Currently it is integrated with polars via the pyarrow dataset reader interface. This works for basic reading and writing, but it co...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/r6OXNVLm1tV9jqfGG-ALCz2BAORR0oGS4H4TRoWlGwk/https/opengraph.githubassets.com/64ee44fe417422b2350104d525664add90557eb51dd3bb818556be2d9ea4631c/pola-rs/polars/issues/12389> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/r6OXNVLm1tV9jqfGG-ALCz2BAORR0oGS4H4TRoWlGwk/https/opengraph.githubassets.com/64ee44fe417422b2350104d525664add90557eb51dd3bb818556be2d9ea4631c/pola-rs/polars/issues/12389 alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/pola-rs/polars/issues/14452><div class="chatlog__markdown chatlog__markdown-preserve">Add lance as a supported data format to read/write &#183; Issue #14452 ...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Description Lance is emerging as a very powerful data format for tabular data and machine learning. It should be possible to integrate it to polars to better leverage the predicate pushdown capabil...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/3r5LOcEWzJJLtMdIuvgwIQ3Nqf1R3XLBLf5Lah9wwPc/https/opengraph.githubassets.com/c59d699a67a525ffa00a342ec2233d0fdedbccb52500b7819b2c7d4f8c4c5f54/pola-rs/polars/issues/14452> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/3r5LOcEWzJJLtMdIuvgwIQ3Nqf1R3XLBLf5Lah9wwPc/https/opengraph.githubassets.com/c59d699a67a525ffa00a342ec2233d0fdedbccb52500b7819b2c7d4f8c4c5f54/pola-rs/polars/issues/14452 alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=fire><img class="chatlog__emoji chatlog__emoji--small" alt=üî• src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg loading=lazy> <span class=chatlog__reaction-count>2</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1360231292519583878 class=chatlog__message-container data-message-id=1360231292519583878><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, April 11, 2025 8:33‚ÄØAM"> <a href=#chatlog__message-container-1360231292519583878>4/11/2025 8:33‚ÄØAM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1361342212876537938 class=chatlog__message-container data-message-id=1361342212876537938><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/0.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=pepeve_83973 data-user-id=1344761648425992242>Pepeve</span> <span class=chatlog__timestamp title="Monday, April 14, 2025 10:07‚ÄØAM"><a href=#chatlog__message-container-1361342212876537938>4/14/2025 10:07‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello everyone, I saw an open PR on github that adds ColPali support to LanceDB (feat: add ColPali embedding support with MultiVector type #2170). I am quite excited to see expanded multi-vector support in LanceDB and was wondering if there is a timeline for when this new feature will be introduced?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1361388338950570038 class=chatlog__message-container data-message-id=1361388338950570038><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=qian_00349 data-user-id=1139637723725041674>Qian</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, April 14, 2025 1:11‚ÄØPM"> <a href=#chatlog__message-container-1361388338950570038>4/14/2025 1:11‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1363750895279411231 class=chatlog__message-container data-message-id=1363750895279411231><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1083258989309071410/093e58799330879c78ed7ff84bce3c6f.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=peiyuan007 data-user-id=1083258989309071410>Perry (Peiyuan) Zhang</span> <span class=chatlog__timestamp title="Monday, April 21, 2025 1:39‚ÄØAM"><a href=#chatlog__message-container-1363750895279411231>4/21/2025 1:39‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://lancedb.github.io/lance/integrations/pytorch.html">https://lancedb.github.io/lance/integrations/pytorch.html</a>

Hi guys, I‚Äôm looking for the easiest way to add dataset state tracking on top of this tutorial, so that I can resume the dataset state when restarting a training job. Is there any pointers?</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1363862818855583839 class=chatlog__message-container data-message-id=1363862818855583839><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, April 21, 2025 9:03‚ÄØAM"> <a href=#chatlog__message-container-1363862818855583839>4/21/2025 9:03‚ÄØAM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1363913060678369330 class=chatlog__message-container data-message-id=1363913060678369330><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/563570148657725454/28a9ae152a738e2148beadcee67745d1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jdnuva data-user-id=563570148657725454>jd</span> <span class=chatlog__timestamp title="Monday, April 21, 2025 12:23‚ÄØPM"><a href=#chatlog__message-container-1363913060678369330>4/21/2025 12:23‚ÄØPM</a></span></div></div></div></div><div id=chatlog__message-container-1363913124691972148 class=chatlog__message-container data-message-id=1363913124691972148><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Monday, April 21, 2025 12:23‚ÄØPM">12:23‚ÄØPM</div></div><div class=chatlog__message-primary></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1363917075873267740 class=chatlog__message-container data-message-id=1363917075873267740><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/563570148657725454/28a9ae152a738e2148beadcee67745d1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jdnuva data-user-id=563570148657725454>jd</span> <span class=chatlog__timestamp title="Monday, April 21, 2025 12:39‚ÄØPM"><a href=#chatlog__message-container-1363917075873267740>4/21/2025 12:39‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><img
    loading="lazy"
    class="chatlog__emoji "
    alt="ü§£"
    title="rofl"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f923.svg">  it&#39;s getting tempting to tag ppl but we have a somewhat urgent question to ask about training fault tolerance semantics above</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1371890514109923590 class=chatlog__message-container data-message-id=1371890514109923590><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=bright_gull_58205 data-user-id=1311128041346433135>Zhe</span> <span class=chatlog__timestamp title="Tuesday, May 13, 2025 12:43‚ÄØPM"><a href=#chatlog__message-container-1371890514109923590>5/13/2025 12:43‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://lancedb.github.io/lancedb/guides/storage/#dynamodb-commit-store-for-concurrent-writes">https://lancedb.github.io/lancedb/guides/storage/#dynamodb-commit-store-for-concurrent-writes</a> If I&#39;m using an S3 compatible store (where DynamoDB is not available), what are the best options to have concurrent writes? <img
    loading="lazy"
    class="chatlog__emoji "
    alt="üôÇ"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg"></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1371899845333483638 class=chatlog__message-container data-message-id=1371899845333483638><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, May 13, 2025 1:20‚ÄØPM"> <a href=#chatlog__message-container-1371899845333483638>5/13/2025 1:20‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1376263086167691314 class=chatlog__message-container data-message-id=1376263086167691314><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=dmitrii_shepelev data-user-id=1375857359045529610>dmitrii_shepelev</span> <span class=chatlog__timestamp title="Sunday, May 25, 2025 2:18‚ÄØPM"><a href=#chatlog__message-container-1376263086167691314>5/25/2025 2:18‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hello guys, sorry, may be it&#39;s not corresponding channel but I didn&#39;t find better place to ask.
Is it possible to do batch updates by existing schemas inside lance dataset?
I use ray and handle each fragment separately in parallel (create a new fragment with required column values) but on the head node I need to do overwrite operation with new_fragments.
For instance, I defined table schema and partially inserted data. Then I created a couple long-running jobs which will calculated other columns for that data.
Do you have more preferable and optimized way to do batch updates?</span> <span class=chatlog__edited-timestamp title="Sunday, May 25, 2025 2:18‚ÄØPM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1377004256170606712 class=chatlog__message-container data-message-id=1377004256170606712><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/714506948132864011/5355113b237b5af897f03717b54d18e4.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/4.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=dmitrii_shepelev>dmitrii_shepelev</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1376263086167691314')"> Hello guys, sorry, may be it&#39;s not corresponding channel but I didn&#39;t find better place to ask.
Is it possible to do batch updates by existing schemas inside lance dataset?
I use ray and handle each fragment separately in parallel (create a new fragment with required column values) but on the head node I need to do overwrite operation with new_fragments.
For instance, I defined table schema and partially inserted data. Then I created a couple long-running jobs which will calculated other columns for that data.
Do you have more preferable and optimized way to do batch updates? </span> <span class=chatlog__reply-edited-timestamp title="Sunday, May 25, 2025 2:18‚ÄØPM">(edited)</span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=jhsieh data-user-id=714506948132864011>jmhsieh</span> <span class=chatlog__timestamp title="Tuesday, May 27, 2025 3:23‚ÄØPM"><a href=#chatlog__message-container-1377004256170606712>5/27/2025 3:23‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>You can do something like this 

   pending_fragments: list[tuple[int, lance.fragment.DataFile]] = []

    dst_read_version = ds.version

    def _do_commit(commit_granularity: int) -&gt; None:
        nonlocal pending_fragments, dst_read_version

        if len(pending_fragments) &gt;= commit_granularity:
            operation = lance.LanceOperation.DataReplacement(
                replacements=[
                    lance.LanceOperation.DataReplacementGroup(
                        fragment_id=frag_id,
                        new_file=new_file,
                    )
                    for frag_id, new_file in pending_fragments
                ]
            )

            lance.LanceDataset.commit(ds.uri, operation, read_version=dst_read_version)
            dst_read_version += 1
            pending_fragments = []</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1378068243125895258 class=chatlog__message-container data-message-id=1378068243125895258><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/173506311651196928/23fdf8ea6da85ec56d4ff4d0aaebac32.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=antblo data-user-id=173506311651196928>AntBlo</span> <span class=chatlog__timestamp title="Friday, May 30, 2025 1:51‚ÄØPM"><a href=#chatlog__message-container-1378068243125895258>5/30/2025 1:51‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi! Just curious if this feature exist. I see that I can do a merge_insert here:
<a href="https://lancedb.github.io/lancedb/guides/tables/#upserting-into-a-table">https://lancedb.github.io/lancedb/guides/tables/#upserting-into-a-table</a>

But if I understand correctly, I need a full object (as in, I can&#39;t have missing fields) if I just want to update one or two columns but ignore the rest.

Is there a way to do that in a batched fashion? I know I can do it with .update(), but it&#39;d take days instead of minutes to go through each row.

I made the mistake of computing vectors in a separate table, thinking it&#39;d be easier to link it back to a source table. But now I kinda want to combine them. So I want to match/join on a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">hash</code> column and set the vector from source -&gt; target (already added the column in target table).</span> <span class=chatlog__edited-timestamp title="Friday, May 30, 2025 1:53‚ÄØPM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1378090522341539996 class=chatlog__message-container data-message-id=1378090522341539996><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=antblo data-user-id=173506311651196928>AntBlo</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, May 30, 2025 3:19‚ÄØPM"> <a href=#chatlog__message-container-1378090522341539996>5/30/2025 3:19‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1378787078057234554 class=chatlog__message-container data-message-id=1378787078057234554><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/563570148657725454/28a9ae152a738e2148beadcee67745d1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jdnuva data-user-id=563570148657725454>jd</span> <span class=chatlog__timestamp title="Sunday, June 1, 2025 1:27‚ÄØPM"><a href=#chatlog__message-container-1378787078057234554>6/1/2025 1:27‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>hi, what&#39;s the nicest and most lance native way to support resolution aware / bucketized data reading?

Let&#39;s say i have a mix of image/video data that range from resolutions of:

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">(1) 4:3
(2) 3:4
(3) 16:9
(4) 9:16</code>

Now given the buckets are uneven in size, and training batch<em>size=16 for example requires all 16 training examples to be with exactly the same resolution, and we can throw away training examples left that cannot fullfill the required batch size.

Assuming i have full control over how the lance file is written and constructed, that i can provide custom sampler / iterator implementation by subclassing lance too, what&#39;s the best way to proceed with this?

One naive approach seems to be just writing lance files with resolution info as a column and sampler just loads based on different filter applied? Having truely mixed data but also ensure uniform resolution in each batch (that can change from different experiments) is highly preferred so my training process won&#39;t be loading all 4:3 image/video first then proceed to 3:4 next.

Such as:

```python
    def <em>_call</em></em>(self, ds, *, columns, filter, batch_size, batch_readahead, **kw):
        # Get fragments assigned to this rank by the parent class logic
        frags = list(self.iter_fragments(ds))
        log.debug(f&quot;[Sampler Rank {self.rank}] Assigned {len(frags)} fragments.&quot;)

        # Create scanner with the crucial offset parameter
        scanner = ds.scanner(
            columns=columns,  # Columns requested by ltd.LanceDataset
            filter=filter,
            fragments=frags,
            offset=self.global_row_offset,  # Apply the offset here
            batch_size=batch_size,
            batch_readahead=batch_readahead,
            with_row_id=True,  # We MUST request _rowid for tracking/resumption
        )
        log.info(
            f&quot;[Sampler Rank {self.rank}] Creating scanner with offset={self.global_row_offset}, with_row_id=True&quot;
        )
        yield from scanner.to_batches()
```

^ This is my current simple sampler that uses lance scanner, maybe i should just save the list of all supported resolutions in lance first, for each resolution, my lance sampler make a scanner for it, and in case of iteration, we just randomly pick a scanner first, and call to_batches() on it, worst case it doesn&#39;t have enough data to fill the batch_size, and we just move on to the next one? 

Is there a better and more lance native solution for it?</span> <span class=chatlog__edited-timestamp title="Sunday, June 1, 2025 2:12‚ÄØPM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1379081331434192941 class=chatlog__message-container data-message-id=1379081331434192941><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, June 2, 2025 8:56‚ÄØAM"> <a href=#chatlog__message-container-1379081331434192941>6/2/2025 8:56‚ÄØAM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1379584140994940971 class=chatlog__message-container data-message-id=1379584140994940971><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/563570148657725454/28a9ae152a738e2148beadcee67745d1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jdnuva data-user-id=563570148657725454>jd</span> <span class=chatlog__timestamp title="Tuesday, June 3, 2025 6:14‚ÄØPM"><a href=#chatlog__message-container-1379584140994940971>6/3/2025 6:14‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Is it always reliable to retrieve lance sd with <em>rowid?

For my small dataset of only ~3500 rows that i fetched <em>rowid with 

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-python">        for batch in self.ds.scanner(
            columns=[&quot;height&quot;, &quot;width&quot;], with_row_id=True
        ).to_reader():
            h = batch.column(&quot;height&quot;).to_numpy()
            w = batch.column(&quot;width&quot;).to_numpy()
            ids = batch.column(&quot;_rowid&quot;).to_pylist()</code>

In my map dataset i would get 

```python
    def __getitems</em></em>(self, indices: List[int]):
        tbl = self.ds.take(indices, columns=self._cols).to_pydict()
        B = len(indices)
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">it makes very little sense why i would get `18446744073709551615` as rowid that even overflows int32, while my other lance dataset with only ~20 rows worked fine (and the ~20 row lance dataset only have 0 to 19 rowid)</code>
[rank0]: OSError: Invalid user input: _rowaddr belongs to non-existent fragment: 18446744073709551615, /home/runner/work/lance/lance/rust/lance/src/dataset/take.rs:157:17
``<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">

Am i reading RowAddress::TOMBSTONE_ROW, because the underlying lance file might have went through deletion?

calling </code>_take_rows<code class="chatlog__markdown-pre chatlog__markdown-pre--inline"> instead of </code>.take()` is working for me now but im not sure if that&#39;s too hacky or using internal only APIs</span> <span class=chatlog__edited-timestamp title="Tuesday, June 3, 2025 6:36‚ÄØPM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1379589647654588517 class=chatlog__message-container data-message-id=1379589647654588517><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/563570148657725454/28a9ae152a738e2148beadcee67745d1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jdnuva data-user-id=563570148657725454>jd</span> <span class=chatlog__timestamp title="Tuesday, June 3, 2025 6:36‚ÄØPM"><a href=#chatlog__message-container-1379589647654588517>6/3/2025 6:36‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><img
    loading="lazy"
    class="chatlog__emoji chatlog__emoji--large"
    alt="thinkies"
    title="thinkies"
    src="https://cdn.discordapp.com/emojis/1013540050761429053.png"></span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1379590908130885777 class=chatlog__message-container data-message-id=1379590908130885777><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/278977272734810123/6f7c19ff44405abffd2e8ddb2ad04284.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=wpace data-user-id=278977272734810123>WestonPace</span> <span class=chatlog__timestamp title="Tuesday, June 3, 2025 6:41‚ÄØPM"><a href=#chatlog__message-container-1379590908130885777>6/3/2025 6:41‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yes, that looks like a tombstone.  It&#39;s pretty normal to see row ids exceed 32 bits because, by default, the row id is the row address which is two u32 numbers mashed together where the upper 32 bits is the fragment id and the lower 32 is the offset in that fragment.

<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">_take_rows</code> is safe (and what you&#39;ll want to use) as long as you&#39;re reading the same version you used to get the row ids.

So for max safety, when you create a list of row ids for your dataset, you should probably capture the dataset version as well and then make sure that all following operations (such as <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">_take_rows</code>) happen against that version.

In particular, these two operations can affect row ids (by default):
<ul><li>Compaction will move rows to a new fragment, changing their row id</li><li>Updates will move a row value to a new fragment, changing its row id</li></ul></span> <span class=chatlog__edited-timestamp title="Tuesday, June 3, 2025 6:41‚ÄØPM">(edited)</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1379598147310845963 class=chatlog__message-container data-message-id=1379598147310845963><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/563570148657725454/28a9ae152a738e2148beadcee67745d1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jdnuva data-user-id=563570148657725454>jd</span> <span class=chatlog__timestamp title="Tuesday, June 3, 2025 7:10‚ÄØPM"><a href=#chatlog__message-container-1379598147310845963>6/3/2025 7:10‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Thanks! This makes sense. Another question -- my lance ds + torch StatefulDataLoader that takes dataset that loads lance path as <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">ds</code> only works when number_worker=0 under <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">spawn</code> mode of multiprocessing, is there a recommended way to make it work well with multiple dataloader worker on the same lance path?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1379620602264162384 class=chatlog__message-container data-message-id=1379620602264162384><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/563570148657725454/28a9ae152a738e2148beadcee67745d1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jdnuva data-user-id=563570148657725454>jd</span> <span class=chatlog__timestamp title="Tuesday, June 3, 2025 8:39‚ÄØPM"><a href=#chatlog__message-container-1379620602264162384>6/3/2025 8:39‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>ALso -- 

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">[rank0]: OSError: Invalid user input: Invalid read params Indices(409,481,871,1883) for fragment with 128 addressable rows, /home/runner/work/lance/lance/rust/lance/src/dataset/fragment.rs:2038:17</code>

When i really tried to do random access and my default framgment size = 128 in this case, lance seems to assume random access by id cannot exceed one fragment ?</span></div></div></div></div><div id=chatlog__message-container-1379620742668488846 class=chatlog__message-container data-message-id=1379620742668488846><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, June 3, 2025 8:40‚ÄØPM">8:40‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>(my small lance file is ~3500 rows with each fragment containing 128 rows but im intentionally doing global random access and shuffling of row_ids)</span></div></div></div></div><div id=chatlog__message-container-1379621014111129681 class=chatlog__message-container data-message-id=1379621014111129681><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__short-timestamp title="Tuesday, June 3, 2025 8:41‚ÄØPM">8:41‚ÄØPM</div></div><div class=chatlog__message-primary><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>or maybe instead of row_ids that i should use row_address instead ...</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1379874355550486619 class=chatlog__message-container data-message-id=1379874355550486619><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/762192026653294603/0777b1b2252f5f54629d0b5ef334f9fd.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/563570148657725454/28a9ae152a738e2148beadcee67745d1.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=jdnuva>jd</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1379620602264162384')"> ALso -- 

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">[rank0]: OSError: Invalid user input: Invalid read params Indices(409,481,871,1883) for fragment with 128 addressable rows, /home/runner/work/lance/lance/rust/lance/src/dataset/fragment.rs:2038:17</code>

When i really tried to do random access and my default framgment size = 128 in this case, lance seems to assume random access by id cannot exceed one fragment ? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=jackye8397 data-user-id=762192026653294603>Jack Ye</span> <span class=chatlog__timestamp title="Wednesday, June 4, 2025 1:28‚ÄØPM"><a href=#chatlog__message-container-1379874355550486619>6/4/2025 1:28‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Could you share what exactly have you run? For rust there is a dataset.take which auto converts the row indices into row addresses (row ids), which is a combined u64 made from fragment ID and row position in the fragment. There is also dataset.take_rows which does not do the conversion. Feels like you have run the second one.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1379874619233931326 class=chatlog__message-container data-message-id=1379874619233931326><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/563570148657725454/28a9ae152a738e2148beadcee67745d1.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=jdnuva data-user-id=563570148657725454>jd</span> <span class=chatlog__timestamp title="Wednesday, June 4, 2025 1:29‚ÄØPM"><a href=#chatlog__message-container-1379874619233931326>6/4/2025 1:29‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Thanks <span class="chatlog__markdown-mention" title="jackye8397">@Jack Ye</span> ! Mind if I just DM you the code? It was super confusing for a while that i ended up jumping between multiple lance APIs</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1379874677123452950 class=chatlog__message-container data-message-id=1379874677123452950><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/762192026653294603/0777b1b2252f5f54629d0b5ef334f9fd.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/563570148657725454/28a9ae152a738e2148beadcee67745d1.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=jdnuva>jd</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1379874619233931326')"> Thanks <span class="chatlog__markdown-mention" title="jackye8397">@Jack Ye</span> ! Mind if I just DM you the code? It was super confusing for a while that i ended up jumping between multiple lance APIs </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=jackye8397 data-user-id=762192026653294603>Jack Ye</span> <span class=chatlog__timestamp title="Wednesday, June 4, 2025 1:29‚ÄØPM"><a href=#chatlog__message-container-1379874677123452950>6/4/2025 1:29‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>sure thing</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1379875404093063250 class=chatlog__message-container data-message-id=1379875404093063250><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/762192026653294603/0777b1b2252f5f54629d0b5ef334f9fd.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/563570148657725454/28a9ae152a738e2148beadcee67745d1.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author title=jdnuva>jd</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1379598147310845963')"> Thanks! This makes sense. Another question -- my lance ds + torch StatefulDataLoader that takes dataset that loads lance path as <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">ds</code> only works when number_worker=0 under <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">spawn</code> mode of multiprocessing, is there a recommended way to make it work well with multiple dataloader worker on the same lance path? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=jackye8397 data-user-id=762192026653294603>Jack Ye</span> <span class=chatlog__timestamp title="Wednesday, June 4, 2025 1:32‚ÄØPM"><a href=#chatlog__message-container-1379875404093063250>6/4/2025 1:32‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>each worker could have its own Lance dataset and commit concurrently. But probably also need more details about your exact setup.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1381662543596097576 class=chatlog__message-container data-message-id=1381662543596097576><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/450149838798192650/6f70b527804b65dcf65e56871b651e06.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=turtlesallthewaydown. data-user-id=450149838798192650>Jacob</span> <span class=chatlog__timestamp title="Monday, June 9, 2025 11:53‚ÄØAM"><a href=#chatlog__message-container-1381662543596097576>6/9/2025 11:53‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I‚Äôm evaluating using Lance for petabyte-scale operations. I have a lot of questions, but maybe the most concrete and interesting one for me right now is:

I do data augmentation on existing data at a large scale. I need to be able to add multiple columns to a table in a distributed way. E.g. I‚Äôll have a thousand distributed workers generating depth maps or something and I want to add them to an existing lepton table. What is the way to do that? The docs hint at a way which involves adding an empty column first and then I‚Äôm not sure what to do</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1381775667976470562 class=chatlog__message-container data-message-id=1381775667976470562><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=qian_00349 data-user-id=1139637723725041674>Qian</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, June 9, 2025 7:23‚ÄØPM"> <a href=#chatlog__message-container-1381775667976470562>6/9/2025 7:23‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1381829050137579583 class=chatlog__message-container data-message-id=1381829050137579583><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/807992624015343667/285ced4aa774c1a0271d990fd4575478.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=true_name data-user-id=807992624015343667>Kevin Muto</span> <span class=chatlog__timestamp title="Monday, June 9, 2025 10:55‚ÄØPM"><a href=#chatlog__message-container-1381829050137579583>6/9/2025 10:55‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I&#39;d love to know if there are plans to evaluate FastPlaid/PLAID for multivector indexing. they claim 45x speedups for CPU
<a href="https://github.com/lightonai/fast-plaid">https://github.com/lightonai/fast-plaid</a>
<a href="https://arxiv.org/abs/2205.09707">https://arxiv.org/abs/2205.09707</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lightonai/fast-plaid><div class="chatlog__markdown chatlog__markdown-preserve">GitHub - lightonai/fast-plaid: High-Performance Engine for Multi-Ve...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">High-Performance Engine for Multi-Vector Search. Contribute to lightonai/fast-plaid development by creating an account on GitHub.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/9vxdcoj4XUVSSmPz4QB5NJOeJ1o5vFH_kxRtC1pNQHE/https/opengraph.githubassets.com/a0da205c994b1482c4e814436058e3e73a2b74fed15206e665442e639c574ca7/lightonai/fast-plaid> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/9vxdcoj4XUVSSmPz4QB5NJOeJ1o5vFH_kxRtC1pNQHE/https/opengraph.githubassets.com/a0da205c994b1482c4e814436058e3e73a2b74fed15206e665442e639c574ca7/lightonai/fast-plaid alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(255,255,255,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://arxiv.org/abs/2205.09707><div class="chatlog__markdown chatlog__markdown-preserve">PLAID: An Efficient Engine for Late Interaction Retrieval</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Pre-trained language models are increasingly important components across multiple information retrieval (IR) paradigms. Late interaction, introduced with the ColBERT model and recently refined in ColBERTv2, is a popular paradigm that holds state-of-the-art status across many benchmarks. To dramatically speed up the search latency of late interac...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/HUrD-HZewQUxSbAMnSSFsIbyHy5XOTAomBRxj_HAOMc/https/static.arxiv.org/icons/twitter/arxiv-logo-twitter-square.png> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/HUrD-HZewQUxSbAMnSSFsIbyHy5XOTAomBRxj_HAOMc/https/static.arxiv.org/icons/twitter/arxiv-logo-twitter-square.png alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1381866136383000651 class=chatlog__message-container data-message-id=1381866136383000651><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=qian_00349 data-user-id=1139637723725041674>Qian</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, June 10, 2025 1:22‚ÄØAM"> <a href=#chatlog__message-container-1381866136383000651>6/10/2025 1:22‚ÄØAM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1385724973192319146 class=chatlog__message-container data-message-id=1385724973192319146><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/569691375386492949/bd57241d26dc6bc619408a4891df0f68.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=haocheng001 data-user-id=569691375386492949>Haocheng Liu</span> <span class=chatlog__timestamp title="Friday, June 20, 2025 4:56‚ÄØPM"><a href=#chatlog__message-container-1385724973192319146>6/20/2025 4:56‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, on github is there a way for outside committers to kick the CI/CID pipelines again?
I suspect <a href="https://github.com/lancedb/lance/pull/3967">some of the failures</a> i got a flaky, so far I muck around with commit messages to retrigger the workflow which is not the best
moreover, how can i ssh into the worker to debug it? it will be especially useful since most of devs  do not have all hardware buildups</span> <span class=chatlog__edited-timestamp title="Friday, June 20, 2025 5:13‚ÄØPM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1385751225500434639 class=chatlog__message-container data-message-id=1385751225500434639><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, June 20, 2025 6:40‚ÄØPM"> <a href=#chatlog__message-container-1385751225500434639>6/20/2025 6:40‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1387743066135461909 class=chatlog__message-container data-message-id=1387743066135461909><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/879673564272422913/df5be17aab64ac8787cb13e24b8acea4.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=holydc data-user-id=879673564272422913>holydc</span> <span class=chatlog__timestamp title="Thursday, June 26, 2025 6:35‚ÄØAM"><a href=#chatlog__message-container-1387743066135461909>6/26/2025 6:35‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, when running <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">add</code> and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">optimize</code> simultaneously, it&#39;s highly possible to get errors like this:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">lance error: Query Execution error: Execution error: Wrapped error: LanceError(IO): Generic N/A error: Cloned error: Cloned error: LanceError(IO): Object at location E:\test\py\.lancedb\table.lance\data\f2db4c4b-7229-4a5d-8b04-e23a15232b83.lance not found: The system cannot find the file specified. (os error 2), C:\Users\runneradmin\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\lance-io-0.30.0\src\object_reader.rs:222:51, /rustc/05f9846f893b09a1be1fc8560e33fc3c815cfecb\library\core\src\result.rs:1733:29, /rustc/05f9846f893b09a1be1fc8560e33fc3c815cfecb\library\core\src\result.rs:1733:29, /rustc/05f9846f893b09a1be1fc8560e33fc3c815cfecb\library\core\src\ops\function.rs:250:5, C:\Users\runneradmin\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\lance-io-0.30.0\src\scheduler.rs:398:27, /rustc/05f9846f893b09a1be1fc8560e33fc3c815cfecb\library\core\src\task\poll.rs:290:44</code>
It seems that some fragments&#39; file names in the dataset are outdated.
I&#39;m trying to add locks to block <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">add</code>s while <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">optimize</code> is running, but do you have any other suggestions?
This is my <a href="https://www.online-python.com/8W7JBSUPmD">code</a> and I ran them in multiple processes.</span></div><div class=chatlog__embed><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://www.online-python.com/8W7JBSUPmD><div class="chatlog__markdown chatlog__markdown-preserve">Online Python - IDE, Editor, Compiler, Interpreter</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Build and Run your Python code instantly. Online-Python is a quick and easy tool that helps you to build, compile, test your python programs.</div></div></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1387934058155348093 class=chatlog__message-container data-message-id=1387934058155348093><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Thursday, June 26, 2025 7:14‚ÄØPM"> <a href=#chatlog__message-container-1387934058155348093>6/26/2025 7:14‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1410136720321544194 class=chatlog__message-container data-message-id=1410136720321544194><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyneton data-user-id=1385118473323286548>Skynet</span> <span class=chatlog__timestamp title="Wednesday, August 27, 2025 1:39‚ÄØAM"><a href=#chatlog__message-container-1410136720321544194>8/27/2025 1:39‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://github.com/lancedb/lancedb-mcp-server">https://github.com/lancedb/lancedb-mcp-server</a> - can you improve this? Helps with prototyping larger projects.</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb-mcp-server><div class="chatlog__markdown chatlog__markdown-preserve">GitHub - lancedb/lancedb-mcp-server</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Contribute to lancedb/lancedb-mcp-server development by creating an account on GitHub.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/wp017jbRtj9DcFbmsxDdDfa6uVXb4JLACpl3F2JOV6M/https/opengraph.githubassets.com/6001ea5caba929a9e2accd70c5f95fe7e4c6186b73c39ae43961f72759bfe596/lancedb/lancedb-mcp-server> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/wp017jbRtj9DcFbmsxDdDfa6uVXb4JLACpl3F2JOV6M/https/opengraph.githubassets.com/6001ea5caba929a9e2accd70c5f95fe7e4c6186b73c39ae43961f72759bfe596/lancedb/lancedb-mcp-server alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1410137197725749299 class=chatlog__message-container data-message-id=1410137197725749299><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1032079688887189556/9d9cd1c2872874160d9f8e2f6dd766a5.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=skyneton>Skynet</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1410136720321544194')"> <a href="https://github.com/lancedb/lancedb-mcp-server">https://github.com/lancedb/lancedb-mcp-server</a> - can you improve this? Helps with prototyping larger projects. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=ayushexel data-user-id=1032079688887189556>AyushC</span> <span class=chatlog__timestamp title="Wednesday, August 27, 2025 1:41‚ÄØAM"><a href=#chatlog__message-container-1410137197725749299>8/27/2025 1:41‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Any specific features we should add? We can prioritise features that would helpful for larger projects</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1410141031403360298 class=chatlog__message-container data-message-id=1410141031403360298><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=skyneton data-user-id=1385118473323286548>Skynet</span> <span class=chatlog__timestamp title="Wednesday, August 27, 2025 1:57‚ÄØAM"><a href=#chatlog__message-container-1410141031403360298>8/27/2025 1:57‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>One thing is to enable MCP to connect to LanceDB cloud. And probably enhance the LanceDB  features that the LLM ca get to through the MCP server. Just make the interface smarter. Thank you!</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1410141397851308072 class=chatlog__message-container data-message-id=1410141397851308072><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/1032079688887189556/9d9cd1c2872874160d9f8e2f6dd766a5.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=skyneton>Skynet</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1410141031403360298')"> One thing is to enable MCP to connect to LanceDB cloud. And probably enhance the LanceDB  features that the LLM ca get to through the MCP server. Just make the interface smarter. Thank you! </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=ayushexel data-user-id=1032079688887189556>AyushC</span> <span class=chatlog__timestamp title="Wednesday, August 27, 2025 1:58‚ÄØAM"><a href=#chatlog__message-container-1410141397851308072>8/27/2025 1:58‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>thanks. tracking it here - <a href="https://github.com/lancedb/lancedb-mcp-server/issues/3">https://github.com/lancedb/lancedb-mcp-server/issues/3</a></span> <span class=chatlog__edited-timestamp title="Wednesday, August 27, 2025 1:58‚ÄØAM">(edited)</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1411463754612215888 class=chatlog__message-container data-message-id=1411463754612215888><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=andrijazz data-user-id=786295637913108480>andrijazz</span> <span class=chatlog__timestamp title="Saturday, August 30, 2025 5:33‚ÄØPM"><a href=#chatlog__message-container-1411463754612215888>8/30/2025 5:33‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://github.com/lancedb/lance-ray/pull/21/files">https://github.com/lancedb/lance-ray/pull/21/files</a>

Has anyone tried to update lance table with embeddings using this ray add_columns api?</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance-ray/pull/21/files><div class="chatlog__markdown chatlog__markdown-preserve">feat: implement add_columns function for Lance datasets by jiaoew19...</div></a></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/Kx3Z3pSjp18qqAuJ9Ivvm1rnCzM7EcyjLiQrqpKYMSA/%3Fs%3D400%26v%3D4/https/avatars.githubusercontent.com/u/2297455> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/Kx3Z3pSjp18qqAuJ9Ivvm1rnCzM7EcyjLiQrqpKYMSA/%3Fs%3D400%26v%3D4/https/avatars.githubusercontent.com/u/2297455 alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1412153628994568244 class=chatlog__message-container data-message-id=1412153628994568244><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/296428423490961429/26bfdab6fe2699d4a18cc40b4763b552.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=npip99 data-user-id=296428423490961429>npip99</span> <span class=chatlog__timestamp title="Monday, September 1, 2025 3:14‚ÄØPM"><a href=#chatlog__message-container-1412153628994568244>9/1/2025 3:14‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve><a href="https://lancedb.github.io/lancedb/guides/storage/#dynamodb-commit-store-for-concurrent-writes">https://lancedb.github.io/lancedb/guides/storage/#dynamodb-commit-store-for-concurrent-writes</a>

This is still in the docs, does lancedb support conditional write on S3 yet? It&#39;s been out for a while now.

<a href="https://github.com/lancedb/lancedb/issues/1614">https://github.com/lancedb/lancedb/issues/1614</a>
Seems like maybe it was resolved but just trying to use the docs as source-of-truth.</span> <span class=chatlog__edited-timestamp title="Monday, September 1, 2025 3:15‚ÄØPM">(edited)</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1412449013164146764 class=chatlog__message-container data-message-id=1412449013164146764><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=xuanwo data-user-id=676283050434232365>Xuanwo</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, September 2, 2025 10:48‚ÄØAM"> <a href=#chatlog__message-container-1412449013164146764>9/2/2025 10:48‚ÄØAM</a> </span></div></div></div><div id=chatlog__message-container-1412467173032591370 class=chatlog__message-container data-message-id=1412467173032591370><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=xuanwo data-user-id=676283050434232365>Xuanwo</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Tuesday, September 2, 2025 12:00‚ÄØPM"> <a href=#chatlog__message-container-1412467173032591370>9/2/2025 12:00‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1412772313082101772 class=chatlog__message-container data-message-id=1412772313082101772><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/320274990526234624/9e5a8e6e0e63c6b3d02e0c46737f4e9c.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=lanarak data-user-id=320274990526234624>Lanarak</span> <span class=chatlog__timestamp title="Wednesday, September 3, 2025 8:12‚ÄØAM"><a href=#chatlog__message-container-1412772313082101772>9/3/2025 8:12‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>What do you think about adding the possibility to do multivector reranking of hybrid queries? Would there be merit to it?</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1419234659220328470 class=chatlog__message-container data-message-id=1419234659220328470><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/5.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=egasimov data-user-id=716316562813878292>Elchin Gasimov</span> <span class=chatlog__timestamp title="Sunday, September 21, 2025 4:11‚ÄØAM"><a href=#chatlog__message-container-1419234659220328470>9/21/2025 4:11‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi team, I have noticed the lancedb missing golang sdk support. and decided to add it. <img
    loading="lazy"
    class="chatlog__emoji "
    alt="üòä"
    title="blush"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f60a.svg">

Feel free to check and review MR <img
    loading="lazy"
    class="chatlog__emoji "
    alt="üöÄ"
    title="rocket"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f680.svg"> 

<a href="https://github.com/lancedb/lancedb/pull/2669">https://github.com/lancedb/lancedb/pull/2669</a> feat:add golang sdk (#2668) by egasimov &#183; Pull Request #2669 &#183; lancedb/lancedb &#183; GitHub</span> <span class=chatlog__edited-timestamp title="Sunday, September 21, 2025 4:13‚ÄØAM">(edited)</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb/pull/2669><div class="chatlog__markdown chatlog__markdown-preserve">feat:add golang sdk (#2668) by egasimov &#183; Pull Request #2669 &#183; la...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Hi team, in this MR, Golang SDK support is added. (Feature: Add Golang SDK support #2668)
What&amp;amp;#39;s done

Create golang SDK in which Rust bindings created rather than implementing features fro...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/bCPO2Wub2_2cGeYYLrJoqywkXUe2ItJgVBB_5hG724I/https/opengraph.githubassets.com/14789947d9709dfb5e0cce3c939327232299f5c62b0673e4d4bbc90362d2ca20/lancedb/lancedb/pull/2669> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/bCPO2Wub2_2cGeYYLrJoqywkXUe2ItJgVBB_5hG724I/https/opengraph.githubassets.com/14789947d9709dfb5e0cce3c939327232299f5c62b0673e4d4bbc90362d2ca20/lancedb/lancedb/pull/2669 alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=fire><img class="chatlog__emoji chatlog__emoji--small" alt=üî• src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1419718546727899191 class=chatlog__message-container data-message-id=1419718546727899191><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=changkhiskhan data-user-id=1029794695418761228>changhiskhan</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, September 22, 2025 12:14‚ÄØPM"> <a href=#chatlog__message-container-1419718546727899191>9/22/2025 12:14‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1421937232637595690 class=chatlog__message-container data-message-id=1421937232637595690><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/5.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=egasimov data-user-id=716316562813878292>Elchin Gasimov</span> <span class=chatlog__timestamp title="Sunday, September 28, 2025 3:10‚ÄØPM"><a href=#chatlog__message-container-1421937232637595690>9/28/2025 3:10‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi <span class="chatlog__markdown-mention" style="color: rgb(230, 126, 34); background-color: rgba(230, 126, 34, 0.1);">@lancedb-team</span> ,

I‚Äôd like to get your thoughts on the following topic.

Context
The lancedb-go SDK relies on Rust bindings, which are statically linked (rather than dynamically, due to OS security and signing restrictions).

In the release pipeline, my initial idea was to build platform-specific binaries and include them in the repository so that users could fetch them automatically when running:

go get github.com/lancedb/lancedb-go

Challenges
    ‚Ä¢    The binaries are quite large (‚â•800 MB each).
    ‚Ä¢    Pushing them to the repository causes issues such as Git timeouts and exceeding GitHub‚Äôs file size limits.
    ‚Ä¢    This approach also significantly increases the repository size.
(Example run: <a href="https://github.com/lancedb/lancedb-go/actions/runs/18073353856)">https://github.com/lancedb/lancedb-go/actions/runs/18073353856)</a>

Alternative Approach
Instead of committing the binaries to the repo, we could build platform-dependent binaries and attach them to the GitHub Release section. Users would then need to download the appropriate binary manually before building their Go project, e.g.:

curl -L &lt;link-to-v0.1.0-GOOS-GOARCH&gt; -o &lt;expected-directory&gt;

Question
Do you think this is a reasonable approach, or is there a better way to handle these large platform-dependent binaries? Any suggestions or alternative ideas would be greatly appreciated.</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb-go/actions/runs/18073353856)><div class="chatlog__markdown chatlog__markdown-preserve">fix: Makefile &#183; lancedb/lancedb-go@f347536</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">LanceDB Go SDK. Contribute to lancedb/lancedb-go development by creating an account on GitHub.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/ZXH5yE_bxFvi_MQMy4ABO_BHyvamp_paEw9fXun1cHw/https/opengraph.githubassets.com/e69d4cd959e26243004e9b5b6c6b19b12af917e5b2af98e579b3211b7e4c68e9/lancedb/lancedb-go> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/ZXH5yE_bxFvi_MQMy4ABO_BHyvamp_paEw9fXun1cHw/https/opengraph.githubassets.com/e69d4cd959e26243004e9b5b6c6b19b12af917e5b2af98e579b3211b7e4c68e9/lancedb/lancedb-go alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1422051277428490241 class=chatlog__message-container data-message-id=1422051277428490241><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/5.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=egasimov>Elchin Gasimov</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1421937232637595690')"> Hi <span class="chatlog__markdown-mention" style="color: rgb(230, 126, 34); background-color: rgba(230, 126, 34, 0.1);">@lancedb-team</span> ,

I‚Äôd like to get your thoughts on the following topic.

Context
The lancedb-go SDK relies on Rust bindings, which are statically linked (rather than dynamically, due to OS security and signing restrictions).

In the release pipeline, my initial idea was to build platform-specific binaries and include them in the repository so that users could fetch them automatically when running:

go get github.com/lancedb/lancedb-go

Challenges
    ‚Ä¢    The binaries are quite large (‚â•800 MB each).
    ‚Ä¢    Pushing them to the repository causes issues such as Git timeouts and exceeding GitHub‚Äôs file size limits.
    ‚Ä¢    This approach also significantly increases the repository size.
(Example run: <a href="https://github.com/lancedb/lancedb-go/actions/runs/18073353856)">https://github.com/lancedb/lancedb-go/actions/runs/18073353856)</a>

Alternative Approach
Instead of committing the binaries to the repo, we could build platform-dependent binaries and attach them to the GitHub Release section. Users would then need to download the appropriate binary manually before building their Go project, e.g.:

curl -L &lt;link-to-v0.1.0-GOOS-GOARCH&gt; -o &lt;expected-directory&gt;

Question
Do you think this is a reasonable approach, or is there a better way to handle these large platform-dependent binaries? Any suggestions or alternative ideas would be greatly appreciated. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=cmccabe314 data-user-id=1403023033131860079>Colin McCabe</span> <span class=chatlog__timestamp title="Sunday, September 28, 2025 10:44‚ÄØPM"><a href=#chatlog__message-container-1422051277428490241>9/28/2025 10:44‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yeah, it seems reasonable to store large binaries as  &#39;releases&#39;  rather than put them into git. It should be possible to downlaod them automatically via curl, like you said.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1422262230459748408 class=chatlog__message-container data-message-id=1422262230459748408><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, September 29, 2025 12:42‚ÄØPM"> <a href=#chatlog__message-container-1422262230459748408>9/29/2025 12:42‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1433568337220075561 class=chatlog__message-container data-message-id=1433568337220075561><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=immaculate_star_17039 data-user-id=1345646860496277514>Sen</span> <span class=chatlog__timestamp title="Thursday, October 30, 2025 5:28‚ÄØPM"><a href=#chatlog__message-container-1433568337220075561>10/30/2025 5:28‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi <span class="chatlog__markdown-mention" title="xuanwo">@Xuanwo</span> I saw this repo that you created. <a href="https://github.com/lancedb/lance-duckdb/tree/main">https://github.com/lancedb/lance-duckdb/tree/main</a>

I was wondering if you plan to publish the duckdb extension officially?</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance-duckdb/tree/main><div class="chatlog__markdown chatlog__markdown-preserve">GitHub - lancedb/lance-duckdb: The lance extensions for DuckDB enab...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">The lance extensions for DuckDB enable reading and writing of lance tables. - lancedb/lance-duckdb</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/bf7DHywXvoeYMedIat73UETBDkCq8j7nNsa7adCEGhs/https/opengraph.githubassets.com/33e474fab462c0b38457d96ef7c9dcd17800cc990e8a193bcc66adc3569f5a8f/lancedb/lance-duckdb> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/bf7DHywXvoeYMedIat73UETBDkCq8j7nNsa7adCEGhs/https/opengraph.githubassets.com/33e474fab462c0b38457d96ef7c9dcd17800cc990e8a193bcc66adc3569f5a8f/lancedb/lance-duckdb alt=Thumbnail loading=lazy> </a></div></div></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1433586975578788003 class=chatlog__message-container data-message-id=1433586975578788003><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/676283050434232365/a5f558238fbfa883db78b1d945f0d97e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=immaculate_star_17039>Sen</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1433568337220075561')"> Hi <span class="chatlog__markdown-mention" title="xuanwo">@Xuanwo</span> I saw this repo that you created. <a href="https://github.com/lancedb/lance-duckdb/tree/main">https://github.com/lancedb/lance-duckdb/tree/main</a>

I was wondering if you plan to publish the duckdb extension officially? </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=xuanwo data-user-id=676283050434232365>Xuanwo</span> <span class=chatlog__timestamp title="Thursday, October 30, 2025 6:42‚ÄØPM"><a href=#chatlog__message-container-1433586975578788003>10/30/2025 6:42‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Yep, that‚Äôs the ultimate goal.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1433588894884171796 class=chatlog__message-container data-message-id=1433588894884171796><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src="https://cdn.discordapp.com/avatars/676283050434232365/a5f558238fbfa883db78b1d945f0d97e.png?size=512" alt=Avatar loading=lazy><div class=chatlog__reply-author style=color:rgb(230,126,34) title=xuanwo>Xuanwo</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1433586975578788003')"> Yep, that‚Äôs the ultimate goal. </span></div></div><div class=chatlog__header><span class=chatlog__author title=immaculate_star_17039 data-user-id=1345646860496277514>Sen</span> <span class=chatlog__timestamp title="Thursday, October 30, 2025 6:50‚ÄØPM"><a href=#chatlog__message-container-1433588894884171796>10/30/2025 6:50‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Thanks. How much gap remaining? Anything I can help to make it happen sooner? 
For context I am building a multimodal Data IDE using columnar storage like parquet and lance, and it runs a lot of SQL queries with duckdb. If lance become an official extension for duckdb, then it will make coding cleaner.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1433589331771002932 class=chatlog__message-container data-message-id=1433589331771002932><div class=chatlog__message><div class=chatlog__message-aside><div class=chatlog__reply-symbol></div><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/676283050434232365/a5f558238fbfa883db78b1d945f0d97e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__reply><img class=chatlog__reply-avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy><div class=chatlog__reply-author title=immaculate_star_17039>Sen</div><div class=chatlog__reply-content><span class=chatlog__reply-link onclick="scrollToMessage(event,'1433588894884171796')"> Thanks. How much gap remaining? Anything I can help to make it happen sooner? 
For context I am building a multimodal Data IDE using columnar storage like parquet and lance, and it runs a lot of SQL queries with duckdb. If lance become an official extension for duckdb, then it will make coding cleaner. </span></div></div><div class=chatlog__header><span class=chatlog__author style=color:rgb(230,126,34) title=xuanwo data-user-id=676283050434232365>Xuanwo</span> <span class=chatlog__timestamp title="Thursday, October 30, 2025 6:52‚ÄØPM"><a href=#chatlog__message-container-1433589331771002932>10/30/2025 6:52‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>The gap is a still big I guess. I‚Äôm willing to prepare a tracking issue for this project</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1433589530874875924 class=chatlog__message-container data-message-id=1433589530874875924><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/2.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=immaculate_star_17039 data-user-id=1345646860496277514>Sen</span> <span class=chatlog__timestamp title="Thursday, October 30, 2025 6:52‚ÄØPM"><a href=#chatlog__message-container-1433589530874875924>10/30/2025 6:52‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>OK. Thanks for the info, for now I will have separate code for lance and parquet.</span></div><div class=chatlog__reactions><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1436737468463579227 class=chatlog__message-container data-message-id=1436737468463579227><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/728637739565842516/cd9427b760c8536b23dda682c2e7079a.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=youssef_tharwat data-user-id=728637739565842516>Youssef</span> <span class=chatlog__timestamp title="Saturday, November 8, 2025 10:21‚ÄØAM"><a href=#chatlog__message-container-1436737468463579227>11/8/2025 10:21‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, super cool you&#39;re getting into graphs. How does the future look like for this project <a href="https://github.com/lancedb/lance-graph">https://github.com/lancedb/lance-graph</a> ?</span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lance-graph><div class="chatlog__markdown chatlog__markdown-preserve">GitHub - lancedb/lance-graph: Run Graph Queries with Lance</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Run Graph Queries with Lance. Contribute to lancedb/lance-graph development by creating an account on GitHub.</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/u03qir5dHKb6X_cw7TIiGv2z_LCjg6VOFXxEqwMAfFY/https/opengraph.githubassets.com/e88af856f90b959a72a017e17a04a154ecc39345fb728370a6f3e90c4b7a4cba/lancedb/lance-graph> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/u03qir5dHKb6X_cw7TIiGv2z_LCjg6VOFXxEqwMAfFY/https/opengraph.githubassets.com/e88af856f90b959a72a017e17a04a154ecc39345fb728370a6f3e90c4b7a4cba/lancedb/lance-graph alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=heart><img class="chatlog__emoji chatlog__emoji--small" alt=‚ù§Ô∏è src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/2764.svg loading=lazy> <span class=chatlog__reaction-count>2</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1436742769594073240 class=chatlog__message-container data-message-id=1436742769594073240><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Saturday, November 8, 2025 10:42‚ÄØAM"> <a href=#chatlog__message-container-1436742769594073240>11/8/2025 10:42‚ÄØAM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1447536333110251550 class=chatlog__message-container data-message-id=1447536333110251550><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/780667203967254529/c1140d00a052cf98d2ccd22cdc5ad6bf.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=btisback data-user-id=780667203967254529>btisback</span> <span class=chatlog__timestamp title="Monday, December 8, 2025 5:32‚ÄØAM"><a href=#chatlog__message-container-1447536333110251550>12/8/2025 5:32‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>I am deciding between going with Lance or Neon.   I would like to seek some suggestions: 
<ul><li>My usee would have multimodal data. Think there is a CRM like data table as one of the feature of app, and that table can have attachments that are pdf, images, along with normal columns. </li></ul><ul><li>I also want to store all decks, ppts, and other kinds of files in the storage. Don&#39;t think Lance is for that, as that could be in R2/S3, but would need RAG over it. LanceDB offers vector representation</li></ul>
However, my main concern is I am really starting to like Neon for its 2 things: 1. Managed Serverless DB (scales up/down) with in built Auth. 2) Branching and API first feature. Branching is perfect to rollback to any state of app (code + data). Plus all provisioning is via API (agent first architecture). Not sure if multimodal data can be stored there.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1447593459614748906 class=chatlog__message-container data-message-id=1447593459614748906><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Monday, December 8, 2025 9:19‚ÄØAM"> <a href=#chatlog__message-container-1447593459614748906>12/8/2025 9:19‚ÄØAM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1448141493918240779 class=chatlog__message-container data-message-id=1448141493918240779><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src=https://cdn.discordapp.com/embed/avatars/3.png alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=zhangyue19921010_60023 data-user-id=1437679166014226496>zhangyue19921010</span> <span class=chatlog__timestamp title="Tuesday, December 9, 2025 9:37‚ÄØPM"><a href=#chatlog__message-container-1448141493918240779>12/9/2025 9:37‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi Team, I have submitted PRs that enhance the capability of Lance Incremental Query, allowing users to specify Start/End timestamps and retrieve Upsert Rows (insert + update) at once. Could someone help review it? Thanks a lot in advance <img
    loading="lazy"
    class="chatlog__emoji "
    alt="üôÇ"
    title="slight_smile"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg">  <a href="https://github.com/lance-format/lance/issues/5445">https://github.com/lance-format/lance/issues/5445</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lance-format/lance/issues/5445><div class="chatlog__markdown chatlog__markdown-preserve">Enhance the capabilities of Lance Change Data Feed &#183; Issue #5445 ...</div></a></div><div class=chatlog__embed-description><div class="chatlog__markdown chatlog__markdown-preserve">Currently, CDF allows users to specify a begin version and an end version to retrieve incrementally inserted data or incrementally updated data. In fact, users often have the following requirements...</div></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/HCB5q17COAr9wAVbgKQsNLrQ8vHyXgvOtpL8kuC8-d4/https/opengraph.githubassets.com/614470487626860332f5b78310b5a6af28810630df3fe0d6e2e4895b9688cf5f/lance-format/lance/issues/5445> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/HCB5q17COAr9wAVbgKQsNLrQ8vHyXgvOtpL8kuC8-d4/https/opengraph.githubassets.com/614470487626860332f5b78310b5a6af28810630df3fe0d6e2e4895b9688cf5f/lance-format/lance/issues/5445 alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=fire><img class="chatlog__emoji chatlog__emoji--small" alt=üî• src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div><div class=chatlog__reaction title=thumbsup><img class="chatlog__emoji chatlog__emoji--small" alt=üëç src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg loading=lazy> <span class=chatlog__reaction-count>1</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1448396497090514945 class=chatlog__message-container data-message-id=1448396497090514945><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=wjones127 data-user-id=1107704233685434519>Will Jones</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Wednesday, December 10, 2025 2:30‚ÄØPM"> <a href=#chatlog__message-container-1448396497090514945>12/10/2025 2:30‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1449837668421734440 class=chatlog__message-container data-message-id=1449837668421734440><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/793045203728334858/315256d8a78f53051c9a6bbd4c6c9b0d.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=sagarmaruthi data-user-id=793045203728334858>Sagar</span> <span class=chatlog__timestamp title="Sunday, December 14, 2025 1:57‚ÄØPM"><a href=#chatlog__message-container-1449837668421734440>12/14/2025 1:57‚ÄØPM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>For my e-commerce search application, LanceDB is perfect expect one feature that is holding me back - the ability to sort results on a metadata field. Eg. Post hybrid search, the user would want to apply a sort for price low to high. Please let me know if there are any plans of this ability in the upcoming releases.</span></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1449852389468278888 class=chatlog__message-container data-message-id=1449852389468278888><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author style=color:rgb(230,126,34) title=prrao data-user-id=675128789646442557>prashanth</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Sunday, December 14, 2025 2:55‚ÄØPM"> <a href=#chatlog__message-container-1449852389468278888>12/14/2025 2:55‚ÄØPM</a> </span></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1454030097228238882 class=chatlog__message-container data-message-id=1454030097228238882><div class=chatlog__message><div class=chatlog__message-aside><img class=chatlog__avatar src="https://cdn.discordapp.com/avatars/816540203815665685/1d27d88a6cb9f6b155203ed61257284e.png?size=512" alt=Avatar loading=lazy></div><div class=chatlog__message-primary><div class=chatlog__header><span class=chatlog__author title=zhenghaoz data-user-id=816540203815665685>zhenghaoz</span> <span class=chatlog__timestamp title="Friday, December 26, 2025 3:36‚ÄØAM"><a href=#chatlog__message-container-1454030097228238882>12/26/2025 3:36‚ÄØAM</a></span></div><div class="chatlog__content chatlog__markdown"><span class=chatlog__markdown-preserve>Hi, can anyone help to review my PR on Go SDK<img
    loading="lazy"
    class="chatlog__emoji "
    alt="üòÄ"
    title="grinning"
    src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f600.svg"> :
<a href="https://github.com/lancedb/lancedb-go/pull/12">https://github.com/lancedb/lancedb-go/pull/12</a></span></div><div class=chatlog__embed><div class=chatlog__embed-color-pill style=background-color:rgba(30,35,39,255)></div><div class=chatlog__embed-content-container><div class=chatlog__embed-content><div class=chatlog__embed-text><div class=chatlog__embed-title><a class=chatlog__embed-title-link href=https://github.com/lancedb/lancedb-go/pull/12><div class="chatlog__markdown chatlog__markdown-preserve">implement <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">index_stats</code> and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">optimize</code> by zhenghaozzz &#183; Pull Reque...</div></a></div></div><div class=chatlog__embed-thumbnail-container><a class=chatlog__embed-thumbnail-link href=https://images-ext-1.discordapp.net/external/36jllej5g56TbNeHKJ6LwtfyP1lovo2IzpCTs1z7R5c/https/opengraph.githubassets.com/246f7093ad830070001581f3b438ab35127eff2de75c68d696ac68348dda33b8/lancedb/lancedb-go/pull/12> <img class=chatlog__embed-thumbnail src=https://images-ext-1.discordapp.net/external/36jllej5g56TbNeHKJ6LwtfyP1lovo2IzpCTs1z7R5c/https/opengraph.githubassets.com/246f7093ad830070001581f3b438ab35127eff2de75c68d696ac68348dda33b8/lancedb/lancedb-go/pull/12 alt=Thumbnail loading=lazy> </a></div></div></div></div><div class=chatlog__reactions><div class=chatlog__reaction title=eyes><img class="chatlog__emoji chatlog__emoji--small" alt=üëÄ src=https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f440.svg loading=lazy> <span class=chatlog__reaction-count>2</span></div></div></div></div></div></div>
<div class=chatlog__message-group><div id=chatlog__message-container-1454155002917552217 class=chatlog__message-container data-message-id=1454155002917552217><div class=chatlog__message><div class=chatlog__message-aside><svg class=chatlog__system-notification-icon><use href=#thread-icon></use></svg></div><div class=chatlog__message-primary><span class=chatlog__system-notification-author title=egasimov data-user-id=716316562813878292>Elchin Gasimov</span> <span> </span> <span class=chatlog__system-notification-content> <span>started a thread.</span> </span> <span class=chatlog__system-notification-timestamp title="Friday, December 26, 2025 11:52‚ÄØAM"> <a href=#chatlog__message-container-1454155002917552217>12/26/2025 11:52‚ÄØAM</a> </span></div></div></div></div>

</div>
<div class=postamble><div class=postamble__entry>Exported 454 message(s)</div><div class=postamble__entry>Timezone: UTC-5</div></div>
